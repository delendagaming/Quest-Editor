{"version":3,"sources":["components/layout/spinner.png","notredame.jpg","image assets/dialogue-default-background.jpg","image assets/path-default-background.jpg","image assets/riddle-default-question.jpg","image assets/riddle-default-answer.jpg","image assets/combat-default-background.jpg","image assets/Pointers catalogue/1.png","image assets/Pointers catalogue sync nonrecursive /.(png|jpe?g|svg)$","image assets/Pointers catalogue/2.png","image assets/Pointers catalogue/3.png","image assets/Pointers catalogue/4.png","image assets/Pointers catalogue/5.png","image assets/Pointers catalogue/6.png","image assets/Monsters catalogue/mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/mobs/1.png","image assets/Monsters catalogue/mobs/2.png","image assets/Monsters catalogue/mobs/3.png","image assets/Monsters catalogue/elite mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/elite mobs/1.png","image assets/Monsters catalogue/elite mobs/2.png","image assets/Monsters catalogue/elite mobs/3.png","image assets/Monsters catalogue/final bosses sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/final bosses/1.png","image assets/Monsters catalogue/final bosses/2.png","reducers/notifyReducer.js","reducers/depthLevelReducer.js","reducers/paragraphReducer.js","components/store.js","actions/types.js","components/layout/Spinner.js","helpers/auth.js","actions/notifyActions.js","components/layout/AppNavbar.js","components/questeditor/QuestEditorMenu.js","components/questeditor/CurrentDay.js","components/questeditor/questbuilder/QuestTemplate.js","components/questeditor/NewQuest.js","components/auth/Admin.js","components/questeditor/QuestsInProgress.js","components/questeditor/QuestsSubmitted.js","components/questeditor/questbuilder/NarrationInput.js","components/questeditor/questbuilder/DialogueInput.js","components/questeditor/questbuilder/PointersCatalogue.js","components/questeditor/questbuilder/PathInput.js","components/questeditor/questbuilder/RiddleInput.js","components/questeditor/questbuilder/MobMonsterCatalogue.js","components/questeditor/questbuilder/EliteMobMonsterCatalogue.js","components/questeditor/questbuilder/FinalBossMonsterCatalogue.js","components/questeditor/questbuilder/CombatInput.js","components/questeditor/questbuilder/LinkSelection.js","components/questeditor/questbuilder/Paragraph.js","actions/paragraphActions.js","components/questeditor/questbuilder/DepthLevel.js","components/questeditor/questbuilder/QuestBuilder.js","actions/depthLevelActions.js","components/questeditor/QuestDetails.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","components/TestChildClick.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","map","./1.png","./2.png","./3.png","./4.png","./5.png","./6.png","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","initialState","message","messageType","numDepthLevels","isGlobalSaving","paragraphNumberTotal","paragraphRegister","depthNumber","paragraphNumber","hasLinkToNextParagraph","hasLinkToPreviousParagraph","paragraphType","paragraphSubTypes","isSuddenDeath","isVictory","isFinalBossCombat","nextParagraphs","previousParagraphs","paragraphLinkRegister","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","store","compose","reactReduxFirebase","userProfile","useFirestoreForProfile","reduxFirestore","createStore","createStoreWithFirebase","combineReducers","firebaseReducer","firestoreReducer","notify","state","arguments","length","undefined","action","type","objectSpread","currentNumDepthLevels","console","log","numDepthLevelsFromFirestore","paragraphData","concat","paragraphToAddInRegister","paragraphsToUpdate","filter","el","index","paragraphToDeleteInRegister","paragraphsToUpdateFinal","forEach","push","paragraphBeforeUpdate","paragraphAfterUpdate","paragraphRegisterWithoutDeletedParagraph","toConsumableArray","UpdatedParagraphRegisterWithLinks","childParagraphAdd","find","paragraph","paragraphLinkToAddInLinkRegister","depthNumberOfLinkedParagraph","paragraphNumberOfLinkedParagraph","originalChildIndex","findIndex","parentParagraphAdd","originalParentIndex","UpdatedParagraphRegisterWithDeletedLinks","childParagraphRemove","paragraphLinkToRemoveInLinkRegister","previousParagraph","parentParagraphRemove","paragraphLink","paragraphToUpdateWithSuddenDeath","paragraphToSetToSuddenDeathInRegister","updatedRegisterWithSuddenDeath","paragraphToUpdateWithVictory","paragraphToSetToVictoryInRegister","updatedRegisterWithVictory","paragraphToUpdateWithFinalBoss","paragraphToSetToFinalBossInRegister","updatedRegisterWithFinalBoss","paragraphToUpdateWithType","paragraphToUpdateInRegisterWithType","clearedParagraphSubTypes","j","updatedRegisterWithParagraphType","paragraphToUpdateWithLinkStatus","paragraphToUpdateInRegisterWithLinkStatus","nextorprevious","status","updatedRegisterWithParagraphLinkStatus","paragraphRegisterFromFirestore","paragraphLinkRegisterFromFirestore","window","__REDUX_DEVTOOLS_EXTENSION__","f","Spinner","react_default","a","createElement","style","height","width","src","spinner","alt","display","position","top","left","transform","zIndex","locationHelper","locationHelperBuilder","UserIsAuthenticated","connectedRouterRedirect","wrapperDisplayName","AuthenticatingComponent","LoadingScreen","allowRedirectBack","redirectPath","ownProps","getRedirectQueryParam","authenticatingSelector","_ref","_ref$firebase","auth","isInitializing","profile","isLoaded","authenticatedSelector","_ref2","isEmpty","UserIsNotAuthenticated","_ref3","_ref3$firebase","_ref4","notifyUser","AppNavbar","isAuthenticated","onLogoutClick","_callee","_this$props","_this$props$notify","regenerator_default","wrap","_context","prev","next","preventDefault","_this","props","logout","stop","this","className","react_router_dom","to","data-toggle","data-target","href","aria-haspopup","aria-expanded","aria-labelledby","email","onClick","uid","Component","firebaseConnect","connect","QuestEditorMenu","user","currentUser","displayName","marginTop","margin","textAlign","curday","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","QuestTemplate","Title","Tags","Price","Level","Link","Location","Summary","NbParagraphs","CreationDate","LastEditDate","SubmissionDate","Status","ScribeID","ScribeName","ScribeEmail","Paragraphs","globalSaveCounter","NewQuest","onChange","setState","defineProperty","target","name","value","onSubmit","newQuest","result","add","collection","sent","history","paddingLeft","paddingRight","htmlFor","placeholder","backgroundColor","title","required","tags","price","level","link","location","paddingBottom","maxLength","rows","summary","firestoreConnect","questsInProgress","ordered","QuestsInProgress","Admins","questsInProgressTotal","questsInProgressFromScribeTotal","questsInProgressFromScribe","onDeleteClick","_callee2","storage","storageRef","questRef","questParagraphList","_context2","getAttribute","confirm","delete","doc","ref","child","listAll","prefixes","asyncToGenerator","mark","startingSoundAndImageFiles","outcomeSoundsFiles","outcomeImagesFiles","items","elem","soundFile","imageFile","_x2","apply","onSubmitClick","_callee3","questInProgress","_context3","alert","some","every","update","_this2","_this$state","questInProgressFromScribe","key","data-id","data-title","includes","quest","QuestsSubmitted","questsSubmittedTotal","questsSubmittedFromScribeTotal","onWithdrawClick","questSubmitted","questsSubmitted","questsSubmittedFromScribe","questSubmittedFromScribe","NarrationInput","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","narrationInputText","backgroundImageCounter","startingSoundCounter","outcomeSoundArray","componentDidMount","paragraphInFirestore","syncedOutcomeSoundArray","QuestUnderEdition","inputText","outcomeSoundURL","outcomeSoundCounter","rankInNextParagraphs","componentDidUpdate","prevProps","_x","loadStartingSound","file","files","size","bytesLimitForUploads","startingSound","document","getElementById","URL","createObjectURL","loadOutcomeSound","_callee4","newOutcomeSoundArray","_context4","parseInt","outcomeSound","_x3","setToSuddenDeath","setToVictory","deleteParagraph","saveParagraph","_ref5","_callee5","inputs","inputArray","resetOutcomeSoundArray","_context5","backgroundImage","_x4","loadBackgroundImage","bind","assertThisInitialized","selector","followingParagraph","fontWeight","fontSize","marginBottom","accept","rankinnextparagraphs","cursor","controls","paddingTop","startingSoundURL","backgroundImageURL","DefaultBackground","resize","justifyContent","checked","paragraphnumber","DialogueInput","dialogueInputText","indexOfDeletedNextParagraph","splice","onChangeInputText","onChangeOutcomeText","outcomeDepthNumber","outcomeParagraphNumber","nextParagraphsUpdated","nextParagraphToUpdate","outcomeText","changeOutcomeText","_ref6","_callee6","_context6","_x5","paragraphOutcomes","lineHeight","verticalAlign","data-depnum","data-parnum","overflowWrap","DialogueDefaultBackground","images","r","item","replace","importAll","require","PointersCatalogue","pointerArray","isSelected","selectPointer","pointerArrayWithSelection","currentTarget","children","pointersCatalogue","i","PathInput","pathInputText","selectedPointers","selectedPointersFromFirestore","selectedPointer","image","DefaultPointer","updatedSelectedPointers","_updatedSelectedPointers","_indexOfDeletedNextParagraph","isPointAndClickPath","setToPointAndClickPath","setToTextualPath","_ref7","_callee7","imageSRC","_context7","_x6","_x7","drag_start","_ref8","_callee8","event","pointerInMovement","offset_data","_context8","getComputedStyle","getPropertyValue","clientX","clientY","dataTransfer","setData","_x8","drag_over","offset","getData","split","drop","_ref9","_callee9","updatedSelectedPointersWithCoordinates","_context9","abrupt","_x9","draggablePointers","isTextualPath","k","maxHeight","overflowY","border","PointersCatalogue_PointersCatalogue","maxWidth","draggable","onDragStart","onDragOver","onDrop","DefaultPathBackground","RiddleInput","riddleInputText","outcomeImageArray","syncedOutcomeImageArray","outcomeImageURL","outcomeImageCounter","newOutcomeImageArray","setToGraphicalRiddle","setToTextualRiddle","inputArraySounds","inputArrayImages","resetOutcomeImageArray","loadOutcomeImage","outcomeImage","isTextualRiddle","isGraphicalRiddle","DefaultAnswer","DefaultRiddleQuestion","MobMonsterCatalogue","monsterArray","attackPoints","defensePoints","healthPoints","selectMonster","monsterArrayWithSelection","catalogue","fontStyle","marginLeft","CombatInput","selectedMonster","combatInputText","setToMobCombat","isMobCombat","setToEliteMobCombat","isEliteMobCombat","setToFinalBossCombat","monsterImage","updatedSelectedMonster","characteristics","_ref10","_callee10","monsterInMovement","_context10","_ref11","_callee11","updatedSelectedMonsterWithCoordinates","_context11","MonsterSelection","MobMonsterCatalogue_MobMonsterCatalogue","EliteMobMonsterCatalogue_MobMonsterCatalogue","FinalBossMonsterCatalogue_MobMonsterCatalogue","DefaultCombatBackground","LinkSelection","isLinked","toggleParagraphLink","parentNode","rank","Paragraph","isSaving","processOutcomeSounds","processOutcomeImages","_this$props2","nextParagraphsCopy","paragraphAlreadyInDatabase","paragraphRef","snapshot","gsReference","_snapshot","_gsReference","boundedprocessOutcomeSounds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_el","outcomeSoundsToUpdate","boundedprocessOutcomeImages","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_el2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_el3","outcomeImagesToUpdate","_args8","outcomeSounds","_processOutcomeSound","boundedprocessOutcomeSound","promises","uploadFile","refFromURL","uploadTaskSnapshot","metadata","bucket","fullPath","getDownloadURL","indexOf","Promise","all","outcomeImages","_processOutcomeImage","boundedprocessOutcomeImage","FieldValue","arrayRemove","Symbol","iterator","done","t0","return","finish","t1","t2","t3","arrayUnion","changeParagraphType","prevParagraphsInRegister","prevParagraphInRegister","stateWithClearedParagraphSubtypes","clearedNextParagraphs","tabs","parentElement","setParagraphTypeInRegister","updatedNextParagraph","updatedNextParagraphs","_ref12","_ref13","_x10","_ref14","_callee12","updatedStateSubTypes","_context12","setToSuddenDeathInRegister","_x11","_ref15","_callee13","_context13","setToVictoryInRegister","_x12","_ref16","_callee14","_context14","_x13","_ref17","_callee15","_context15","_x14","_ref18","_callee16","_context16","_x15","_ref19","_callee17","_context17","_x16","_ref20","_callee18","_context18","_x17","_ref21","_callee19","_context19","_x18","_ref22","_callee20","_context20","setToFinalBossInRegister","_x19","prevParagraph","addParagraphLink","removeParagraphLink","React","createRef","paragraphLinksSelection","nextParagraph","questbuilder_LinkSelection","newParagraphNumber","questbuilder_NarrationInput","questbuilder_DialogueInput","questbuilder_PathInput","questbuilder_RiddleInput","questbuilder_CombatInput","paragraphInRegister","indexOfDeletedParagraph","storeAs","questID","setParagraphLinkStatusInRegister","DepthLevel","onDeleteParagraph","paragraphID","parNumber","paragraphsUnchanged","paragraphToDeleteInDatabase","paragraphList","soundsFolder","imagesFolder","paragraphsInDepthLevel","decreaseParagraphFromTotal","paragraphsArray","cloneElement","questbuilder_Paragraph","uuid","v4","linkedParagraphs","paragraphsToPrint","parNumberArray","max","paragraphsArrayFromFirestore","reduce","b","Math","onAddParagraph","addParagraphToTotal","scrollIntoView","behavior","block","inline","onDeleteDepthLevel","getElementsByClassName","deleteDepthLevel","alignItems","overflowX","QuestBuilder","initialID","isLoading","onAddDepthLevel","targetScroll","addDepthLevel","scrollToTarget","decreaseDepthLevel","startingParagraph","match","params","syncRegistersInRedux","componentWillUnmount","clearQuestData","onSaveUnderEdition","saveInputElementsHTMLCollection","checkIfSavingIsFinished","checkHTMLCollection","setToGlobalSaving","Array","from","click","setTimeout","depthLevels","questbuilder_DepthLevel","react_router","float","marginRight","QuestDetails","questUpdate","TitleInput","current","TagsInput","PriceInput","LevelInput","LinkInput","LocationInput","SummaryInput","then","defaultValue","Alert","classnames","alert-ok","alert-failed","Login","password","login","catch","err","layout_Alert","Register","accountName","createUser","updateProfile","minLength","propTyopes","PropTypes","object","isRequired","func","AppComponent","numChildren","onAddChild","TestChildClick_ChildComponent","number","TestChildClick_ParentComponent","addChild","ParentComponent","ChildComponent","App","es","layout_AppNavbar","exact","path","component","Boolean","hostname","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b4a1b5d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.8e9c6f69.png\";","module.exports = __webpack_public_path__ + \"static/media/notredame.6adb7e36.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dialogue-default-background.839ae3da.jpg\";","module.exports = __webpack_public_path__ + \"static/media/path-default-background.f2992f47.jpg\";","module.exports = __webpack_public_path__ + \"static/media/riddle-default-question.a3df9d75.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/combat-default-background.01ec8566.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.853053d1.png\";","var map = {\n\t\"./1.png\": 40,\n\t\"./2.png\": 451,\n\t\"./3.png\": 452,\n\t\"./4.png\": 453,\n\t\"./5.png\": 454,\n\t\"./6.png\": 455\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 450;","module.exports = __webpack_public_path__ + \"static/media/2.8beca9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/3.ca3fbb30.png\";","module.exports = __webpack_public_path__ + \"static/media/4.d8564815.png\";","module.exports = __webpack_public_path__ + \"static/media/5.829bc12b.png\";","module.exports = __webpack_public_path__ + \"static/media/6.81b06248.png\";","var map = {\n\t\"./1.png\": 457,\n\t\"./2.png\": 458,\n\t\"./3.png\": 459\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 456;","module.exports = __webpack_public_path__ + \"static/media/1.f030e619.png\";","module.exports = __webpack_public_path__ + \"static/media/2.f83fcec0.png\";","module.exports = __webpack_public_path__ + \"static/media/3.a9361957.png\";","var map = {\n\t\"./1.png\": 461,\n\t\"./2.png\": 462,\n\t\"./3.png\": 463\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 460;","module.exports = __webpack_public_path__ + \"static/media/1.41a5c668.png\";","module.exports = __webpack_public_path__ + \"static/media/2.3e7de63b.png\";","module.exports = __webpack_public_path__ + \"static/media/3.aba8f8cf.png\";","var map = {\n\t\"./1.png\": 465,\n\t\"./2.png\": 466\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 464;","module.exports = __webpack_public_path__ + \"static/media/1.b01e5de6.png\";","module.exports = __webpack_public_path__ + \"static/media/2.adcced3f.png\";","import { NOTIFY_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  message: null,\r\n  messageType: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_USER:\r\n      return {\r\n        ...state,\r\n        message: action.message,\r\n        messageType: action.messageType\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA,\r\n  SYNC_REGISTERS_IN_REDUX\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  numDepthLevels: 1\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_DEPTH_LEVEL:\r\n      // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and adding one\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"sync with firestore\");\r\n        console.log(action.currentNumDepthLevels);\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels + 1\r\n        };\r\n      } else {\r\n        console.log(\"normal\");\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels + 1\r\n        };\r\n      }\r\n\r\n    // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and decreasing by one\r\n\r\n    case DECREASE_DEPTH_LEVEL:\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"option 1\");\r\n        console.log(action.currentNumDepthLevels);\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels - 1\r\n        };\r\n      } else {\r\n        console.log(\"option 2\");\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels - 1\r\n        };\r\n      }\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: 1\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: action.numDepthLevelsFromFirestore\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SET_TO_FINALBOSS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  CLEAR_QUEST_DATA,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isGlobalSaving: false,\r\n  paragraphNumberTotal: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_PARAGRAPH_TO_TOTAL:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal + 1,\r\n        paragraphRegister: state.paragraphRegister.concat(\r\n          action.paragraphToAddInRegister\r\n        )\r\n      };\r\n    case DECREASE_PARAGRAPH_FROM_TOTAL:\r\n      let paragraphsToUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return (\r\n          el.depthNumber === action.paragraphToDeleteInRegister.depthNumber &&\r\n          el.paragraphNumber >\r\n            action.paragraphToDeleteInRegister.paragraphNumber\r\n        );\r\n      });\r\n\r\n      let paragraphsToUpdateFinal = [];\r\n\r\n      paragraphsToUpdate.forEach(el => {\r\n        paragraphsToUpdateFinal.push({\r\n          depthNumber: action.paragraphToDeleteInRegister.depthNumber,\r\n          paragraphNumber: el.paragraphNumber - 1\r\n        });\r\n      });\r\n\r\n      // unchanged paragraphs with lower depth number or (same depth number + lower paragraph number)\r\n\r\n      let paragraphBeforeUpdate = state.paragraphRegister.filter(\r\n        (el, index) => {\r\n          return (\r\n            el.depthNumber < action.paragraphToDeleteInRegister.depthNumber ||\r\n            (el.paragraphNumber <\r\n              action.paragraphToDeleteInRegister.paragraphNumber &&\r\n              el.depthNumber === action.paragraphToDeleteInRegister.depthNumber)\r\n          );\r\n        }\r\n      );\r\n\r\n      // unchanged paragraphs with higher depth number\r\n\r\n      let paragraphAfterUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return el.depthNumber > action.paragraphToDeleteInRegister.depthNumber;\r\n      });\r\n\r\n      // combining all three arrays to have the new paragraphRegister without the deleted value and with adjusted paragraphNumbers where necessary\r\n      let paragraphRegisterWithoutDeletedParagraph = [\r\n        ...paragraphBeforeUpdate,\r\n        ...paragraphsToUpdateFinal,\r\n        ...paragraphAfterUpdate\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal - 1,\r\n        paragraphRegister: paragraphRegisterWithoutDeletedParagraph\r\n      };\r\n\r\n    case ADD_PARAGRAPH_LINK:\r\n      // shallow copies to circumvent object extensibility issues\r\n\r\n      let UpdatedParagraphRegisterWithLinks = [...state.paragraphRegister];\r\n\r\n      let childParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n        )\r\n      };\r\n      childParagraphAdd.previousParagraphs = [\r\n        ...childParagraphAdd.previousParagraphs\r\n      ];\r\n\r\n      childParagraphAdd.hasLinkToPreviousParagraph = true;\r\n      childParagraphAdd.previousParagraphs.push({\r\n        depthNumber:\r\n          action.paragraphLinkToAddInLinkRegister.depthNumberOfLinkedParagraph,\r\n        paragraphNumber:\r\n          action.paragraphLinkToAddInLinkRegister\r\n            .paragraphNumberOfLinkedParagraph\r\n      });\r\n\r\n      let originalChildIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[originalChildIndex] = childParagraphAdd;\r\n\r\n      let parentParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .depthNumberOfLinkedParagraph &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        )\r\n      };\r\n\r\n      parentParagraphAdd.nextParagraphs = [\r\n        ...parentParagraphAdd.nextParagraphs\r\n      ];\r\n\r\n      parentParagraphAdd.hasLinkToNextParagraph = true;\r\n      parentParagraphAdd.nextParagraphs.push({\r\n        depthNumber: action.paragraphLinkToAddInLinkRegister.depthNumber,\r\n        paragraphNumber: action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      });\r\n\r\n      let originalParentIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[\r\n        originalParentIndex\r\n      ] = parentParagraphAdd;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.concat(\r\n          action.paragraphLinkToAddInLinkRegister\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithLinks\r\n      };\r\n    case REMOVE_PARAGRAPH_LINK:\r\n      let UpdatedParagraphRegisterWithDeletedLinks = state.paragraphRegister;\r\n\r\n      let childParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      childParagraphRemove.previousParagraphs = childParagraphRemove.previousParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      if (childParagraphRemove.previousParagraphs.length === 0) {\r\n        childParagraphRemove.hasLinkToPreviousParagraph = false;\r\n      }\r\n\r\n      let parentParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      parentParagraphRemove.nextParagraphs = parentParagraphRemove.nextParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      if (parentParagraphRemove.nextParagraphs.length === 0) {\r\n        parentParagraphRemove.hasLinkToNextParagraph = false;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.filter(\r\n          paragraphLink =>\r\n            paragraphLink.depthNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n            paragraphLink.paragraphNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.paragraphNumber ||\r\n            paragraphLink.depthNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .depthNumberOfLinkedParagraph ||\r\n            paragraphLink.paragraphNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithDeletedLinks\r\n      };\r\n    case SET_TO_SUDDEN_DEATH:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithSuddenDeath = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n      );\r\n      // setting its sudden death value to true\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithSuddenDeath.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes.isSuddenDeath = !paragraphToUpdateWithSuddenDeath\r\n        .paragraphSubTypes.isSuddenDeath;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithSuddenDeath = state.paragraphRegister;\r\n      updatedRegisterWithSuddenDeath[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithSuddenDeath;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithSuddenDeath\r\n      };\r\n    case SET_TO_VICTORY:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithVictory = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n      );\r\n      // toggle its isVictory value\r\n      paragraphToUpdateWithVictory.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithVictory.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithVictory.paragraphSubTypes.isVictory = !paragraphToUpdateWithVictory\r\n        .paragraphSubTypes.isVictory;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithVictory = state.paragraphRegister;\r\n      updatedRegisterWithVictory[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithVictory;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithVictory\r\n      };\r\n\r\n    case SET_TO_FINALBOSS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithFinalBoss = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n      );\r\n      // setting its final boss combat value to true\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithFinalBoss.paragraphSubTypes\r\n      };\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes.isFinalBossCombat = !paragraphToUpdateWithFinalBoss.isFinalBossCombat;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithFinalBoss = state.paragraphRegister;\r\n      updatedRegisterWithFinalBoss[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithFinalBoss;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithFinalBoss\r\n      };\r\n\r\n    case SET_PARAGRAPH_TYPE:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithType = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n      );\r\n      // setting its paragraphType value\r\n      paragraphToUpdateWithType.paragraphType = action.paragraphType;\r\n\r\n      // clear the paragraph subtypes\r\n      let keys = Object.keys(paragraphToUpdateWithType.paragraphSubTypes);\r\n      let clearedParagraphSubTypes = {};\r\n\r\n      for (var j = 0; j < keys.length; j++) {\r\n        clearedParagraphSubTypes[keys[j]] = false;\r\n      }\r\n      paragraphToUpdateWithType.paragraphSubTypes = clearedParagraphSubTypes;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphType = state.paragraphRegister;\r\n      updatedRegisterWithParagraphType[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithType;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphType\r\n      };\r\n\r\n    case SET_PARAGRAPH_LINK_STATUS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithLinkStatus = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n      );\r\n      // setting its hasLinkToNextParagraph or hasLinkToPreviousParagraph value according to nextorprevious input\r\n      if (action.nextorprevious === \"next\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToNextParagraph = action.status;\r\n      } else if (action.nextorprevious === \"previous\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToPreviousParagraph =\r\n          action.status;\r\n      }\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphLinkStatus = state.paragraphRegister;\r\n      updatedRegisterWithParagraphLinkStatus[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithLinkStatus;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphLinkStatus\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        paragraphRegister: action.paragraphRegisterFromFirestore,\r\n        paragraphLinkRegister: action.paragraphLinkRegisterFromFirestore\r\n      };\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: 1,\r\n        paragraphRegister: [\r\n          {\r\n            depthNumber: 0,\r\n            paragraphNumber: 1,\r\n\r\n            hasLinkToNextParagraph: false,\r\n            hasLinkToPreviousParagraph: true,\r\n            paragraphType: \"narration\",\r\n            paragraphSubTypes: {\r\n              isSuddenDeath: false,\r\n              isVictory: false,\r\n              isFinalBossCombat: false\r\n            },\r\n            nextParagraphs: [],\r\n            previousParagraphs: []\r\n          }\r\n        ],\r\n        paragraphLinkRegister: []\r\n      };\r\n\r\n    case SET_TO_GLOBAL_SAVING:\r\n      return {\r\n        ...state,\r\n        isGlobalSaving: !state.isGlobalSaving\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, compose } from \"redux\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport { reactReduxFirebase, firebaseReducer } from \"react-redux-firebase\";\r\nimport { reduxFirestore, firestoreReducer } from \"redux-firestore\";\r\n\r\n// Reducers\r\nimport notifyReducer from \"../reducers/notifyReducer\";\r\nimport depthLevelReducer from \"../reducers/depthLevelReducer\";\r\nimport paragraphReducer from \"../reducers/paragraphReducer\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAb4GBXr2OHnzMnvBrZlfWqyQt0crnmgAg\",\r\n  authDomain: \"delendaproto.firebaseapp.com\",\r\n  databaseURL: \"https://delendaproto.firebaseio.com\",\r\n  projectId: \"delendaproto\",\r\n  storageBucket: \"delendaproto.appspot.com\",\r\n  messagingSenderId: \"598525885409\"\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true // Firestore for Profile instead of Realtime DB\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Initialize firestore\r\nfirebase.firestore();\r\n\r\n// Add reactReduxFirebase enhancer when making store creator\r\nconst createStoreWithFirebase = compose(\r\n  reactReduxFirebase(firebase, rrfConfig), // firebase instance as first argument\r\n  reduxFirestore(firebase) // <- needed if using firestore\r\n)(createStore);\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer, // <- needed if using firestore\r\n  notify: notifyReducer,\r\n  numDepthLevels: depthLevelReducer,\r\n  paragraphData: paragraphReducer\r\n});\r\n\r\n// create initial state\r\nconst initialState = {};\r\nconst store = createStoreWithFirebase(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    reactReduxFirebase(firebase),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n          window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f\r\n  )\r\n);\r\n\r\nexport default store;\r\n","export const NOTIFY_USER = \"NOTIFY_USER\";\r\nexport const ALLOW_REGISTRATION = \"ALLOW_REGISTRATION\";\r\n\r\nexport const ADD_DEPTH_LEVEL = \"ADD_DEPTH_LEVEL\";\r\nexport const DECREASE_DEPTH_LEVEL = \"DECREASE_DEPTH_LEVEL\";\r\n\r\nexport const ADD_PARAGRAPH_TO_TOTAL = \"ADD_PARAGRAPH_TO_TOTAL\";\r\nexport const DECREASE_PARAGRAPH_FROM_TOTAL = \"DECREASE_PARAGRAPH_FROM_TOTAL\";\r\nexport const ADD_PARAGRAPH_LINK = \"ADD_PARAGRAPH_LINK\";\r\nexport const REMOVE_PARAGRAPH_LINK = \"REMOVE_PARAGRAPH_LINK\";\r\nexport const SET_TO_SUDDEN_DEATH = \"SET_TO_SUDDEN_DEATH\";\r\nexport const SET_TO_VICTORY = \"SET_TO_VICTORY\";\r\nexport const SET_TO_FINALBOSS = \"SET_TO_FINALBOSS\";\r\nexport const SET_PARAGRAPH_TYPE = \"SET_PARAGRAPH_TYPE\";\r\nexport const SET_PARAGRAPH_LINK_STATUS = \"SET_PARAGRAPH_LINK_STATUS\";\r\n\r\nexport const SYNC_REGISTERS_IN_REDUX = \"SYNC_REGISTERS_IN_REDUX\";\r\nexport const CLEAR_QUEST_DATA = \"CLEAR_QUEST_DATA\";\r\nexport const SET_TO_GLOBAL_SAVING = \"SET_TO_GLOBAL_SAVING\";\r\n","import React from \"react\";\r\nimport spinner from \"./spinner.png\";\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div style={{ height: \"100%\", width: \"100%\" }}>\r\n      <img\r\n        src={spinner}\r\n        alt=\"Loading...\"\r\n        style={{\r\n          height: \"100px\",\r\n          width: \"100px\",\r\n          display: \"block\",\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          zIndex: 2\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\n// import createHistory from \"history/createBrowserHistory\";\r\nimport LoadingScreen from \"../components/layout/Spinner\"; // change it to your custom component\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\n//const history = createHistory();\r\n\r\nexport const UserIsAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: true,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/login\",\r\n  authenticatingSelector: ({ firebase: { auth, profile, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && !auth.isEmpty\r\n});\r\n\r\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsNotAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: false,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/questeditor/menu/\",\r\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && auth.isEmpty\r\n});\r\n","import { NOTIFY_USER } from \"./types\";\r\n\r\nexport const notifyUser = (message, messageType) => {\r\n  return {\r\n    type: NOTIFY_USER,\r\n    message,\r\n    messageType\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\n\r\nclass AppNavbar extends Component {\r\n  state = {\r\n    isAuthenticated: false\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { auth } = props;\r\n    if (auth.uid) {\r\n      return { isAuthenticated: true };\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  }\r\n\r\n  onLogoutClick = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { message, messageType } = this.props.notify;\r\n    if (message || messageType) {\r\n      await notifyUser(null, null);\r\n    }\r\n    firebase.logout();\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.state;\r\n    const { auth } = this.props;\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md bg-dark mb-2\">\r\n          <div className=\"container\">\r\n            <Link to=\"/home\" className=\"navbar-brand text-light\">\r\n              Home\r\n            </Link>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarMain\"\r\n            >\r\n              <span className=\"navbar-toggler-icon\" />\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n              <ul className=\"navbar-nav mr-auto\">\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Players\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/playerprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/playerranking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/playerforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Scribes\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/questeditor/menu/\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Quest Editor\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scribeprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scriberanking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/scribeforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <Link to=\"/marketplace\" className=\"nav-link text-light\">\r\n                    Marketplace\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n\r\n              {isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <a href=\"#!\" className=\"nav-link text-light\">\r\n                      {auth.email}\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      href=\"#!\"\r\n                      className=\"nav-link text-light\"\r\n                      onClick={this.onLogoutClick}\r\n                    >\r\n                      Logout\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n              {!isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/login\" className=\"nav-link text-light\">\r\n                      Login\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/register\" className=\"nav-link text-light\">\r\n                      Register\r\n                    </Link>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAppNavbar.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      auth: state.firebase.auth,\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(AppNavbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\n\r\nclass QuestEditorMenu extends Component {\r\n  render() {\r\n    var user = this.props.firebase.auth().currentUser;\r\n    if (!user.displayName) {\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {`Welcome, ${user.displayName} !`}\r\n          </h1>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/newquest/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            New Quest\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/inprogress/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests In Progress\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/submitted/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests Submitted\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default firebaseConnect()(QuestEditorMenu);\r\n","var curday = function() {\r\n  var today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1; //As January is 0.\r\n  var yyyy = today.getFullYear();\r\n\r\n  if (dd < 10) dd = \"0\" + dd;\r\n  if (mm < 10) mm = \"0\" + mm;\r\n  return `${dd}/${mm}/${yyyy}`;\r\n};\r\n\r\nexport default curday;\r\n","const QuestTemplate = {\r\n  Title: \"\",\r\n  Tags: \"\",\r\n  Price: 0,\r\n  Level: 1,\r\n  Link: \"\",\r\n  Location: [],\r\n  Summary: \"\",\r\n  NbParagraphs: 1,\r\n  numDepthLevels: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: [],\r\n  CreationDate: \"\",\r\n  LastEditDate: \"\",\r\n  SubmissionDate: \"\",\r\n  Status: \"In Progress\",\r\n  ScribeID: \"\",\r\n  ScribeName: \"\",\r\n  ScribeEmail: \"\",\r\n  Paragraphs: [],\r\n  globalSaveCounter: 0\r\n};\r\n\r\nexport default QuestTemplate;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport curday from \"./CurrentDay\";\r\nimport QuestTemplate from \"./questbuilder/QuestTemplate\";\r\n\r\nclass NewQuest extends Component {\r\n  state = QuestTemplate;\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    var user = this.props.firebase.auth().currentUser;\r\n    var ScribeID = user.uid;\r\n    var ScribeName = user.displayName;\r\n    var ScribeEmail = user.email;\r\n\r\n    await this.setState({\r\n      CreationDate: curday(),\r\n      LastEditDate: curday(),\r\n      ScribeID,\r\n      ScribeName,\r\n      ScribeEmail\r\n    });\r\n    const newQuest = this.state;\r\n    const { firestore } = this.props;\r\n    const result = await firestore.add(\r\n      { collection: \"QuestsInProgress\" },\r\n      newQuest\r\n    );\r\n\r\n    this.props.history.push(`/questeditor/questbuilder/${result.id}`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\",\r\n          width: \"60%\"\r\n        }}\r\n      >\r\n        <h1\r\n          style={{\r\n            margin: \"auto\",\r\n            display: \"block\",\r\n            textAlign: \"center\"\r\n          }}\r\n        >\r\n          Quest Parameters{\" \"}\r\n        </h1>\r\n        <div style={{ height: \"30px\" }} />\r\n        <div className=\"row\">\r\n          <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n            <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n            Menu\r\n          </Link>\r\n        </div>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                Title\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Title\"\r\n                placeholder=\"Into the Abyss\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.title}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                Tags\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Tags\"\r\n                placeholder=\"#horror #riddle #dark\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.tags}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                Price\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Price\"\r\n                placeholder=\"2000\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.price}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                Level\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Level\"\r\n                placeholder=\"1\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.level}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                Link\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Link\"\r\n                placeholder=\"Linked to Quest sg7uwerh3 : Wandering In The Desert\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.link}\r\n                onChange={this.onChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                Location\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Location\"\r\n                placeholder=\"GPS coordinates -22.5834697346\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.location}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{\r\n              paddingLeft: \"10px\",\r\n              paddingRight: \"10px\",\r\n              paddingBottom: \"10px\"\r\n            }}\r\n          >\r\n            <label className=\"label-parameter\" htmlFor=\"Text\">\r\n              Summary\r\n            </label>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"Summary\"\r\n              maxLength=\"100\"\r\n              placeholder=\"You will enter the Abyss of Agamazos, where many heroes have perished. Fire demons and the Crystal Magician await you there...\"\r\n              rows=\"2\"\r\n              required\r\n              style={{\r\n                backgroundColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }}\r\n              value={this.state.summary}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div style={{ height: \"10px\" }} />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-dark\"\r\n            style={{\r\n              left: \"50%\",\r\n              position: \"absolute\",\r\n              transform: \"translateX(-50%)\",\r\n              marginTop: \"15px\"\r\n            }}\r\n          >\r\n            Save and start creating{\" \"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNewQuest.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(NewQuest);\r\n","// Admin rights for Axel, Eric & Evariste --> find better implementation via Firebase (Admin SDK, user profiles ?)\r\nconst Admins = [\"88ghIWMAMIOxmF5VQ6PP50QqnKO2\"];\r\n\r\n// Maximum of 10 quests in progress per user --> to be implemented in Firebase security rules\r\n\r\n// Maximum of 5 quests submitted per user --> to be implemented in Firebase security rules\r\n\r\n// One user per email address --> already implemented in Firebase settings\r\n\r\n// Authentication via email + email confirmation + password recovery --> to be implemented in Firebase settings\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestsInProgress extends Component {\r\n  state = {\r\n    questsInProgressTotal: null,\r\n    questsInProgressFromScribeTotal: null,\r\n    questsInProgressFromScribe: null\r\n  };\r\n\r\n  // Filter quests in progress by ScribeID and determine total number of quests in progress from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsInProgress = props.questsInProgress;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsInProgress) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsInProgressFromScribe = questsInProgress;\r\n      } else {\r\n        questsInProgressFromScribe = questsInProgress.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsInProgressFromScribeTotal: questsInProgressFromScribe.length,\r\n        questsInProgressFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // delete quest in progress\r\n  onDeleteClick = async e => {\r\n    const { firestore } = this.props;\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    const title = e.target.getAttribute(\"data-title\");\r\n\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete the Quest \"${title}\" ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      // deleting data from Firestore\r\n\r\n      await firestore.delete({\r\n        collection: \"QuestsInProgress\",\r\n        doc: id\r\n      });\r\n      // deleting files from Storage\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      let storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      let storageRef = storage.ref();\r\n\r\n      let questRef = storageRef.child(`${id}`);\r\n      const questParagraphList = await questRef.listAll();\r\n\r\n      await questParagraphList.prefixes.forEach(async el => {\r\n        let startingSoundAndImageFiles = await el.listAll();\r\n        await startingSoundAndImageFiles.items.forEach(elem => elem.delete());\r\n\r\n        let outcomeSoundsFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Sounds\")\r\n          .listAll();\r\n        await outcomeSoundsFiles.items.forEach(soundFile => soundFile.delete());\r\n\r\n        let outcomeImagesFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Images\")\r\n          .listAll();\r\n        await outcomeImagesFiles.items.forEach(imageFile => imageFile.delete());\r\n      });\r\n    }\r\n  };\r\n\r\n  onSubmitClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questInProgress = {\r\n      ...this.props.questsInProgress.find(el => el.id === id)\r\n    };\r\n\r\n    if (questInProgress.globalSaveCounter !== 1) {\r\n      window.alert(\r\n        \"You must do a Global Save before you can submit this Quest.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isVictory === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Victory Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Final Boss Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el => el.hasLinkToPreviousParagraph === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one previous Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el =>\r\n          el.hasLinkToNextParagraph === true ||\r\n          el.paragraphSubTypes.isVictory === true ||\r\n          el.paragraphSubTypes.isSuddenDeath === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one next Paragraph or be of Victory or Sudden Death type. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to submit the Quest '${\r\n            questInProgress.Title\r\n          }'?`\r\n        )\r\n      ) {\r\n        questInProgress.Status = \"Submitted\";\r\n        questInProgress.SubmissionDate = curday();\r\n\r\n        const result = await this.props.firestore.add(\r\n          { collection: \"QuestsSubmitted\" },\r\n          questInProgress\r\n        );\r\n        await this.props.firestore.update(\r\n          { collection: \"QuestsSubmitted\", doc: result.id },\r\n          {\r\n            id: result.id\r\n          }\r\n        );\r\n        await this.props.firestore.delete({\r\n          collection: \"QuestsInProgress\",\r\n          doc: id\r\n        });\r\n        window.alert(\r\n          `Your Quest has been properly submitted and will now be reviewed by the Team.`\r\n        );\r\n        this.props.history.push(`/questeditor/submitted/`);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsInProgressFromScribe,\r\n      questsInProgressFromScribeTotal\r\n    } = this.state;\r\n\r\n    if (questsInProgressFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests In Progress : <span>{questsInProgressFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of creation</th>\r\n                <th>Date of last edit</th>\r\n                <th>Nb of paragraphs</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsInProgressFromScribe.map(questInProgressFromScribe => (\r\n                <tr key={questInProgressFromScribe.id}>\r\n                  <td>{questInProgressFromScribe.Title}</td>\r\n                  <td>{questInProgressFromScribe.CreationDate}</td>\r\n                  <td>{questInProgressFromScribe.LastEditDate}</td>\r\n                  <td>{questInProgressFromScribe.NbParagraphs}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={`/questeditor/details/${\r\n                        questInProgressFromScribe.id\r\n                      }`}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-right\" /> Edit\r\n                    </Link>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onDeleteClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-ban\" /> Delete\r\n                    </button>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onSubmitClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-up\" /> Submit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsInProgress.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsInProgress: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(QuestsInProgress);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\n\r\nclass QuestsSubmitted extends Component {\r\n  state = {\r\n    questsSubmittedTotal: null,\r\n    questsSubmittedFromScribeTotal: null\r\n  };\r\n\r\n  // Filter quests submitted by ScribeID and determine total number of quests submitted from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsSubmitted = props.questsSubmitted;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsSubmitted) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsSubmittedFromScribe = questsSubmitted;\r\n      } else {\r\n        questsSubmittedFromScribe = questsSubmitted.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsSubmittedFromScribeTotal: questsSubmittedFromScribe.length,\r\n        questsSubmittedFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  onWithdrawClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n\r\n    if (questSubmitted.Status !== \"Submitted\") {\r\n      window.alert(\"You cannot withdraw this Quest.\");\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to withdraw the Quest '${\r\n          questSubmitted.Title\r\n        }' ?`\r\n      )\r\n    ) {\r\n      questSubmitted.Status = \"Withdrawn\";\r\n      questSubmitted.SubmissionDate = \"\";\r\n\r\n      const result = await this.props.firestore.add(\r\n        { collection: \"QuestsInProgress\" },\r\n        questSubmitted\r\n      );\r\n      await this.props.firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: result.id },\r\n        {\r\n          id: result.id\r\n        }\r\n      );\r\n      await this.props.firestore.delete({\r\n        collection: \"QuestsSubmitted\",\r\n        doc: id\r\n      });\r\n      window.alert(\r\n        \"Your Quest has been properly withdrawn and you can now access it in the Quest Editor.\"\r\n      );\r\n      this.props.history.push(`/questeditor/inprogress/`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsSubmittedFromScribe,\r\n      questsSubmittedFromScribeTotal\r\n    } = this.state;\r\n\r\n    if (questsSubmittedFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests Submitted : <span>{questsSubmittedFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of submission</th>\r\n                <th>Status</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsSubmittedFromScribe.map(questSubmittedFromScribe => (\r\n                <tr key={questSubmittedFromScribe.id}>\r\n                  <td>{questSubmittedFromScribe.Title}</td>\r\n                  <td>{questSubmittedFromScribe.SubmissionDate}</td>\r\n                  <td>{questSubmittedFromScribe.Status}</td>\r\n                  {questSubmittedFromScribe.Status === \"Submitted\" ? (\r\n                    <td>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onWithdrawClick}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        <i className=\"fas fa-arrow-circle-down\" /> Withdraw\r\n                      </button>\r\n                    </td>\r\n                  ) : (\r\n                    <td> </td>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsSubmitted.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsSubmitted: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsSubmitted\" }]),\r\n  connect((state, props) => ({\r\n    questsSubmitted: state.firestore.ordered.QuestsSubmitted\r\n  }))\r\n)(QuestsSubmitted);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultBackground from \"../../../notredame.jpg\";\r\n\r\nclass NarrationInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    narrationInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToSuddenDeath = () => {\r\n    this.props.setToSuddenDeath();\r\n  };\r\n\r\n  setToVictory = e => {\r\n    this.props.setToVictory(e.target);\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.narrationInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <h4\r\n                style={{\r\n                  fontSize: \"0.8rem\",\r\n                  display: \"inline-block\",\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                Ending Sound\r\n              </h4>{\" \"}\r\n              <input\r\n                type=\"file\"\r\n                accept=\"audio/wav\"\r\n                name=\"endingsound\"\r\n                id={`endingsound ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${followingParagraph.length}`}\r\n                style={{ display: \"none\" }}\r\n                rankinnextparagraphs={followingParagraph.length}\r\n                onChange={this.loadOutcomeSound}\r\n              />\r\n              <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                <label\r\n                  className=\"label-upload\"\r\n                  htmlFor={`endingsound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                  style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n                >\r\n                  (Upload Sound)\r\n                </label>\r\n              </p>\r\n              {this.state.outcomeSoundArray[followingParagraph.length] ? (\r\n                <audio\r\n                  controls\r\n                  src={\r\n                    this.state.outcomeSoundArray[followingParagraph.length]\r\n                      .outcomeSoundURL\r\n                      ? this.state.outcomeSoundArray[followingParagraph.length]\r\n                          .outcomeSoundURL\r\n                      : null\r\n                  }\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    width: \"140px\",\r\n                    height: \"15px\",\r\n                    paddingTop: \"3px\",\r\n                    paddingLeft: \"5px\"\r\n                  }}\r\n                  id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                >\r\n                  Your browser does not support the\r\n                  <code>audio</code> element.\r\n                </audio>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\", zIndex: 1 }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"narrationInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your narration here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.narrationInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n              {this.props.depthNumber === 0 ? null : (\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  {!this.props.isVictory &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Sudden Death</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isSuddenDeath}\r\n                        name=\"suddendeath\"\r\n                        onChange={this.setToSuddenDeath}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                  {!this.props.isSuddenDeath &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Victory</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isVictory}\r\n                        name=\"victory\"\r\n                        onChange={this.setToVictory}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              )}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(NarrationInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DialogueDefaultBackground from \"../../../image assets/dialogue-default-background.jpg\";\r\n\r\nclass DialogueInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    dialogueInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.dialogueInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    const paragraphOutcomes = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        paragraphOutcomes.push(\r\n          <div style={{ marginTop: \"5px\" }}>\r\n            <label\r\n              style={{\r\n                fontWeight: \"400\",\r\n                fontSize: \"0.6rem\",\r\n                lineHeight: \"0.8rem\",\r\n                paddingLeft: \"5px\",\r\n                display: \"inline-block\",\r\n                verticalAlign: \"top\"\r\n              }}\r\n            >\r\n              {`Answer leading to ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  width: \"60%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name={`paragraphOutcomeText${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                  maxLength=\"150\"\r\n                  placeholder={`Write your answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }...`}\r\n                  rows=\"1\"\r\n                  required\r\n                  onChange={this.onChangeOutcomeText}\r\n                  value={\r\n                    this.state.nextParagraphs[paragraphOutcomes.length]\r\n                      ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          .outcomeText\r\n                      : \"\"\r\n                  }\r\n                  data-depnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }\r\n                  data-parnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }\r\n                  style={{\r\n                    fontSize: \"0.6rem\",\r\n                    resize: \"none\",\r\n                    width: \"100%\",\r\n                    top: 0\r\n                  }}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  overflowWrap: \"break-word\",\r\n                  width: \"40%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"audio/wav\"\r\n                  name=\"outcomesound\"\r\n                  id={`outcomesound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${j + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeSound}\r\n                  //  index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />\r\n                <p\r\n                  style={{\r\n                    marginBottom: 0,\r\n                    display: \"inline-block\",\r\n                    paddingLeft: \"5px\",\r\n                    lineHeight: \"0.8\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${j + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.65rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    (Upload Sound)\r\n                  </label>\r\n                </p>\r\n                {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                  <audio\r\n                    controls\r\n                    src={\r\n                      this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                        .outcomeSoundURL\r\n                        ? this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                        : null\r\n                    }\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"140px\",\r\n                      height: \"15px\",\r\n                      paddingBottom: \"3px\",\r\n                      paddingLeft: \"5px\"\r\n                    }}\r\n                    id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${paragraphOutcomes.length}`}\r\n                  >\r\n                    Your browser does not support the\r\n                    <code>audio</code> element.\r\n                  </audio>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DialogueDefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"dialogueInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your dialogue line here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.dialogueInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(DialogueInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Pointers catalogue`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class PointersCatalogue extends Component {\r\n  state = {\r\n    pointerArray: [\r\n      { id: 1, isSelected: true },\r\n      { id: 2, isSelected: false },\r\n      { id: 3, isSelected: false },\r\n      { id: 4, isSelected: false },\r\n      { id: 5, isSelected: false },\r\n      { id: 6, isSelected: false }\r\n    ]\r\n  };\r\n\r\n  selectPointer = e => {\r\n    let pointerArrayWithSelection = this.state.pointerArray;\r\n    pointerArrayWithSelection.forEach(el => (el.isSelected = false));\r\n    pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    this.setState({\r\n      pointerArray: pointerArrayWithSelection\r\n    });\r\n\r\n    this.props.selectPointer(\r\n      this.props.rankinnextparagraphs,\r\n      e.currentTarget.children[0].src\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let pointersCatalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      pointersCatalogue.push(\r\n        <div\r\n          className={`pointer-selection ${\r\n            this.state.pointerArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\" }}\r\n          onClick={this.selectPointer}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"pointer-img\"\r\n            alt=\"pointer\"\r\n            style={{\r\n              height: \"45px\",\r\n              width: \"45px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return <div>{pointersCatalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PointersCatalogue from \"./PointersCatalogue\";\r\n\r\nimport DefaultPathBackground from \"../../../image assets/path-default-background.jpg\";\r\nimport DefaultPointer from \"../../../image assets/Pointers catalogue/1.png\";\r\n\r\nclass PathInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n\r\n  state = {\r\n    pathInputText: \"\",\r\n    selectedPointers: [],\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.nextParagraphs.length !== prevProps.nextParagraphs.length &&\r\n      this.props.isPointAndClickPath === true\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      if (this.props.nextParagraphs.length > prevProps.nextParagraphs.length) {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      }\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = this.props.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n\r\n        updatedSelectedPointers.splice(indexOfDeletedNextParagraph, 1);\r\n      }\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === true &&\r\n      prevProps.isPointAndClickPath === false\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      this.props.nextParagraphs.forEach(() => {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      });\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === false &&\r\n      prevProps.isPointAndClickPath === true\r\n    ) {\r\n      await this.setState({ selectedPointers: [] });\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n\r\n      // adjusting outcomeSoundArray according to the number of next paragraphs\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n        let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n        newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n        this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToPointAndClickPath = () => {\r\n    this.props.setToPointAndClickPath();\r\n  };\r\n\r\n  setToTextualPath = () => {\r\n    this.props.setToTextualPath();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.pathInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectPointer = async (rankInNextParagraphs, imageSRC) => {\r\n    let updatedSelectedPointers = this.state.selectedPointers;\r\n    updatedSelectedPointers[rankInNextParagraphs] = {\r\n      image: imageSRC,\r\n      top: 0,\r\n      left: 0\r\n    };\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointers\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointers);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var pointerInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      pointerInMovement: pointerInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n    pointerInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    pointerInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 50x50 pointer image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      pointerInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 274) {\r\n      pointerInMovement.style.left = 274 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      pointerInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 160) {\r\n      pointerInMovement.style.top = 160 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let rankInNextParagraphs = pointerInMovement.getAttribute(\r\n      \"rankinnextparagraphs\"\r\n    );\r\n    let updatedSelectedPointersWithCoordinates = [];\r\n    this.state.selectedPointers.forEach(el =>\r\n      updatedSelectedPointersWithCoordinates.push({ ...el })\r\n    );\r\n\r\n    updatedSelectedPointersWithCoordinates[\r\n      rankInNextParagraphs\r\n    ].left = parseInt(pointerInMovement.style.left, 10);\r\n    updatedSelectedPointersWithCoordinates[rankInNextParagraphs].top = parseInt(\r\n      pointerInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointersWithCoordinates\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointersWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n    let draggablePointers = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualPath:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Choice leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your path choice to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isPointAndClickPath:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\", position: \"relative\" }}>\r\n                <li className=\"dropdown\">\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    {`Pointer leading to ${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .depthNumber\r\n                    }-${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .paragraphNumber\r\n                    }`}\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                    id={k}\r\n                  >\r\n                    {\r\n                      <PointersCatalogue\r\n                        //  index in the nextParagraphs array --> -1 not included due to different timing in calculation of props value (?)\r\n                        rankinnextparagraphs={paragraphOutcomes.length}\r\n                        selectPointer={this.selectPointer}\r\n                      />\r\n                    }\r\n                  </div>\r\n                </li>\r\n                <img\r\n                  src={\r\n                    this.state.selectedPointers[paragraphOutcomes.length]\r\n                      ? this.state.selectedPointers[paragraphOutcomes.length]\r\n                          .image\r\n                      : DefaultPointer\r\n                  }\r\n                  className=\"card-img-top\"\r\n                  alt=\"Answer by default\"\r\n                  style={{ maxHeight: \"50px\", maxWidth: \"50px\" }}\r\n                  id={`answerIMG ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                />\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    overflowWrap: \"break-word\",\r\n                    width: \"40%\",\r\n                    verticalAlign: \"top\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"audio/wav\"\r\n                    name=\"outcomesound\"\r\n                    id={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{ display: \"none\" }}\r\n                    // index in the nextParagraphs array\r\n                    rankinnextparagraphs={paragraphOutcomes.length}\r\n                    onChange={this.loadOutcomeSound}\r\n                  />\r\n                  <p\r\n                    style={{\r\n                      marginBottom: 0,\r\n                      display: \"inline-block\",\r\n                      paddingLeft: \"5px\",\r\n                      lineHeight: \"0.8rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <label\r\n                      className=\"label-upload\"\r\n                      htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        marginBottom: 0,\r\n                        fontSize: \"0.65rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      (Upload Sound)\r\n                    </label>\r\n                  </p>\r\n                  {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                    <audio\r\n                      controls\r\n                      src={\r\n                        this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                          .outcomeSoundURL\r\n                          ? this.state.outcomeSoundArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeSoundURL\r\n                          : null\r\n                      }\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                        width: \"140px\",\r\n                        height: \"15px\",\r\n                        paddingBottom: \"3px\",\r\n                        paddingLeft: \"5px\"\r\n                      }}\r\n                      id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${paragraphOutcomes.length}`}\r\n                    >\r\n                      Your browser does not support the\r\n                      <code>audio</code> element.\r\n                    </audio>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            );\r\n\r\n            draggablePointers.push(\r\n              <img\r\n                src={\r\n                  this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                    ? this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                        .image\r\n                    : DefaultPointer\r\n                }\r\n                className=\"card-img-top-pointer\"\r\n                alt=\"Answer by default\"\r\n                draggable=\"true\"\r\n                style={{\r\n                  maxHeight: \"50px\",\r\n                  maxWidth: \"50px\",\r\n                  position: \"absolute\",\r\n                  top: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].top\r\n                      : 0\r\n                  }px`,\r\n                  left: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].left\r\n                      : 0\r\n                  }px`\r\n                }}\r\n                id={`draggableIMG ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${k}`}\r\n                onDragStart={this.drag_start}\r\n                // index in the nextParagraphs array\r\n                rankinnextparagraphs={paragraphOutcomes.length - 1}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultPathBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            {draggablePointers}\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"pathInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your path choice description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.pathInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isPointAndClickPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualPath}\r\n                      name=\"textualpath\"\r\n                      onChange={this.setToTextualPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Point & Click</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isPointAndClickPath}\r\n                      name=\"pointandclickpath\"\r\n                      onChange={this.setToPointAndClickPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(PathInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultRiddleQuestion from \"../../../image assets/riddle-default-question.jpg\";\r\nimport DefaultAnswer from \"../../../image assets/riddle-default-answer.jpg\";\r\n\r\nclass RiddleInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeImage = this.loadOutcomeImage.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    riddleInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    outcomeImageArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeImageURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeImageArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeImageURL !== undefined) {\r\n              syncedOutcomeImageArray[index] = {\r\n                outcomeImageCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeImageURL: elem.outcomeImageURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeImageArray: syncedOutcomeImageArray });\r\n        }\r\n      }\r\n    }\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray and outcomeImageArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      newOutcomeImageArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeImageArray: newOutcomeImageArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadOutcomeImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let outcomeImageURL = URL.createObjectURL(e.target.files[0]);\r\n\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      newOutcomeImageArray[rankInNextParagraphs] = {\r\n        outcomeImage: e.target.files[0],\r\n        outcomeImageCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeImageURL\r\n      };\r\n\r\n      this.setState({\r\n        outcomeImageArray: newOutcomeImageArray\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToGraphicalRiddle = () => {\r\n    this.props.setToGraphicalRiddle();\r\n  };\r\n\r\n  setToTextualRiddle = () => {\r\n    this.props.setToTextualRiddle();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.riddleInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArraySounds = [];\r\n    this.state.outcomeSoundArray.forEach(el =>\r\n      inputArraySounds.push({ ...el })\r\n    );\r\n    inputs.push(inputArraySounds);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArrayImages = [];\r\n    this.state.outcomeImageArray.forEach(el =>\r\n      inputArrayImages.push({ ...el })\r\n    );\r\n    inputs.push(inputArrayImages);\r\n\r\n    let resetOutcomeImageArray = this.state.outcomeImageArray;\r\n    resetOutcomeImageArray.map(el => (el.outcomeImageCounter = 0));\r\n    await this.setState({ outcomeImageArray: resetOutcomeImageArray });\r\n\r\n    // pass on inputs to paragraph component\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualRiddle:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your answer leading to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      onChange={this.loadOutcomeSound}\r\n                      // index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isGraphicalRiddle:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <h4\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\",\r\n                    marginBottom: 0\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </h4>\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg, image/png\"\r\n                  name=\"image\"\r\n                  id={`answerimage ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeImage}\r\n                  // index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />{\" \"}\r\n                <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`answerimage ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.6rem\",\r\n                      verticalAlign: \"top\",\r\n                      lineHeight: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    (Upload Image)\r\n                  </label>\r\n                </p>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={\r\n                        this.state.outcomeImageArray[\r\n                          paragraphOutcomes.length\r\n                        ] &&\r\n                        this.state.outcomeImageArray[paragraphOutcomes.length]\r\n                          .outcomeImageURL\r\n                          ? this.state.outcomeImageArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeImageURL\r\n                          : DefaultAnswer\r\n                      }\r\n                      className=\"card-img-top\"\r\n                      alt=\"Answer by default\"\r\n                      style={{ width: \"100%\", maxHeight: \"30px\" }}\r\n                      id={`answerIMG ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${k + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultRiddleQuestion\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"riddleInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your riddle description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.riddleInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isGraphicalRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualRiddle}\r\n                      name=\"textualriddle\"\r\n                      onChange={this.setToTextualRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Graphical</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isGraphicalRiddle}\r\n                      name=\"graphicalriddle\"\r\n                      onChange={this.setToGraphicalRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(RiddleInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Holoween\",\r\n        attackPoints: 6,\r\n        defensePoints: 4,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Nightlyskelly\",\r\n        attackPoints: 8,\r\n        defensePoints: 7,\r\n        healthPoints: 7,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Treep\",\r\n        attackPoints: 7,\r\n        defensePoints: 9,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/elite mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Oger\",\r\n        attackPoints: 10,\r\n        defensePoints: 8,\r\n        healthPoints: 14\r\n      },\r\n      {\r\n        name: \"Kongo\",\r\n        attackPoints: 9,\r\n        defensePoints: 9,\r\n        healthPoints: 13\r\n      },\r\n      {\r\n        name: \"Zoidborg\",\r\n        attackPoints: 7,\r\n        defensePoints: 11,\r\n        healthPoints: 12\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/final bosses`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Ragnarosito\",\r\n        attackPoints: 15,\r\n        defensePoints: 12,\r\n        healthPoints: 20\r\n      },\r\n      {\r\n        name: \"The Beakster\",\r\n        attackPoints: 18,\r\n        defensePoints: 10,\r\n        healthPoints: 16\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport MobMonsterCatalogue from \"./MobMonsterCatalogue\";\r\nimport EliteMobMonsterCatalogue from \"./EliteMobMonsterCatalogue\";\r\nimport FinalBossMonsterCatalogue from \"./FinalBossMonsterCatalogue\";\r\n\r\nimport DefaultCombatBackground from \"../../../image assets/combat-default-background.jpg\";\r\n\r\nclass CombatInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n  }\r\n  state = {\r\n    selectedMonster: {},\r\n    combatInputText: \"\",\r\n    backgroundImageCounter: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.state.selectedMonster !== this.props.selectedMonster) {\r\n      await this.setState({ selectedMonster: this.props.selectedMonster });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage = async e => {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      await this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  };\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  setToMobCombat = async () => {\r\n    if (this.props.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToMobCombat();\r\n  };\r\n  setToEliteMobCombat = async () => {\r\n    if (this.props.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToEliteMobCombat();\r\n  };\r\n  setToFinalBossCombat = async () => {\r\n    if (\r\n      this.props.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and must be of 'Final Boss' type. If you want to change the type of mob, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else {\r\n      if (this.props.isFinalBossCombat) {\r\n        await this.setState({ selectedMonster: {} });\r\n      }\r\n      await this.props.setToFinalBossCombat();\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.combatInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectMonster = async (monsterArray, monsterImage) => {\r\n    let updatedSelectedMonster = { ...this.state.selectedMonster };\r\n    updatedSelectedMonster.characteristics = monsterArray;\r\n    updatedSelectedMonster.image = monsterImage;\r\n    updatedSelectedMonster.left = 0;\r\n    updatedSelectedMonster.top = 0;\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonster\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonster);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var monsterInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      monsterInMovement: monsterInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n    monsterInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    monsterInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 135x135 monster image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      monsterInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 189) {\r\n      monsterInMovement.style.left = 189 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      monsterInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 75) {\r\n      monsterInMovement.style.top = 75 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let updatedSelectedMonsterWithCoordinates = {\r\n      ...this.state.selectedMonster\r\n    };\r\n    updatedSelectedMonsterWithCoordinates.left = parseInt(\r\n      monsterInMovement.style.left,\r\n      10\r\n    );\r\n    updatedSelectedMonsterWithCoordinates.top = parseInt(\r\n      monsterInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonsterWithCoordinates\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonsterWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    let MonsterSelection = [];\r\n\r\n    switch (true) {\r\n      case this.props.isMobCombat:\r\n        MonsterSelection.push(\r\n          <MobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n      case this.props.isEliteMobCombat:\r\n        MonsterSelection.push(\r\n          <EliteMobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      case this.props.isFinalBossCombat:\r\n        MonsterSelection.push(\r\n          <FinalBossMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      default:\r\n        MonsterSelection = [];\r\n    }\r\n\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultCombatBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            <img\r\n              src={this.state.selectedMonster.image}\r\n              className={`card-img-top-monster ${\r\n                this.state.selectedMonster.image ? null : \"hide\"\r\n              }`}\r\n              draggable=\"true\"\r\n              alt=\"monster\"\r\n              style={{\r\n                height: \"135px\",\r\n                width: \"135px\",\r\n                top: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.top\r\n                    : 0\r\n                }px`,\r\n                left: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.left\r\n                    : 0\r\n                }px`\r\n              }}\r\n              onDragStart={this.drag_start}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"combatInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your combat introduction text here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.combatInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                {!this.props.isEliteMobCombat &&\r\n                !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isMobCombat}\r\n                      name=\"mobcombat\"\r\n                      onChange={this.setToMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Elite Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isEliteMobCombat}\r\n                      name=\"elitemobcombat\"\r\n                      onChange={this.setToEliteMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isEliteMobCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Final Boss</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isFinalBossCombat}\r\n                      name=\"finalbosscombat\"\r\n                      onChange={this.setToFinalBossCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n              {this.props.isMobCombat ||\r\n              this.props.isEliteMobCombat ||\r\n              this.props.isFinalBossCombat ? (\r\n                <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    Monster Selection\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                  >\r\n                    {MonsterSelection}\r\n                  </div>\r\n                </li>\r\n              ) : null}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(CombatInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass LinkSelection extends Component {\r\n  state = {\r\n    isLinked: false\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.isLinked) {\r\n      await this.setState({ isLinked: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (prevProps.isLinked !== this.props.isLinked) {\r\n      await this.setState({ isLinked: this.props.isLinked });\r\n    }\r\n  };\r\n\r\n  toggleParagraphLink = async e => {\r\n    let parentNode = e.target.parentNode;\r\n    await this.setState({\r\n      isLinked: !this.state.isLinked\r\n    });\r\n    let result = await this.props.toggleParagraphLink(\r\n      parentNode,\r\n      this.props.depthNumberOfLinkedParagraph,\r\n      this.props.paragraphNumberOfLinkedParagraph,\r\n      this.state.isLinked\r\n    );\r\n    // revert change of state if this.props.toggleParagraphLink indicated that this link cannot be toggled\r\n    if (result === \"unlink\") {\r\n      await this.setState({\r\n        isLinked: !this.state.isLinked\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <h5\r\n        className={`paragraph-link ${this.props.display} ${\r\n          this.state.isLinked ? \"linked\" : \"\"\r\n        }`}\r\n        onClick={this.toggleParagraphLink}\r\n      >\r\n        {this.props.paragraphData.paragraphRegister[this.props.rank]\r\n          .depthNumber === 0\r\n          ? \"START\"\r\n          : `Paragraph ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .depthNumber\r\n            } - ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .paragraphNumber\r\n            }`}\r\n      </h5>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(LinkSelection);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport NarrationInput from \"./NarrationInput\";\r\nimport DialogueInput from \"./DialogueInput\";\r\nimport PathInput from \"./PathInput\";\r\nimport RiddleInput from \"./RiddleInput\";\r\nimport CombatInput from \"./CombatInput\";\r\nimport LinkSelection from \"./LinkSelection\";\r\nimport Spinner from \"../../layout/Spinner\";\r\n\r\nimport {\r\n  addParagraphLink,\r\n  removeParagraphLink,\r\n  setToSuddenDeathInRegister,\r\n  setToVictoryInRegister,\r\n  setParagraphTypeInRegister,\r\n  setParagraphLinkStatusInRegister,\r\n  setToFinalBossInRegister\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass Paragraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.paragraphRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    isSaving: false,\r\n    paragraphType: \"narration\",\r\n    paragraphSubTypes: {\r\n      isSuddenDeath: false,\r\n      isVictory: false,\r\n      isTextualRiddle: false,\r\n      isGraphicalRiddle: false,\r\n      isPointAndClickPath: false,\r\n      isTextualPath: false,\r\n      isMobCombat: false,\r\n      isEliteMobCombat: false,\r\n      isFinalBossCombat: false\r\n    },\r\n    hasLinkToPreviousParagraph: false,\r\n    hasLinkToNextParagraph: false,\r\n    nextParagraphs: [],\r\n    previousParagraphs: [],\r\n    selectedMonster: {},\r\n    backgroundImageURL: \"\",\r\n    startingSoundURL: \"\"\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition\r\n      // && this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.depthNumber === 0) {\r\n      await this.setState({ hasLinkToPreviousParagraph: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (\r\n      this.props.id !== prevProps.id &&\r\n      this.props.QuestUnderEdition\r\n      //&& this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // update paragraph if paragraph link is detected from Redux store\r\n  static getDerivedStateFromProps(props, state) {\r\n    let paragraphInRegister = props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === props.depthNumber &&\r\n        el.paragraphNumber === props.paragraphNumber\r\n    );\r\n    // check if one of the outcomeTexts of the paragraph has been changed\r\n    /*if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs.length > 0 &&\r\n      paragraphInRegister.nextParagraphs.length === state.nextParagraphs.length\r\n    ) {\r\n      let comparisonArray = [];\r\n      var checkOutcomeTexts;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.outcomeText !== elem.outcomeText) {\r\n            comparisonArray.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray.length > 0\r\n        ? (checkOutcomeTexts = true)\r\n        : (checkOutcomeTexts = false);\r\n\r\n      // check if a pointer has been added to a nextParagraph (path paragraph of point & click sub-type)\r\n\r\n      let comparisonArray2 = [];\r\n      var checkSelectedPointers;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.selectedPointer !== elem.selectedPointer) {\r\n            comparisonArray2.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray2.length > 0\r\n        ? (checkSelectedPointers = true)\r\n        : (checkSelectedPointers = false);\r\n    }\r\n\r\n    if (checkOutcomeTexts === true || checkSelectedPointers === true) {\r\n      return null;\r\n    } else*/ if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length > state.nextParagraphs.length\r\n    ) {\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.push(\r\n        paragraphInRegister.nextParagraphs[\r\n          paragraphInRegister.nextParagraphs.length - 1\r\n        ]\r\n      );\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length < state.nextParagraphs.length\r\n    ) {\r\n      let indexOfDeletedParagraph = state.nextParagraphs.findIndex(el =>\r\n        paragraphInRegister.nextParagraphs.find(\r\n          elem => elem.paragraphNumber !== el.paragraphNumber\r\n        )\r\n      );\r\n\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.splice(indexOfDeletedParagraph, 1);\r\n\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs &&\r\n      paragraphInRegister.previousParagraphs.length > 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph:\r\n          paragraphInRegister.hasLinkToPreviousParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs.length === 0 &&\r\n      props.depthNumber !== 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph: false\r\n      };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  deleteParagraph = e => {\r\n    if (this.props.depthNumber === 0) {\r\n      window.alert(\"You cannot delete the starting paragraph.\");\r\n    } else if (\r\n      this.state.hasLinkToNextParagraph ||\r\n      this.state.hasLinkToPreviousParagraph\r\n    ) {\r\n      window.alert(\r\n        \"You cannot delete a paragraph that has links to previous or next paragraphs. You must remove these links first.\"\r\n      );\r\n    } else if (this.state.isSaving) {\r\n      window.alert(\"You cannot delete a paragraph while it is saving.\");\r\n    } else {\r\n      this.props.deleteParagraph(e, this.props.id);\r\n    }\r\n  };\r\n\r\n  saveParagraph = async (\r\n    inputText = null,\r\n    backgroundImage = null,\r\n    startingSound = null,\r\n    outcomeSoundArray = null,\r\n    outcomeImageArray = null\r\n  ) => {\r\n    if (this.state.isSaving) {\r\n      window.alert(\r\n        \"You must wait for the current save to finish before you can save again.\"\r\n      );\r\n    } else {\r\n      await this.setState({ isSaving: true });\r\n      const { firestore, QuestUnderEdition } = this.props;\r\n\r\n      const {\r\n        paragraphType,\r\n        paragraphSubTypes,\r\n        hasLinkToPreviousParagraph,\r\n        hasLinkToNextParagraph,\r\n        nextParagraphs,\r\n        previousParagraphs\r\n      } = this.state;\r\n      const { depthNumber, paragraphNumber, id } = this.props;\r\n\r\n      // shallow copy needed for data synced from Firestore\r\n      let nextParagraphsCopy = [];\r\n      [...this.state.nextParagraphs].forEach(el =>\r\n        nextParagraphsCopy.push({ ...el })\r\n      );\r\n\r\n      const paragraphData = {\r\n        depthNumber,\r\n        paragraphNumber,\r\n        id,\r\n        hasLinkToNextParagraph,\r\n        hasLinkToPreviousParagraph,\r\n        nextParagraphs: nextParagraphsCopy,\r\n        previousParagraphs,\r\n        paragraphSubTypes,\r\n        paragraphType\r\n      };\r\n\r\n      if (inputText) {\r\n        paragraphData.inputText = inputText;\r\n      }\r\n\r\n      if (this.state.paragraphType === \"combat\" && this.state.selectedMonster) {\r\n        paragraphData.selectedMonster = this.state.selectedMonster;\r\n      }\r\n\r\n      if (this.state.backgroundImageURL) {\r\n        paragraphData.backgroundImageURL = this.state.backgroundImageURL;\r\n      }\r\n\r\n      if (this.state.startingSoundURL) {\r\n        paragraphData.startingSoundURL = this.state.startingSoundURL;\r\n      }\r\n\r\n      let paragraphAlreadyInDatabase = QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === id\r\n      );\r\n\r\n      if (paragraphAlreadyInDatabase) {\r\n        (async function() {\r\n          await firestore.update(\r\n            { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphAlreadyInDatabase\r\n              )\r\n            }\r\n          );\r\n        })();\r\n      }\r\n\r\n      // uploading files to Firebase Storage if new files selected, delete existing paragraph files if they are not part of the last save\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      const storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      const storageRef = storage.ref();\r\n      const paragraphRef = storageRef.child(\r\n        `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n          this.props.depthNumber\r\n        } - ${this.props.paragraphNumber}`\r\n      );\r\n      //const paragraphList = await paragraphRef.listAll();\r\n\r\n      if (backgroundImage && backgroundImage !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${this.props.paragraphNumber}`,\r\n          backgroundImage,\r\n          null,\r\n          { name: \"backgroundImage\" }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n            snapshot.uploadTaskSnapshot.metadata.fullPath\r\n          }`\r\n        );\r\n        let backgroundImageURL = await gsReference.getDownloadURL();\r\n        paragraphData.backgroundImageURL = backgroundImageURL;\r\n      } /*else if (\r\n      !backgroundImage &&\r\n      paragraphList.items.find(el => el.fullPath.includes(\"backgroundImage\"))\r\n    ) {\r\n      paragraphRef.child(\"backgroundImage\").delete();\r\n    }*/\r\n\r\n      if (startingSound && startingSound !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${this.props.paragraphNumber}`,\r\n          startingSound,\r\n          null,\r\n          { name: \"startingSound\" }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n            snapshot.uploadTaskSnapshot.metadata.fullPath\r\n          }`\r\n        );\r\n\r\n        let startingSoundURL = await gsReference.getDownloadURL();\r\n        paragraphData.startingSoundURL = startingSoundURL;\r\n      } /*else if (\r\n      !startingSound &&\r\n      paragraphList.items.find(el => el.fullPath.includes(\"startingSound\"))\r\n    ) {\r\n      paragraphRef.child(\"startingSound\").delete();\r\n    }*/\r\n\r\n      let outcomeSoundsFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Sounds\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeSound uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeSounds(outcomeSounds) {\r\n        async function processOutcomeSound(outcomeSound) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${this.props.paragraphNumber}/Outcomes/Sounds`,\r\n            outcomeSound.outcomeSound,\r\n            null,\r\n            { name: `outcomeSound ${outcomeSound.rankInNextParagraphs}` }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n              snapshot.uploadTaskSnapshot.metadata.fullPath\r\n            }`\r\n          );\r\n          let outcomeSoundURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeSounds.indexOf(outcomeSound)\r\n          ].outcomeSoundURL = outcomeSoundURL;\r\n        }\r\n        let boundedprocessOutcomeSound = processOutcomeSound.bind(this);\r\n        const promises = outcomeSounds.map(boundedprocessOutcomeSound);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeSounds = processOutcomeSounds.bind(this);\r\n\r\n      if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length === 0 &&\r\n        outcomeSoundsFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length > 0 &&\r\n        outcomeSoundsFiles.items.length > outcomeSoundArray.length\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome sounds with a counter of 0\r\n        await boundedprocessOutcomeSounds(outcomeSoundArray);\r\n      } else if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length > 0 &&\r\n        outcomeSoundArray.some(el => el.outcomeSoundCounter === 1)\r\n      ) {\r\n        //filter outcome sounds with a counter of 1\r\n        let outcomeSoundsToUpdate = outcomeSoundArray.filter(\r\n          el => el.outcomeSoundCounter === 1\r\n        );\r\n        // upload only these outcome sounds\r\n        await boundedprocessOutcomeSounds(outcomeSoundsToUpdate);\r\n      }\r\n\r\n      let outcomeImagesFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Images\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeImage uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeImages(outcomeImages) {\r\n        async function processOutcomeImage(outcomeImage) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${this.props.paragraphNumber}/Outcomes/Images`,\r\n            outcomeImage.outcomeImage,\r\n            null,\r\n            { name: `outcomeImage ${outcomeImage.rankInNextParagraphs}` }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n              snapshot.uploadTaskSnapshot.metadata.fullPath\r\n            }`\r\n          );\r\n          let outcomeImageURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeImages.indexOf(outcomeImage)\r\n          ].outcomeImageURL = outcomeImageURL;\r\n        }\r\n        let boundedprocessOutcomeImage = processOutcomeImage.bind(this);\r\n        const promises = outcomeImages.map(boundedprocessOutcomeImage);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeImages = processOutcomeImages.bind(this);\r\n\r\n      if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length === 0 &&\r\n        outcomeImagesFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length > 0 &&\r\n        outcomeImagesFiles.items.length > outcomeImageArray.length\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome images with a counter of 0\r\n        await boundedprocessOutcomeImages(outcomeImageArray);\r\n      } else if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length > 0 &&\r\n        outcomeImageArray.some(el => el.outcomeImageCounter === 1)\r\n      ) {\r\n        //filter outcome images with a counter of 1\r\n        let outcomeImagesToUpdate = outcomeImageArray.filter(\r\n          el => el.outcomeImageCounter === 1\r\n        );\r\n        // upload only these outcome images\r\n        await boundedprocessOutcomeImages(outcomeImagesToUpdate);\r\n      }\r\n\r\n      await firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        {\r\n          Paragraphs: firestore.FieldValue.arrayUnion(paragraphData),\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels,\r\n          NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n      await this.setState({ isSaving: false });\r\n\r\n      // reset the globalSaveCounter every time a Paragraph Save is done\r\n      if (\r\n        this.props.QuestUnderEdition.globalSaveCounter === 1 &&\r\n        !this.props.paragraphData.isGlobalSaving\r\n      ) {\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 0\r\n          }\r\n        );\r\n      }\r\n\r\n      if (!this.props.paragraphData.isGlobalSaving) {\r\n        window.alert(\"Paragraph data has been saved !\");\r\n      }\r\n    }\r\n  };\r\n\r\n  changeParagraphType = e => {\r\n    // check if paragraph is linked to a previous final boss paragraph, if yes paragraph type cannot be changed\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      e.currentTarget.id !== \"narration\" &&\r\n      prevParagraphsInRegister.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A Paragraph linked from a 'Final Boss' Paragraph can only be of 'Narration' type.\"\r\n      );\r\n    } else if (\r\n      this.state.paragraphSubTypes.isFinalBossCombat === true &&\r\n      this.state.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and of 'Final Boss' type. If you want to change the paragraph type, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else if (\r\n      (e.currentTarget.id === \"narration\" || e.currentTarget.id === \"combat\") &&\r\n      this.state.nextParagraphs.length > 1\r\n    ) {\r\n      window.alert(\r\n        \"A paragraph of 'narration' or 'combat' type can only have one next paragraph. You must remove links to next paragraphs.\"\r\n      );\r\n    } else if (\r\n      e.currentTarget.id !== this.state.paragraphType &&\r\n      window.confirm(\r\n        `Are you sure you want to change the Paragraph Type ? \\n \\n All content from the current Paragraph inputs will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      {\r\n        // clear the state from paragraph subtypes\r\n        let keys = Object.keys({ ...this.state.paragraphSubTypes });\r\n        let stateWithClearedParagraphSubtypes = {};\r\n\r\n        for (var j = 0; j < keys.length; j++) {\r\n          stateWithClearedParagraphSubtypes[keys[j]] = false;\r\n        }\r\n\r\n        this.setState({\r\n          paragraphSubTypes: stateWithClearedParagraphSubtypes\r\n        });\r\n\r\n        // clear existing outcome texts/sounds/images\r\n        let clearedNextParagraphs = [];\r\n        [...this.state.nextParagraphs].forEach(el =>\r\n          clearedNextParagraphs.push({ ...el })\r\n        );\r\n        clearedNextParagraphs.map(el => {\r\n          delete el.outcomeText;\r\n          delete el.outcomeSoundURL;\r\n          delete el.outcomeImageURL;\r\n        });\r\n        this.setState({\r\n          nextParagraphs: clearedNextParagraphs\r\n        });\r\n\r\n        // clear selected Monster\r\n        if (this.state.selectedMonster !== {}) {\r\n          this.setState({ selectedMonster: {} });\r\n        }\r\n\r\n        var tabs = e.currentTarget.parentElement.children;\r\n        for (var k = 0; k < tabs.length; k++) {\r\n          tabs[k].className = tabs[k].className.replace(\" active\", \"\");\r\n        }\r\n        e.currentTarget.className += \" active\";\r\n\r\n        this.setState({ paragraphType: e.currentTarget.id });\r\n\r\n        this.props.setParagraphTypeInRegister(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          e.currentTarget.id\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  changeOutcomeText = async (depthNumber, paragraphNumber, outcomeText) => {\r\n    let updatedNextParagraph = {\r\n      ...this.state.nextParagraphs.find(\r\n        el =>\r\n          el.depthNumber === depthNumber &&\r\n          el.paragraphNumber === paragraphNumber\r\n      )\r\n    };\r\n\r\n    updatedNextParagraph.outcomeText = outcomeText;\r\n    let updatedNextParagraphs = [...this.state.nextParagraphs];\r\n\r\n    let index = updatedNextParagraphs.findIndex(\r\n      el =>\r\n        el.depthNumber === depthNumber && el.paragraphNumber === paragraphNumber\r\n    );\r\n\r\n    updatedNextParagraphs[index] = updatedNextParagraph;\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectPointer = async selectedPointers => {\r\n    let updatedNextParagraphs = [];\r\n\r\n    this.state.nextParagraphs.forEach(el =>\r\n      updatedNextParagraphs.push({ ...el })\r\n    );\r\n\r\n    updatedNextParagraphs.map((el, index) => {\r\n      el.selectedPointer = selectedPointers[index];\r\n    });\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectMonster = async selectedMonster => {\r\n    await this.setState({\r\n      selectedMonster: selectedMonster\r\n    });\r\n  };\r\n\r\n  setToSuddenDeath = async e => {\r\n    await this.props.setToSuddenDeathInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isSuddenDeath = !updatedStateSubTypes.isSuddenDeath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToVictory = async target => {\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      prevParagraphsInRegister.length === 0 ||\r\n      !prevParagraphsInRegister.every(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A 'victory' paragraph can only be linked from a 'final boss' paragraph.\"\r\n      );\r\n      target.checked = false;\r\n    } else {\r\n      await this.props.setToVictoryInRegister(\r\n        this.props.depthNumber,\r\n        this.props.paragraphNumber\r\n      );\r\n      let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n      updatedStateSubTypes.isVictory = !updatedStateSubTypes.isVictory;\r\n      await this.setState({\r\n        paragraphSubTypes: updatedStateSubTypes\r\n      });\r\n    }\r\n  };\r\n\r\n  setToTextualRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualRiddle = !updatedStateSubTypes.isTextualRiddle;\r\n\r\n    if (!updatedStateSubTypes.isTextualRiddle) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToGraphicalRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isGraphicalRiddle = !updatedStateSubTypes.isGraphicalRiddle;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToTextualPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualPath = !updatedStateSubTypes.isTextualPath;\r\n\r\n    if (!updatedStateSubTypes.isTextualPath) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToPointAndClickPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isPointAndClickPath = !updatedStateSubTypes.isPointAndClickPath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isMobCombat = !updatedStateSubTypes.isMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToEliteMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isEliteMobCombat = !updatedStateSubTypes.isEliteMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToFinalBossCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isFinalBossCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isFinalBossCombat = !updatedStateSubTypes.isFinalBossCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n    await this.props.setToFinalBossInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n  };\r\n\r\n  toggleParagraphLink = (\r\n    parentNode,\r\n    depthNumberOfLinkedParagraph,\r\n    paragraphNumberOfLinkedParagraph,\r\n    isLinked\r\n  ) => {\r\n    let prevParagraph = this.props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === depthNumberOfLinkedParagraph &&\r\n        el.paragraphNumber === paragraphNumberOfLinkedParagraph\r\n    );\r\n\r\n    switch (true) {\r\n      // if link is made from a Final Boss Paragraph, alert that Paragraph Type must be set to Narration\r\n\r\n      case isLinked &&\r\n        prevParagraph.paragraphSubTypes.isFinalBossCombat &&\r\n        this.state.paragraphType !== \"narration\":\r\n        alert(\r\n          \"Only a Paragraph of 'Narration' Type can be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      // if Paragraph is already set to Victory Type, it can be linked only from previous Final Boss Paragraphs\r\n\r\n      case this.state.paragraphSubTypes.isVictory &&\r\n        !prevParagraph.paragraphSubTypes.isFinalBossCombat:\r\n        alert(\r\n          \"A Paragraph of 'Victory' Type can only be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      case isLinked:\r\n        this.props.addParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        this.setState({\r\n          hasLinkToPreviousParagraph: true\r\n        });\r\n        break;\r\n      case !isLinked:\r\n        this.props.removeParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    // create dropdown list of previous paragraphs that can be potential links to the paragraph\r\n    const paragraphLinksSelection = [];\r\n\r\n    for (\r\n      var i = 0;\r\n      i < this.props.paragraphData.paragraphRegister.length;\r\n      i += 1\r\n    ) {\r\n      // printing all paragraphs from lower depth levels, but hiding \"sudden death\", \"victory\" and already-linked narration or combat paragraphs (only visible for the paragraph linked next)\r\n      if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n          this.props.depthNumber &&\r\n        (this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n          .isSuddenDeath ||\r\n          this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n            .isVictory ||\r\n          ((this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n            \"narration\" ||\r\n            this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n              \"combat\") &&\r\n            this.props.paragraphData.paragraphRegister[i]\r\n              .hasLinkToNextParagraph &&\r\n            !this.props.paragraphData.paragraphRegister[i].nextParagraphs.some(\r\n              nextParagraph =>\r\n                nextParagraph.depthNumber === this.props.depthNumber &&\r\n                nextParagraph.paragraphNumber === this.props.paragraphNumber\r\n            )))\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"hide\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      } else if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n        this.props.depthNumber\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"show\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          margin: \"0px auto\",\r\n          paddingRight: \"20px\",\r\n          verticalAlign: \"top\",\r\n          position: \"relative\"\r\n        }}\r\n        className={this.state.isSaving ? \"isSaving\" : null}\r\n      >\r\n        <div\r\n          className={`card paragraph ${\r\n            this.state.hasLinkToNextParagraph ? \"linked-to-next\" : null\r\n          } ${\r\n            this.state.hasLinkToPreviousParagraph ? \"linked-to-previous\" : null\r\n          } ${\r\n            this.state.paragraphSubTypes.isSuddenDeath ? \"suddendeath\" : null\r\n          } ${this.state.paragraphSubTypes.isVictory ? \"victory\" : null}`}\r\n          ref={this.paragraphRef}\r\n        >\r\n          {this.state.isSaving ? (\r\n            <Spinner\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -40%)\",\r\n                marginTop: \"-50px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <div className=\"card-header\">\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"narration\" ? \"active\" : null}`}\r\n              id=\"narration\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Narration\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"dialogue\" ? \"active\" : null}`}\r\n              id=\"dialogue\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Dialogue\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"path\" ? \"active\" : null}`}\r\n              id=\"path\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Path\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"riddle\" ? \"active\" : null}`}\r\n              id=\"riddle\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Riddle\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"combat\" ? \"active\" : null}`}\r\n              id=\"combat\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Combat\r\n            </button>\r\n          </div>\r\n          <h3\r\n            className=\"card-title\"\r\n            style={{\r\n              fontSize: \"1rem\",\r\n              marginBottom: \"5px\",\r\n              marginTop: \"5px\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {this.props.depthNumber === 0\r\n              ? \"START\"\r\n              : `§ ${this.props.depthNumber} - ${\r\n                  this.props.newParagraphNumber\r\n                    ? this.props.newParagraphNumber\r\n                    : this.props.paragraphNumber\r\n                }`}\r\n          </h3>\r\n          {this.props.depthNumber === 0 ? null : (\r\n            <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n              <a\r\n                className=\"dropdown-toggle\"\r\n                href=\"#\"\r\n                id=\"dropdown03\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  paddingLeft: \"10px\"\r\n                }}\r\n              >\r\n                Paragraph linked from\r\n              </a>\r\n              <div\r\n                className=\"dropdown-menu\"\r\n                aria-labelledby=\"dropdown03\"\r\n                style={{\r\n                  backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                  maxHeight: \"150px\",\r\n                  overflowY: \"scroll\",\r\n                  border: \"2px solid black\"\r\n                }}\r\n              >\r\n                {paragraphLinksSelection}\r\n              </div>\r\n            </li>\r\n          )}\r\n          {this.state.paragraphType === \"narration\" ? (\r\n            <NarrationInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToSuddenDeath={this.setToSuddenDeath}\r\n              setToVictory={this.setToVictory}\r\n              isVictory={this.state.paragraphSubTypes.isVictory}\r\n              isSuddenDeath={this.state.paragraphSubTypes.isSuddenDeath}\r\n              hasLinkToNextParagraph={this.state.hasLinkToNextParagraph}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"dialogue\" ? (\r\n            <DialogueInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"path\" ? (\r\n            <PathInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualPath={this.setToTextualPath}\r\n              setToPointAndClickPath={this.setToPointAndClickPath}\r\n              isTextualPath={this.state.paragraphSubTypes.isTextualPath}\r\n              isPointAndClickPath={\r\n                this.state.paragraphSubTypes.isPointAndClickPath\r\n              }\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              selectPointer={this.selectPointer}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"riddle\" ? (\r\n            <RiddleInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualRiddle={this.setToTextualRiddle}\r\n              setToGraphicalRiddle={this.setToGraphicalRiddle}\r\n              isTextualRiddle={this.state.paragraphSubTypes.isTextualRiddle}\r\n              isGraphicalRiddle={this.state.paragraphSubTypes.isGraphicalRiddle}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"combat\" ? (\r\n            <CombatInput\r\n              selectMonster={this.selectMonster}\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToMobCombat={this.setToMobCombat}\r\n              setToEliteMobCombat={this.setToEliteMobCombat}\r\n              setToFinalBossCombat={this.setToFinalBossCombat}\r\n              isMobCombat={this.state.paragraphSubTypes.isMobCombat}\r\n              isEliteMobCombat={this.state.paragraphSubTypes.isEliteMobCombat}\r\n              isFinalBossCombat={this.state.paragraphSubTypes.isFinalBossCombat}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              selectedMonster={this.state.selectedMonster}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.questID\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      paragraphData: state.paragraphData,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addParagraphLink,\r\n      removeParagraphLink,\r\n      setToSuddenDeathInRegister,\r\n      setToVictoryInRegister,\r\n      setParagraphTypeInRegister,\r\n      setParagraphLinkStatusInRegister,\r\n      setToFinalBossInRegister\r\n    }\r\n  )\r\n)(Paragraph);\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_TO_FINALBOSS,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"./types\";\r\n\r\nexport const addParagraphToTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_TO_TOTAL,\r\n    paragraphToAddInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber,\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: false,\r\n      paragraphType: \"narration\",\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  };\r\n};\r\n\r\nexport const decreaseParagraphFromTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: DECREASE_PARAGRAPH_FROM_TOTAL,\r\n    paragraphToDeleteInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToSuddenDeathInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_SUDDEN_DEATH,\r\n    paragraphToSetToSuddenDeathInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToVictoryInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_VICTORY,\r\n    paragraphToSetToVictoryInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToFinalBossInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_FINALBOSS,\r\n    paragraphToSetToFinalBossInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setParagraphTypeInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  paragraphType\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_TYPE,\r\n    paragraphType: paragraphType,\r\n    paragraphToUpdateInRegisterWithType: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\n// single function to handle update of hasLinkToNextParagraph and hasLinkToPreviousParagraph\r\nexport const setParagraphLinkStatusInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  nextorprevious,\r\n  status\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_LINK_STATUS,\r\n    paragraphToUpdateInRegisterWithLinkStatus: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    },\r\n    nextorprevious,\r\n    status\r\n  };\r\n};\r\n\r\nexport const addParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_LINK,\r\n    paragraphLinkToAddInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: REMOVE_PARAGRAPH_LINK,\r\n    paragraphLinkToRemoveInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const syncRegistersInRedux = (\r\n  paragraphRegisterFromFirestore,\r\n  paragraphLinkRegisterFromFirestore,\r\n  numDepthLevelsFromFirestore\r\n) => {\r\n  return {\r\n    type: SYNC_REGISTERS_IN_REDUX,\r\n    paragraphRegisterFromFirestore,\r\n    paragraphLinkRegisterFromFirestore,\r\n    numDepthLevelsFromFirestore\r\n  };\r\n};\r\n\r\nexport const setToGlobalSaving = () => {\r\n  return {\r\n    type: SET_TO_GLOBAL_SAVING\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Paragraph from \"./Paragraph\";\r\n\r\nclass DepthLevel extends Component {\r\n  onDeleteParagraph = async (e, paragraphID) => {\r\n    const parNumber = parseInt(e.target.getAttribute(\"paragraphnumber\"), 10);\r\n    if (this.state.paragraphsInDepthLevel > 1) {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to delete this paragraph ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n        )\r\n      ) {\r\n        // removing paragraph in state, then filling the empty slot by cloning the next paragraphs and decreasing their paragraph number\r\n        await this.props.decreaseParagraphFromTotal(\r\n          this.props.depthNumber,\r\n          parNumber\r\n        );\r\n        await this.setState({\r\n          paragraphsInDepthLevel: this.state.paragraphsInDepthLevel - 1,\r\n          paragraphsArray: this.state.paragraphsArray.filter((el, index) => {\r\n            return index + 1 !== parNumber;\r\n          })\r\n        });\r\n\r\n        let paragraphsToUpdate = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index >= parNumber - 1;\r\n          }\r\n        );\r\n\r\n        let paragraphsToUpdateFinal = [];\r\n\r\n        paragraphsToUpdate.forEach(el => {\r\n          paragraphsToUpdateFinal.push(\r\n            React.cloneElement(el, {\r\n              paragraphNumber: el.props.paragraphNumber - 1\r\n            })\r\n          );\r\n        });\r\n\r\n        let paragraphsUnchanged = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index < parNumber - 1;\r\n          }\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphsArray: [...paragraphsUnchanged, ...paragraphsToUpdateFinal]\r\n        });\r\n      }\r\n      // delete in Firestore database if paragraph has already been saved + update paragraphRegister and paragraphLinkRegister\r\n      const { firestore } = this.props;\r\n      let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === paragraphID\r\n      );\r\n\r\n      if (paragraphToDeleteInDatabase) {\r\n        await firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            Paragraphs: firestore.FieldValue.arrayRemove(\r\n              paragraphToDeleteInDatabase\r\n            ),\r\n            NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n            paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n            paragraphLinkRegister: this.props.paragraphData\r\n              .paragraphLinkRegister\r\n          }\r\n        );\r\n\r\n        // delete files in Firebase Storage if existing\r\n\r\n        // Get a reference to the storage service, which is used to create references in your storage bucket\r\n        const storage = this.props.firebase.storage();\r\n\r\n        // Create a storage reference from our storage service\r\n        const storageRef = storage.ref();\r\n        const paragraphRef = storageRef.child(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${parNumber}`\r\n        );\r\n        const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n        // delete startingSound and backgroundImage\r\n        if (paragraphList.items.length > 0) {\r\n          paragraphList.items.forEach(el => el.delete());\r\n        }\r\n        // delete outcome sounds and images if present\r\n        if (paragraphList.prefixes.length > 0) {\r\n          const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n          const soundsList = await soundsFolder.listAll();\r\n\r\n          soundsList.items.forEach(el => el.delete());\r\n\r\n          const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n          const imagesList = await imagesFolder.listAll();\r\n\r\n          imagesList.items.forEach(el => el.delete());\r\n        }\r\n      }\r\n    } else {\r\n      window.alert(\r\n        \"You cannot delete this paragraph, because there must be at least one paragraph in each depth level.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  state = {\r\n    paragraphsInDepthLevel: 1,\r\n    paragraphsArray: [\r\n      <Paragraph\r\n        key={1}\r\n        id={uuid.v4()}\r\n        paragraphNumber={1}\r\n        depthNumber={this.props.depthNumber}\r\n        deleteParagraph={this.onDeleteParagraph}\r\n        questID={this.props.questID}\r\n        numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n        bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n      />\r\n    ],\r\n    linkedParagraphs: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      let paragraphsToPrint = this.props.QuestUnderEdition.Paragraphs.filter(\r\n        el => el.depthNumber === this.props.depthNumber\r\n      );\r\n\r\n      if (paragraphsToPrint.length > 0) {\r\n        let linkedParagraphs = paragraphsToPrint.filter(\r\n          el => el.hasLinkToPreviousParagraph === true\r\n        );\r\n\r\n        // finding out the highest paragraph number among the saved paragraphs, then filling the paragraphsArrayFromFirestore Array with default paragraphs\r\n        let parNumberArray = [];\r\n        paragraphsToPrint.forEach(el =>\r\n          parNumberArray.push(el.paragraphNumber)\r\n        );\r\n        let max = parNumberArray.reduce(function(a, b) {\r\n          return Math.max(a, b);\r\n        });\r\n\r\n        let paragraphsArrayFromFirestore = [];\r\n\r\n        for (var i = 1; i <= max; i++) {\r\n          paragraphsArrayFromFirestore.push(\r\n            <Paragraph\r\n              key={i - 1}\r\n              id={uuid.v4()}\r\n              paragraphNumber={i}\r\n              depthNumber={this.props.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.questID}\r\n              numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        }\r\n\r\n        // replacing default paragraphs with saved paragraphs\r\n\r\n        paragraphsToPrint.forEach(el => {\r\n          paragraphsArrayFromFirestore[el.paragraphNumber - 1] = (\r\n            <Paragraph\r\n              key={el.paragraphNumber - 1}\r\n              id={el.id}\r\n              paragraphNumber={el.paragraphNumber}\r\n              depthNumber={el.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.QuestUnderEdition.id}\r\n              numDepthLevels={this.props.QuestUnderEdition.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        });\r\n\r\n        await this.setState({\r\n          paragraphsInDepthLevel: paragraphsToPrint.length,\r\n          linkedParagraphs: linkedParagraphs.length,\r\n          paragraphsArray: paragraphsArrayFromFirestore\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onAddParagraph = async () => {\r\n    await this.setState({\r\n      paragraphsInDepthLevel: this.state.paragraphsInDepthLevel + 1\r\n    });\r\n\r\n    await this.setState({\r\n      paragraphsArray: [\r\n        ...this.state.paragraphsArray,\r\n        <Paragraph\r\n          key={this.state.paragraphsInDepthLevel}\r\n          paragraphNumber={this.state.paragraphsInDepthLevel}\r\n          depthNumber={this.props.depthNumber}\r\n          id={uuid.v4()}\r\n          deleteParagraph={this.onDeleteParagraph}\r\n          questID={this.props.questID}\r\n          numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n          bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n        />\r\n      ]\r\n    });\r\n    await this.props.addParagraphToTotal(\r\n      this.props.depthNumber,\r\n      this.state.paragraphsInDepthLevel\r\n    );\r\n\r\n    this.el.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"center\",\r\n      inline: \"center\"\r\n    });\r\n  };\r\n\r\n  onDeleteDepthLevel = async e => {\r\n    let linkedParagraphs = e.currentTarget.parentElement.parentElement.children[1].getElementsByClassName(\r\n      \"linked-to-previous\"\r\n    );\r\n\r\n    if (linkedParagraphs.length !== 0) {\r\n      window.alert(\r\n        \"This depth level contains paragraphs that are linked to next or previous paragraphs. You must remove these links before you can delete these paragraphs and the depth level.\"\r\n      );\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to delete this depth level ? \\n \\n All content from the paragraphs inside this depth level will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      for (var i = 1; i <= this.state.paragraphsInDepthLevel; i += 1) {\r\n        // delete paragraph in Redux store\r\n        await this.props.decreaseParagraphFromTotal(this.props.depthNumber, i);\r\n\r\n        // delete paragraph in Firestore database and Firebase Storage if present\r\n        const { firestore } = this.props;\r\n        let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.state.paragraphsArray[i - 1].props.id\r\n        );\r\n\r\n        if (paragraphToDeleteInDatabase) {\r\n          await firestore.update(\r\n            {\r\n              collection: \"QuestsInProgress\",\r\n              doc: this.props.QuestUnderEdition.id\r\n            },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphToDeleteInDatabase\r\n              )\r\n            }\r\n          );\r\n\r\n          // delete files in Firebase Storage if existing\r\n\r\n          // Get a reference to the storage service, which is used to create references in your storage bucket\r\n          const storage = this.props.firebase.storage();\r\n\r\n          // Create a storage reference from our storage service\r\n          const storageRef = storage.ref();\r\n          const paragraphRef = storageRef.child(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${i}`\r\n          );\r\n          const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n          // delete startingSound and backgroundImage\r\n          if (paragraphList.items.length > 0) {\r\n            paragraphList.items.forEach(el => el.delete());\r\n          }\r\n          // delete outcome sounds and images if present\r\n          if (paragraphList.prefixes.length > 0) {\r\n            const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n            const soundsList = await soundsFolder.listAll();\r\n\r\n            soundsList.items.forEach(el => el.delete());\r\n\r\n            const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n            const imagesList = await imagesFolder.listAll();\r\n\r\n            imagesList.items.forEach(el => el.delete());\r\n          }\r\n        }\r\n      }\r\n\r\n      await this.props.deleteDepthLevel();\r\n      await this.props.firestore.update(\r\n        {\r\n          collection: \"QuestsInProgress\",\r\n          doc: this.props.QuestUnderEdition.id\r\n        },\r\n        {\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n          //NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          // paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          // paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          className=\"level-depth-separation\"\r\n          style={{ textAlign: \"center\", marginTop: \"10px\" }}\r\n        >\r\n          <h5 style={{ display: \"inline-block\", marginBottom: \"0.25rem\" }}>\r\n            Depth Level {this.props.depthNumber}\r\n          </h5>\r\n          {this.props.depthNumber ===\r\n          this.props.numDepthLevels.numDepthLevels - 1 ? (\r\n            <button\r\n              style={{\r\n                display: \"inline-block\",\r\n                backgroundColor: \"transparent\",\r\n                border: \"none\"\r\n              }}\r\n              onClick={this.onDeleteDepthLevel}\r\n            >\r\n              <i className=\"fas fa-trash-alt\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            display: \"flex\",\r\n            overflowX: \"auto\"\r\n          }}\r\n        >\r\n          {this.state.paragraphsArray}\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Add Paragraph\"\r\n            className=\"btn btn-dark btn-block\"\r\n            style={{ width: \"auto\", margin: \"auto\" }}\r\n            onClick={this.onAddParagraph}\r\n            ref={el => {\r\n              this.el = el;\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.QuestUnderEdition.id\r\n    }\r\n  ]),\r\n  connect(state => ({\r\n    numDepthLevels: state.numDepthLevels,\r\n    paragraphNumberTotal: state.paragraphNumberTotal,\r\n    paragraphData: state.paragraphData\r\n  }))\r\n)(DepthLevel);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { Prompt } from \"react-router-dom\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport Paragraph from \"./Paragraph\";\r\nimport DepthLevel from \"./DepthLevel\";\r\n\r\nimport {\r\n  addDepthLevel,\r\n  decreaseDepthLevel,\r\n  clearQuestData\r\n} from \"../../../actions/depthLevelActions\";\r\nimport {\r\n  addParagraphToTotal,\r\n  decreaseParagraphFromTotal,\r\n  syncRegistersInRedux,\r\n  setToGlobalSaving\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass QuestBuilder extends Component {\r\n  state = {\r\n    initialID: \"\",\r\n    isLoading: true,\r\n    bytesLimitForUploads: 5000000\r\n  };\r\n\r\n  scrollToTarget(target) {\r\n    target.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  onAddDepthLevel = async () => {\r\n    let targetScroll = document.getElementById(\"targetscroll\");\r\n\r\n    await this.props.addDepthLevel(this.state.numDepthLevels);\r\n\r\n    await this.props.addParagraphToTotal(\r\n      this.props.numDepthLevels.numDepthLevels - 1,\r\n      1\r\n    );\r\n    this.scrollToTarget(targetScroll);\r\n  };\r\n\r\n  onDeleteDepthLevel = targetScroll => {\r\n    this.props.decreaseDepthLevel(this.state.numDepthLevels);\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition !== undefined &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies, also adjusting numDepthLevels in Redux\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    } else await this.setState({ isLoading: true });\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidUpdate = async prevProps => {\r\n    // sync only if change of QuestUnderEdition props while previous QuestUnderEdition props is undefined or has a different id and new QuestUnderEdition.id props match the id in the route\r\n    if (\r\n      this.props.QuestUnderEdition !== prevProps.QuestUnderEdition &&\r\n      (prevProps.QuestUnderEdition === undefined ||\r\n        (prevProps.QuestUnderEdition.id &&\r\n          prevProps.QuestUnderEdition.id !== this.props.match.params.id)) &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    }\r\n\r\n    if (\r\n      this.props.numDepthLevels.numDepthLevels !==\r\n      prevProps.numDepthLevels.numDepthLevels\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount = async () => {\r\n    this.props.clearQuestData();\r\n  };\r\n\r\n  onSaveUnderEdition = async e => {\r\n    // inform all paragraphs that a global save is ongoing to stop the normal \"paragraph data has been saved\" message\r\n    await this.props.setToGlobalSaving();\r\n\r\n    // getting HMTLCollection then array of all \"Save Paragraph\" buttons\r\n    let saveInputElementsHTMLCollection = document.getElementsByClassName(\r\n      \"paragraph-save\"\r\n    );\r\n    let saveInputElementsArray = Array.from(saveInputElementsHTMLCollection);\r\n\r\n    // programmatically click on all of them\r\n    saveInputElementsArray.map(el => el.click());\r\n\r\n    // leave 1 second so Paragraphs have the state of \"isSaving\" as true after clicking on them\r\n    let checkIfSavingIsFinished = () => {\r\n      setTimeout(checkHTMLCollection, 2000);\r\n    };\r\n\r\n    // loop until all paragraphs have the state of \"isSaving\" as false\r\n    let checkHTMLCollection = async () => {\r\n      let paragraphsSavingHTMLCollection = document.getElementsByClassName(\r\n        \"isSaving\"\r\n      );\r\n      if (paragraphsSavingHTMLCollection.length === 0) {\r\n        // mark the QuestUnderEdition as having gone through a Global Save\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 1\r\n          }\r\n        );\r\n        // remove isGlobalSaving in Redux\r\n        await this.props.setToGlobalSaving();\r\n        window.alert(\"Full save complete !\");\r\n      } else checkIfSavingIsFinished();\r\n    };\r\n\r\n    // this bindings to access this.props and function execution\r\n    checkIfSavingIsFinished.bind(this);\r\n    checkHTMLCollection.bind(this);\r\n    checkIfSavingIsFinished();\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoading) {\r\n      const depthLevels = [];\r\n      const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n      for (var i = 1; i < this.state.numDepthLevels; i += 1) {\r\n        depthLevels.push(\r\n          <DepthLevel\r\n            key={i}\r\n            depthNumber={i}\r\n            addParagraphToTotal={this.props.addParagraphToTotal}\r\n            decreaseParagraphFromTotal={this.props.decreaseParagraphFromTotal}\r\n            deleteDepthLevel={this.onDeleteDepthLevel}\r\n            numDepthLevels={this.state.numDepthLevels}\r\n            QuestUnderEdition={\r\n              this.props.QuestUnderEdition ? this.props.QuestUnderEdition : null\r\n            }\r\n            bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n          />\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div className=\"quest-builder-container\">\r\n          <Prompt\r\n            message={`Are you sure you want to leave the page ? All unsaved changes will be lost.`}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n            <h2\r\n              style={{\r\n                position: \"relative\",\r\n                margin: \"auto\",\r\n                display: \"inline-block\",\r\n                textAlign: \"center\",\r\n                left: \"50%\",\r\n                transform: \"translateX(-50%)\"\r\n              }}\r\n            >\r\n              Quest Builder\r\n            </h2>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Global Save\"\r\n              className=\"btn btn-dark btn-block\"\r\n              style={{\r\n                width: \"auto\",\r\n                float: \"right\",\r\n                marginRight: \"20px\",\r\n                display: \"inline-block\"\r\n              }}\r\n              id=\"savequest\"\r\n              onClick={this.onSaveUnderEdition}\r\n            />\r\n            <hr />\r\n            <h3\r\n              style={{\r\n                textAlign: \"center\",\r\n                fontStyle: \"italic\",\r\n                display: \"block\"\r\n              }}\r\n            >\r\n              {QuestUnderEdition.Title}\r\n            </h3>\r\n          </div>\r\n          <div className=\"depth-levels-container\" style={{ marginTop: \"10px\" }}>\r\n            <div className=\"depth-level-0\">\r\n              <div\r\n                className=\"level-depth-separation\"\r\n                style={{ textAlign: \"center\" }}\r\n              >\r\n                <h5>Depth Level 0</h5>\r\n              </div>\r\n              <Paragraph\r\n                key={1}\r\n                id={this.state.initialID}\r\n                depthNumber={0}\r\n                paragraphNumber={1}\r\n                bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n              />\r\n              <div\r\n                className=\"depth-level-additional\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                {depthLevels}\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Add Another Depth Level\"\r\n                  className=\"btn btn-dark btn-block\"\r\n                  onClick={e => this.onAddDepthLevel(e)}\r\n                  style={{ marginTop: \"5px\" }}\r\n                  id=\"targetscroll\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addDepthLevel,\r\n      decreaseDepthLevel,\r\n      addParagraphToTotal,\r\n      decreaseParagraphFromTotal,\r\n      syncRegistersInRedux,\r\n      clearQuestData,\r\n      setToGlobalSaving\r\n    }\r\n  )\r\n)(QuestBuilder);\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA\r\n} from \"./types\";\r\n\r\nexport const addDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: ADD_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const decreaseDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: DECREASE_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const clearQuestData = () => {\r\n  return {\r\n    type: CLEAR_QUEST_DATA\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // create refs\r\n    this.TitleInput = React.createRef();\r\n    this.TagsInput = React.createRef();\r\n    this.PriceInput = React.createRef();\r\n    this.LevelInput = React.createRef();\r\n    this.LinkInput = React.createRef();\r\n    this.LocationInput = React.createRef();\r\n    this.SummaryInput = React.createRef();\r\n  }\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, QuestUnderEdition } = this.props;\r\n\r\n    const questUpdate = {\r\n      Title: this.TitleInput.current.value,\r\n      Tags: this.TagsInput.current.value,\r\n      Price: this.PriceInput.current.value,\r\n      Level: this.LevelInput.current.value,\r\n      Link: this.LinkInput.current.value,\r\n      Location: this.LocationInput.current.value,\r\n      Summary: this.SummaryInput.current.value,\r\n      LastEditDate: curday()\r\n    };\r\n\r\n    firestore\r\n      .update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        questUpdate\r\n      )\r\n      .then(() => this.props.history.push(\"/questeditor/inprogress/\"));\r\n  };\r\n\r\n  render() {\r\n    const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n    if (QuestUnderEdition) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\",\r\n            width: \"60%\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\",\r\n              paddingTop: \"15px\"\r\n            }}\r\n          >\r\n            Quest Parameters{\" \"}\r\n          </h1>\r\n          <div style={{ height: \"15px\" }} />\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/inprogress/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Quests in Progress\r\n            </Link>\r\n          </div>\r\n          <form onSubmit={this.onSubmit}>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Title\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Title}\r\n                  onChange={this.onChange}\r\n                  ref={this.TitleInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                  Tags\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Tags\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Tags}\r\n                  onChange={this.onChange}\r\n                  ref={this.TagsInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                  Price\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Price\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Price}\r\n                  onChange={this.onChange}\r\n                  ref={this.PriceInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                  Level\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Level\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Level}\r\n                  onChange={this.onChange}\r\n                  ref={this.LevelInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                  Link\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Link\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Link}\r\n                  onChange={this.onChange}\r\n                  ref={this.LinkInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                  Location\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Location\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Location}\r\n                  onChange={this.onChange}\r\n                  ref={this.LocationInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{\r\n                paddingLeft: \"10px\",\r\n                paddingRight: \"10px\",\r\n                paddingBottom: \"10px\"\r\n              }}\r\n            >\r\n              <label className=\"label-parameter\" htmlFor=\"Text\">\r\n                Summary\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Summary\"\r\n                maxLength=\"100\"\r\n                rows=\"2\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                defaultValue={QuestUnderEdition.Summary}\r\n                onChange={this.onChange}\r\n                ref={this.SummaryInput}\r\n              />\r\n            </div>\r\n            <div style={{ height: \"10px\" }} />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                left: \"50%\",\r\n                position: \"absolute\",\r\n                transform: \"translateX(-50%)\",\r\n                marginTop: \"15px\"\r\n              }}\r\n            >\r\n              Save and update quest parameters{\" \"}\r\n            </button>\r\n          </form>\r\n          <div className=\"row\">\r\n            <Link\r\n              to={`/questeditor/questbuilder/${QuestUnderEdition.id}`}\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                width: \"25%\",\r\n                margin: \"auto\",\r\n                display: \"block\",\r\n                marginTop: \"65px\"\r\n              }}\r\n            >\r\n              Go to Quest Builder\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestDetails.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    QuestUnderEdition: ordered.QuestUnderEdition && ordered.QuestUnderEdition[0]\r\n  }))\r\n)(QuestDetails);\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Alert = props => {\r\n  const { message, messageType } = props;\r\n  return (\r\n    <div\r\n      className={classnames(\"alert\", {\r\n        \"alert-ok\": messageType === \"success\",\r\n        \"alert-failed\":\r\n          messageType === \"error-login\" || messageType === \"error-register\"\r\n      })}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nAlert.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n  messageType: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Alert;\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n    firebase\r\n      .login({\r\n        email,\r\n        password\r\n      })\r\n      .catch(err => notifyUser(\"Invalid Login Credentials !\", \"error-login\"));\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-login\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-login\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fas fa-lock\" /> Login\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Login\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Login);\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    accountName: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password, accountName } = this.state;\r\n    //Register with firebase\r\n    await firebase\r\n      .createUser({ email, password })\r\n      .catch(err => notifyUser(\"That User Already Exists\", \"error-register\"));\r\n    var user = await firebase.auth().currentUser;\r\n    if (user) {\r\n      await user.updateProfile({ displayName: accountName });\r\n      this.props.history.push(\"/questeditor/menu/\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-register\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-register\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fa fa-user-circle\" /> Register\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"accountName\">Account Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"accountName\"\r\n                      required\r\n                      value={this.state.accountName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      minLength=\"6\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Register\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTyopes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Register);\r\n","import React, { Component } from \"react\";\r\n\r\nclass AppComponent extends Component {\r\n  state = {\r\n    numChildren: 0\r\n  };\r\n\r\n  render() {\r\n    const children = [];\r\n\r\n    for (var i = 0; i < this.state.numChildren; i += 1) {\r\n      children.push(<ChildComponent key={i} number={i} />);\r\n    }\r\n\r\n    return (\r\n      <ParentComponent addChild={this.onAddChild}>{children}</ParentComponent>\r\n    );\r\n  }\r\n\r\n  onAddChild = () => {\r\n    this.setState({\r\n      numChildren: this.state.numChildren + 1\r\n    });\r\n  };\r\n}\r\n\r\nconst ParentComponent = props => (\r\n  <div className=\"card calculator\">\r\n    <p>\r\n      <a href=\"#\" onClick={props.addChild}>\r\n        Add Another Child Component\r\n      </a>\r\n    </p>\r\n    <div id=\"children-pane\">{props.children}</div>\r\n  </div>\r\n);\r\n\r\nconst ChildComponent = props => <div>{\"I am child \" + props.number}</div>;\r\n\r\nexport default AppComponent;\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./components/store\";\nimport { UserIsAuthenticated, UserIsNotAuthenticated } from \"./helpers/auth\";\n\nimport \"./App.css\";\n\nimport AppNavbar from \"./components/layout/AppNavbar\";\nimport QuestEditorMenu from \"./components/questeditor/QuestEditorMenu\";\nimport NewQuest from \"./components/questeditor/NewQuest\";\nimport QuestsInProgress from \"./components/questeditor/QuestsInProgress\";\nimport QuestsSubmitted from \"./components/questeditor/QuestsSubmitted\";\nimport QuestBuilder from \"./components/questeditor/questbuilder/QuestBuilder\";\nimport QuestDetails from \"./components/questeditor/QuestDetails\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport AppComponent from \"./components/TestChildClick\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <AppNavbar />\n            <Switch>\n              <Route\n                exact\n                path=\"/login/\"\n                component={UserIsNotAuthenticated(Login)}\n              />\n              <Route\n                exact\n                path=\"/register/\"\n                component={UserIsNotAuthenticated(Register)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/menu/\"\n                component={UserIsAuthenticated(QuestEditorMenu)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/newquest/\"\n                component={UserIsAuthenticated(NewQuest)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/inprogress/\"\n                component={UserIsAuthenticated(QuestsInProgress)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/submitted/\"\n                component={UserIsAuthenticated(QuestsSubmitted)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/questbuilder/:id\"\n                component={UserIsAuthenticated(QuestBuilder)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/details/:id\"\n                component={UserIsAuthenticated(QuestDetails)}\n              />\n              <Route\n                exact\n                path=\"/appcomponent\"\n                component={UserIsAuthenticated(AppComponent)}\n              />\n            </Switch>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}