{"version":3,"sources":["components/layout/spinner.png","notredame.jpg","image assets/dialogue-default-background.jpg","image assets/path-default-background.jpg","image assets/riddle-default-question.jpg","image assets/riddle-default-answer.jpg","image assets/combat-default-background.jpg","image assets/Pointers catalogue/1.png","../../../../../AppData/Roaming/npm/node_modules/web3/node_modules/web3-eth-accounts/src sync","image assets/Pointers catalogue sync nonrecursive /.(png|jpe?g|svg)$","image assets/Pointers catalogue/2.png","image assets/Pointers catalogue/3.png","image assets/Pointers catalogue/4.png","image assets/Pointers catalogue/5.png","image assets/Pointers catalogue/6.png","image assets/Monsters catalogue/mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/mobs/1.png","image assets/Monsters catalogue/mobs/2.png","image assets/Monsters catalogue/mobs/3.png","image assets/Monsters catalogue/elite mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/elite mobs/1.png","image assets/Monsters catalogue/elite mobs/2.png","image assets/Monsters catalogue/elite mobs/3.png","image assets/Monsters catalogue/final bosses sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/final bosses/1.png","image assets/Monsters catalogue/final bosses/2.png","reducers/notifyReducer.js","reducers/depthLevelReducer.js","reducers/paragraphReducer.js","components/store.js","actions/types.js","components/layout/Spinner.js","helpers/auth.js","actions/notifyActions.js","components/layout/AppNavbar.js","components/questeditor/QuestEditorMenu.js","components/questeditor/CurrentDay.js","components/questeditor/questbuilder/QuestTemplate.js","components/questeditor/NewQuest.js","components/auth/Admin.js","components/questeditor/QuestsInProgress.js","components/questeditor/QuestsSubmitted.js","components/questeditor/questbuilder/NarrationInput.js","components/questeditor/questbuilder/DialogueInput.js","components/questeditor/questbuilder/PointersCatalogue.js","components/questeditor/questbuilder/PathInput.js","components/questeditor/questbuilder/RiddleInput.js","components/questeditor/questbuilder/MobMonsterCatalogue.js","components/questeditor/questbuilder/EliteMobMonsterCatalogue.js","components/questeditor/questbuilder/FinalBossMonsterCatalogue.js","components/questeditor/questbuilder/CombatInput.js","components/questeditor/questbuilder/LinkSelection.js","components/questeditor/questbuilder/Paragraph.js","actions/paragraphActions.js","components/questeditor/questbuilder/DepthLevel.js","components/questeditor/questbuilder/QuestBuilder.js","actions/depthLevelActions.js","components/questeditor/QuestDetails.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","components/TestChildClick.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","webpackEmptyContext","req","e","Error","code","keys","resolve","id","map","./1.png","./2.png","./3.png","./4.png","./5.png","./6.png","webpackContext","webpackContextResolve","Object","initialState","message","messageType","numDepthLevels","isGlobalSaving","paragraphNumberTotal","paragraphRegister","depthNumber","paragraphNumber","hasLinkToNextParagraph","hasLinkToPreviousParagraph","paragraphType","paragraphSubTypes","isSuddenDeath","isVictory","isFinalBossCombat","nextParagraphs","previousParagraphs","paragraphLinkRegister","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","store","compose","reactReduxFirebase","userProfile","useFirestoreForProfile","reduxFirestore","createStore","createStoreWithFirebase","combineReducers","firebaseReducer","firestoreReducer","notify","state","arguments","length","undefined","action","type","objectSpread","currentNumDepthLevels","console","log","numDepthLevelsFromFirestore","paragraphData","concat","paragraphToAddInRegister","paragraphsToUpdate","filter","el","index","paragraphToDeleteInRegister","paragraphsToUpdateFinal","forEach","push","paragraphBeforeUpdate","paragraphAfterUpdate","paragraphRegisterWithoutDeletedParagraph","toConsumableArray","UpdatedParagraphRegisterWithLinks","childParagraphAdd","find","paragraph","paragraphLinkToAddInLinkRegister","depthNumberOfLinkedParagraph","paragraphNumberOfLinkedParagraph","originalChildIndex","findIndex","parentParagraphAdd","originalParentIndex","UpdatedParagraphRegisterWithDeletedLinks","childParagraphRemove","paragraphLinkToRemoveInLinkRegister","previousParagraph","parentParagraphRemove","paragraphLink","paragraphToUpdateWithSuddenDeath","paragraphToSetToSuddenDeathInRegister","updatedRegisterWithSuddenDeath","paragraphToUpdateWithVictory","paragraphToSetToVictoryInRegister","updatedRegisterWithVictory","paragraphToUpdateWithFinalBoss","paragraphToSetToFinalBossInRegister","updatedRegisterWithFinalBoss","paragraphToUpdateWithType","paragraphToUpdateInRegisterWithType","clearedParagraphSubTypes","j","updatedRegisterWithParagraphType","paragraphToUpdateWithLinkStatus","paragraphToUpdateInRegisterWithLinkStatus","nextorprevious","status","updatedRegisterWithParagraphLinkStatus","paragraphRegisterFromFirestore","paragraphLinkRegisterFromFirestore","window","__REDUX_DEVTOOLS_EXTENSION__","f","Spinner","react_default","a","createElement","style","height","width","src","spinner","alt","display","position","top","left","transform","zIndex","locationHelper","locationHelperBuilder","UserIsAuthenticated","connectedRouterRedirect","wrapperDisplayName","AuthenticatingComponent","LoadingScreen","allowRedirectBack","redirectPath","ownProps","getRedirectQueryParam","authenticatingSelector","_ref","_ref$firebase","auth","isInitializing","profile","isLoaded","authenticatedSelector","_ref2","isEmpty","UserIsNotAuthenticated","_ref3","_ref3$firebase","_ref4","notifyUser","AppNavbar","isAuthenticated","onLogoutClick","_callee","_this$props","_this$props$notify","regenerator_default","wrap","_context","prev","next","preventDefault","_this","props","logout","stop","this","className","react_router_dom","to","data-toggle","data-target","href","aria-haspopup","aria-expanded","aria-labelledby","email","onClick","uid","Component","firebaseConnect","connect","QuestEditorMenu","user","currentUser","displayName","marginTop","margin","textAlign","curday","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","QuestTemplate","Title","Tags","Price","Level","Link","Location","Summary","NbParagraphs","CreationDate","LastEditDate","SubmissionDate","Status","ScribeID","ScribeName","ScribeEmail","Paragraphs","globalSaveCounter","NewQuest","onChange","setState","defineProperty","target","name","value","onSubmit","newQuest","result","add","collection","sent","history","paddingLeft","paddingRight","htmlFor","placeholder","backgroundColor","title","required","tags","price","level","link","location","paddingBottom","maxLength","rows","summary","firestoreConnect","questsInProgress","ordered","QuestsInProgress","Admins","questsInProgressTotal","questsInProgressFromScribeTotal","questsInProgressFromScribe","onDeleteClick","_callee2","storage","storageRef","questRef","questParagraphList","_context2","getAttribute","confirm","delete","doc","ref","child","listAll","prefixes","asyncToGenerator","mark","startingSoundAndImageFiles","outcomeSoundsFiles","outcomeImagesFiles","items","elem","soundFile","imageFile","_x2","apply","onSubmitClick","_callee3","questInProgress","_context3","JSON","stringify","alert","some","every","update","_this2","_this$state","questInProgressFromScribe","key","data-id","data-title","includes","quest","require","QuestsSubmitted","questsSubmittedTotal","questsSubmittedFromScribeTotal","onGenerateVerifier","questSubmitted","paragraphsArray","orderedParagraphsArray","paragraphsMapping","outcomeArrayLengths","paragraphsMappingString","circuit","generateAndDeployVerifierCF","response","file1","file2","questsSubmitted","indexOfNextParagraph","unshift","splice","outcomeArray","indexInParagraphsArray","parag","substring","mappingLength","functions","httpsCallable","data","File","verifierCode","uploadFile","cirDef","provingKey","verificationKey","onDeployVerifier","deployVerifierContract","compilation","web3","deploy","address","verifierContractAddress","abrupt","getDownloadURL","then","url","catch","err","contractInterface","interface","Web3","currentProvider","accounts","eth","getAccounts","Contract","parse","bytecode","send","gas","from","options","onGenerateInputProofAndVerify","_callee4","userInput","movesArray","gap","inputJSON","generateInputProofAndVerify","_context4","prompt","toString","split","proofJSONresponse","publicJSONresponse","onTestVerifierContract","_callee5","_console","_verifierContract$met","testVerifierContract","verifierContract","argumentsForCall","check","_context5","setProvider","methods","verifyProof","call","onWithdrawClick","_callee6","_context6","parseInt","questsSubmittedFromScribe","_ref7","_callee7","_context7","enable","getProvider","questSubmittedFromScribe","NarrationInput","classCallCheck","possibleConstructorReturn","getPrototypeOf","narrationInputText","backgroundImageCounter","startingSoundCounter","outcomeSoundArray","componentDidMount","paragraphInFirestore","syncedOutcomeSoundArray","QuestUnderEdition","inputText","outcomeSoundURL","outcomeSoundCounter","rankInNextParagraphs","componentDidUpdate","prevProps","_x","loadStartingSound","file","files","size","bytesLimitForUploads","startingSound","document","getElementById","URL","createObjectURL","loadOutcomeSound","newOutcomeSoundArray","outcomeSound","_x3","setToSuddenDeath","setToVictory","deleteParagraph","saveParagraph","_ref5","inputs","inputArray","resetOutcomeSoundArray","backgroundImage","_x4","loadBackgroundImage","bind","assertThisInitialized","selector","followingParagraph","fontWeight","fontSize","marginBottom","accept","rankinnextparagraphs","cursor","controls","paddingTop","startingSoundURL","backgroundImageURL","DefaultBackground","resize","justifyContent","checked","paragraphnumber","DialogueInput","dialogueInputText","indexOfDeletedNextParagraph","onChangeInputText","onChangeOutcomeText","outcomeDepthNumber","outcomeParagraphNumber","nextParagraphsUpdated","nextParagraphToUpdate","outcomeText","changeOutcomeText","_ref6","_x5","paragraphOutcomes","lineHeight","verticalAlign","data-depnum","data-parnum","overflowWrap","DialogueDefaultBackground","images","r","item","replace","importAll","PointersCatalogue","pointerArray","isSelected","selectPointer","pointerArrayWithSelection","currentTarget","children","pointersCatalogue","i","PathInput","pathInputText","selectedPointers","selectedPointersFromFirestore","selectedPointer","image","DefaultPointer","updatedSelectedPointers","_updatedSelectedPointers","_indexOfDeletedNextParagraph","isPointAndClickPath","setToPointAndClickPath","setToTextualPath","imageSRC","_x6","_x7","drag_start","_ref8","_callee8","event","pointerInMovement","offset_data","_context8","getComputedStyle","getPropertyValue","clientX","clientY","dataTransfer","setData","_x8","drag_over","offset","getData","drop","_ref9","_callee9","updatedSelectedPointersWithCoordinates","_context9","_x9","draggablePointers","isTextualPath","k","maxHeight","overflowY","border","PointersCatalogue_PointersCatalogue","maxWidth","draggable","onDragStart","onDragOver","onDrop","DefaultPathBackground","RiddleInput","riddleInputText","outcomeImageArray","syncedOutcomeImageArray","outcomeImageURL","outcomeImageCounter","newOutcomeImageArray","setToGraphicalRiddle","setToTextualRiddle","inputArraySounds","inputArrayImages","resetOutcomeImageArray","loadOutcomeImage","outcomeImage","isTextualRiddle","isGraphicalRiddle","DefaultAnswer","DefaultRiddleQuestion","MobMonsterCatalogue","monsterArray","attackPoints","defensePoints","healthPoints","selectMonster","monsterArrayWithSelection","catalogue","fontStyle","marginLeft","CombatInput","selectedMonster","combatInputText","setToMobCombat","isMobCombat","setToEliteMobCombat","isEliteMobCombat","setToFinalBossCombat","monsterImage","updatedSelectedMonster","characteristics","_ref10","_callee10","monsterInMovement","_context10","_ref11","_callee11","updatedSelectedMonsterWithCoordinates","_context11","MonsterSelection","MobMonsterCatalogue_MobMonsterCatalogue","EliteMobMonsterCatalogue_MobMonsterCatalogue","FinalBossMonsterCatalogue_MobMonsterCatalogue","DefaultCombatBackground","LinkSelection","isLinked","toggleParagraphLink","parentNode","rank","Paragraph","isSaving","processOutcomeSounds","processOutcomeImages","_this$props2","nextParagraphsCopy","paragraphAlreadyInDatabase","paragraphRef","snapshot","gsReference","_snapshot","_gsReference","boundedprocessOutcomeSounds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_el","outcomeSoundsToUpdate","boundedprocessOutcomeImages","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_el2","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_el3","outcomeImagesToUpdate","_args8","outcomeSounds","_processOutcomeSound","boundedprocessOutcomeSound","promises","lastIndexOf","refFromURL","uploadTaskSnapshot","metadata","bucket","fullPath","indexOf","Promise","all","outcomeImages","_processOutcomeImage","boundedprocessOutcomeImage","FieldValue","arrayRemove","Symbol","iterator","done","t0","return","finish","t1","t2","t3","arrayUnion","changeParagraphType","prevParagraphsInRegister","prevParagraphInRegister","stateWithClearedParagraphSubtypes","clearedNextParagraphs","tabs","parentElement","setParagraphTypeInRegister","updatedNextParagraph","updatedNextParagraphs","_ref12","_ref13","_x10","_ref14","_callee12","updatedStateSubTypes","_context12","setToSuddenDeathInRegister","_x11","_ref15","_callee13","_context13","setToVictoryInRegister","_x12","_ref16","_callee14","_context14","_x13","_ref17","_callee15","_context15","_x14","_ref18","_callee16","_context16","_x15","_ref19","_callee17","_context17","_x16","_ref20","_callee18","_context18","_x17","_ref21","_callee19","_context19","_x18","_ref22","_callee20","_context20","setToFinalBossInRegister","_x19","prevParagraph","addParagraphLink","removeParagraphLink","React","createRef","paragraphLinksSelection","nextParagraph","questbuilder_LinkSelection","newParagraphNumber","questbuilder_NarrationInput","questbuilder_DialogueInput","questbuilder_PathInput","questbuilder_RiddleInput","questbuilder_CombatInput","paragraphInRegister","indexOfDeletedParagraph","storeAs","questID","setParagraphLinkStatusInRegister","DepthLevel","onDeleteParagraph","paragraphID","parNumber","paragraphsUnchanged","paragraphToDeleteInDatabase","paragraphList","soundsFolder","imagesFolder","paragraphsInDepthLevel","decreaseParagraphFromTotal","cloneElement","questbuilder_Paragraph","uuid","v4","linkedParagraphs","paragraphsToPrint","parNumberArray","max","paragraphsArrayFromFirestore","reduce","b","Math","onAddParagraph","addParagraphToTotal","scrollIntoView","behavior","block","inline","onDeleteDepthLevel","getElementsByClassName","deleteDepthLevel","alignItems","overflowX","QuestBuilder","initialID","isLoading","onAddDepthLevel","targetScroll","addDepthLevel","scrollToTarget","decreaseDepthLevel","startingParagraph","match","params","syncRegistersInRedux","componentWillUnmount","clearQuestData","onSaveUnderEdition","saveInputElementsHTMLCollection","checkIfSavingIsFinished","checkHTMLCollection","setToGlobalSaving","Array","click","setTimeout","depthLevels","questbuilder_DepthLevel","react_router","float","marginRight","QuestDetails","questUpdate","TitleInput","current","TagsInput","PriceInput","LevelInput","LinkInput","LocationInput","SummaryInput","defaultValue","Alert","classnames","alert-ok","alert-failed","Login","password","login","layout_Alert","Register","accountName","createUser","updateProfile","minLength","propTyopes","PropTypes","object","isRequired","func","AppComponent","numChildren","onAddChild","TestChildClick_ChildComponent","number","TestChildClick_ParentComponent","addChild","ParentComponent","ChildComponent","App","es","layout_AppNavbar","exact","path","component","Boolean","hostname","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAA,uwMCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,gHCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uOCAxC,SAAAC,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAJ,EAAAC,QAAAG,EACAA,EAAAO,GAAA,yBCRA,IAAAC,EAAA,CACAC,UAAA,GACAC,UAAA,IACAC,UAAA,IACAC,UAAA,IACAC,UAAA,IACAC,UAAA,KAIA,SAAAC,EAAAd,GACA,IAAAM,EAAAS,EAAAf,GACA,OAAAH,EAAAS,GAEA,SAAAS,EAAAf,GACA,IAAAM,EAAAC,EAAAP,GACA,KAAAM,EAAA,IACA,IAAAL,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEA,OAAAK,EAEAQ,EAAAV,KAAA,WACA,OAAAY,OAAAZ,KAAAG,IAEAO,EAAAT,QAAAU,EACApB,EAAAC,QAAAkB,EACAA,EAAAR,GAAA,yBC5BAX,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxC,IAAAS,EAAA,CACAC,UAAA,IACAC,UAAA,IACAC,UAAA,KAIA,SAAAI,EAAAd,GACA,IAAAM,EAAAS,EAAAf,GACA,OAAAH,EAAAS,GAEA,SAAAS,EAAAf,GACA,IAAAM,EAAAC,EAAAP,GACA,KAAAM,EAAA,IACA,IAAAL,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEA,OAAAK,EAEAQ,EAAAV,KAAA,WACA,OAAAY,OAAAZ,KAAAG,IAEAO,EAAAT,QAAAU,EACApB,EAAAC,QAAAkB,EACAA,EAAAR,GAAA,yBCzBAX,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxC,IAAAS,EAAA,CACAC,UAAA,IACAC,UAAA,IACAC,UAAA,KAIA,SAAAI,EAAAd,GACA,IAAAM,EAAAS,EAAAf,GACA,OAAAH,EAAAS,GAEA,SAAAS,EAAAf,GACA,IAAAM,EAAAC,EAAAP,GACA,KAAAM,EAAA,IACA,IAAAL,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEA,OAAAK,EAEAQ,EAAAV,KAAA,WACA,OAAAY,OAAAZ,KAAAG,IAEAO,EAAAT,QAAAU,EACApB,EAAAC,QAAAkB,EACAA,EAAAR,GAAA,yBCzBAX,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxC,IAAAS,EAAA,CACAC,UAAA,IACAC,UAAA,KAIA,SAAAK,EAAAd,GACA,IAAAM,EAAAS,EAAAf,GACA,OAAAH,EAAAS,GAEA,SAAAS,EAAAf,GACA,IAAAM,EAAAC,EAAAP,GACA,KAAAM,EAAA,IACA,IAAAL,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEA,OAAAK,EAEAQ,EAAAV,KAAA,WACA,OAAAY,OAAAZ,KAAAG,IAEAO,EAAAT,QAAAU,EACApB,EAAAC,QAAAkB,EACAA,EAAAR,GAAA,yBCxBAX,EAAAC,QAAiBC,EAAAC,EAAuB,mDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+OCElCmB,EAAe,CACnBC,QAAS,KACTC,YAAa,MCGTF,EAAe,CACnBG,eAAgB,WCOZH,EAAe,CACnBI,gBAAgB,EAChBC,qBAAsB,EACtBC,kBAAmB,CACjB,CACEC,YAAa,EACbC,gBAAiB,EAEjBC,wBAAwB,EACxBC,4BAA4B,EAC5BC,cAAe,YACfC,kBAAmB,CACjBC,eAAe,EACfC,WAAW,EACXC,mBAAmB,GAErBC,eAAgB,GAChBC,mBAAoB,KAGxBC,sBAAuB,ICPzBC,IAASC,cAhBc,CACrBC,OAAQ,0CACRC,WAAY,+BACZC,YAAa,sCACbC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,iBAarBP,IAASQ,YAGT,IA4BeC,EA5BiBC,YAC9BC,6BAAmBX,IAbH,CAChBY,YAAa,QACbC,wBAAwB,IAYxBC,yBAAed,KAFeU,CAG9BK,IAaYC,CAVMC,YAAgB,CAClCjB,SAAUkB,kBACVV,UAAWW,mBACXC,OHpCa,WAAuC,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBzC,EAAc4C,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOC,MACb,IITuB,cJUrB,OAAO9C,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEvC,QAAS2C,EAAO3C,QAChBC,YAAa0C,EAAO1C,cAExB,QACE,OAAOsC,IG4BXrC,eFjCa,WAAuC,IAA9BqC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBzC,EAAc4C,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOC,MACb,IGV2B,kBHYzB,OAAID,EAAOG,wBAA0BP,EAAMrC,gBACzC6C,QAAQC,IAAI,uBACZD,QAAQC,IAAIL,EAAOG,uBACnBC,QAAQC,IAAIT,EAAMrC,gBACXJ,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgByC,EAAOG,sBAAwB,MAGjDC,QAAQC,IAAI,UAELlD,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgBqC,EAAMrC,eAAiB,KAM7C,IG9BgC,uBH+B9B,OAAIyC,EAAOG,wBAA0BP,EAAMrC,gBACzC6C,QAAQC,IAAI,YACZD,QAAQC,IAAIL,EAAOG,uBAEZhD,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgByC,EAAOG,sBAAwB,MAGjDC,QAAQC,IAAI,YACZD,QAAQC,IAAIT,EAAMrC,gBACXJ,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgBqC,EAAMrC,eAAiB,KAI7C,IGnC4B,mBHoC1B,OAAOJ,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgB,IAGpB,IG1CmC,0BH2CjC,OAAOJ,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEErC,eAAgByC,EAAOM,8BAG3B,QACE,OAAOV,IEpBXW,cDPa,WAAuC,IAA9BX,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBzC,EAAc4C,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQC,EAAOC,MACb,IElCkC,yBFmChC,OAAO9C,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEnC,qBAAsBmC,EAAMnC,qBAAuB,EACnDC,kBAAmBkC,EAAMlC,kBAAkB8C,OACzCR,EAAOS,4BAGb,IEzCyC,gCF0CvC,IAAIC,EAAqBd,EAAMlC,kBAAkBiD,OAAO,SAACC,EAAIC,GAC3D,OACED,EAAGjD,cAAgBqC,EAAOc,4BAA4BnD,aACtDiD,EAAGhD,gBACDoC,EAAOc,4BAA4BlD,kBAIrCmD,EAA0B,GAE9BL,EAAmBM,QAAQ,SAAAJ,GACzBG,EAAwBE,KAAK,CAC3BtD,YAAaqC,EAAOc,4BAA4BnD,YAChDC,gBAAiBgD,EAAGhD,gBAAkB,MAM1C,IAAIsD,EAAwBtB,EAAMlC,kBAAkBiD,OAClD,SAACC,EAAIC,GACH,OACED,EAAGjD,YAAcqC,EAAOc,4BAA4BnD,aACnDiD,EAAGhD,gBACFoC,EAAOc,4BAA4BlD,iBACnCgD,EAAGjD,cAAgBqC,EAAOc,4BAA4BnD,cAO1DwD,EAAuBvB,EAAMlC,kBAAkBiD,OAAO,SAACC,EAAIC,GAC7D,OAAOD,EAAGjD,YAAcqC,EAAOc,4BAA4BnD,cAIzDyD,EAAwC,GAAAZ,OAAArD,OAAAkE,EAAA,EAAAlE,CACvC+D,GACAH,EAFuC5D,OAAAkE,EAAA,EAAAlE,CAGvCgE,IAGL,OAAOhE,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEnC,qBAAsBmC,EAAMnC,qBAAuB,EACnDC,kBAAmB0D,IAGvB,IE1F8B,qBF6F5B,IAAIE,EAAiCnE,OAAAkE,EAAA,EAAAlE,CAAOyC,EAAMlC,mBAE9C6D,EAAiBpE,OAAA+C,EAAA,EAAA/C,CAAA,GAChBmE,EAAkCE,KACnC,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAO0B,iCAAiC/D,aAC1C8D,EAAU7D,kBACRoC,EAAO0B,iCAAiC9D,mBAGhD2D,EAAkBlD,mBAAlBlB,OAAAkE,EAAA,EAAAlE,CACKoE,EAAkBlD,oBAGvBkD,EAAkBzD,4BAA6B,EAC/CyD,EAAkBlD,mBAAmB4C,KAAK,CACxCtD,YACEqC,EAAO0B,iCAAiCC,6BAC1C/D,gBACEoC,EAAO0B,iCACJE,mCAGP,IAAIC,EAAqBP,EAAkCQ,UACzD,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAO0B,iCAAiC/D,aAC1C8D,EAAU7D,kBACRoC,EAAO0B,iCAAiC9D,kBAG9C0D,EAAkCO,GAAsBN,EAExD,IAAIQ,EAAkB5E,OAAA+C,EAAA,EAAA/C,CAAA,GACjBmE,EAAkCE,KACnC,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAO0B,iCACJC,8BACLF,EAAU7D,kBACRoC,EAAO0B,iCACJE,oCAIXG,EAAmB3D,eAAnBjB,OAAAkE,EAAA,EAAAlE,CACK4E,EAAmB3D,gBAGxB2D,EAAmBlE,wBAAyB,EAC5CkE,EAAmB3D,eAAe6C,KAAK,CACrCtD,YAAaqC,EAAO0B,iCAAiC/D,YACrDC,gBAAiBoC,EAAO0B,iCAAiC9D,kBAG3D,IAAIoE,EAAsBV,EAAkCQ,UAC1D,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAO0B,iCACJC,8BACLF,EAAU7D,kBACRoC,EAAO0B,iCACJE,mCAOT,OAJAN,EACEU,GACED,EAEG5E,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEtB,sBAAuBsB,EAAMtB,sBAAsBkC,OACjDR,EAAO0B,kCAEThE,kBAAmB4D,IAEvB,IEzKiC,wBF0K/B,IAAIW,EAA2CrC,EAAMlC,kBAEjDwE,EAAuBD,EAAyCT,KAClE,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAOmC,oCAAoCxE,aAC7C8D,EAAU7D,kBACRoC,EAAOmC,oCAAoCvE,kBAEjDsE,EAAqB7D,mBAAqB6D,EAAqB7D,mBAAmBsC,OAChF,SAAAyB,GAAiB,OACfA,EAAkBzE,cAChBqC,EAAOmC,oCACJR,8BACLS,EAAkBxE,kBAChBoC,EAAOmC,oCACJP,mCAE8C,IAAnDM,EAAqB7D,mBAAmByB,SAC1CoC,EAAqBpE,4BAA6B,GAGpD,IAAIuE,EAAwBJ,EAAyCT,KACnE,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAOmC,oCACJR,8BACLF,EAAU7D,kBACRoC,EAAOmC,oCACJP,mCAaT,OAXAS,EAAsBjE,eAAiBiE,EAAsBjE,eAAeuC,OAC1E,SAAAyB,GAAiB,OACfA,EAAkBzE,cAChBqC,EAAOmC,oCAAoCxE,aAC7CyE,EAAkBxE,kBAChBoC,EAAOmC,oCAAoCvE,kBAEG,IAAhDyE,EAAsBjE,eAAe0B,SACvCuC,EAAsBxE,wBAAyB,GAG1CV,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEtB,sBAAuBsB,EAAMtB,sBAAsBqC,OACjD,SAAA2B,GAAa,OACXA,EAAc3E,cACZqC,EAAOmC,oCAAoCxE,aAC7C2E,EAAc1E,kBACZoC,EAAOmC,oCAAoCvE,iBAC7C0E,EAAcX,+BACZ3B,EAAOmC,oCACJR,8BACLW,EAAcV,mCACZ5B,EAAOmC,oCACJP,mCAETlE,kBAAmBuE,IAEvB,IEpO+B,sBFsO7B,IAAIM,EAAmC3C,EAAMlC,kBAAkB8D,KAC7D,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAOwC,sCAAsC7E,aAC/C8D,EAAU7D,kBACRoC,EAAOwC,sCAAsC5E,kBAInD2E,EAAiCvE,kBAAjCb,OAAA+C,EAAA,EAAA/C,CAAA,GACKoF,EAAiCvE,mBAGtCuE,EAAiCvE,kBAAkBC,eAAiBsE,EACjEvE,kBAAkBC,cAGrB,IAAIwE,EAAiC7C,EAAMlC,kBAW3C,OAVA+E,EACE7C,EAAMlC,kBAAkBoE,UACtB,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAOwC,sCAAsC7E,aAC/C8D,EAAU7D,kBACRoC,EAAOwC,sCAAsC5E,mBAEjD2E,EAEGpF,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmB+E,IAEvB,IErQ0B,iBFuQxB,IAAIC,EAA+B9C,EAAMlC,kBAAkB8D,KACzD,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAO2C,kCAAkChF,aAC3C8D,EAAU7D,kBACRoC,EAAO2C,kCAAkC/E,kBAG/C8E,EAA6B1E,kBAA7Bb,OAAA+C,EAAA,EAAA/C,CAAA,GACKuF,EAA6B1E,mBAGlC0E,EAA6B1E,kBAAkBE,WAAawE,EACzD1E,kBAAkBE,UAErB,IAAI0E,EAA6BhD,EAAMlC,kBAWvC,OAVAkF,EACEhD,EAAMlC,kBAAkBoE,UACtB,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAO2C,kCAAkChF,aAC3C8D,EAAU7D,kBACRoC,EAAO2C,kCAAkC/E,mBAE7C8E,EAEGvF,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmBkF,IAGvB,IErS4B,mBFuS1B,IAAIC,EAAiCjD,EAAMlC,kBAAkB8D,KAC3D,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAO8C,oCAAoCnF,aAC7C8D,EAAU7D,kBACRoC,EAAO8C,oCAAoClF,kBAGjDiF,EAA+B7E,kBAA/Bb,OAAA+C,EAAA,EAAA/C,CAAA,GACK0F,EAA+B7E,mBAEpC6E,EAA+B7E,kBAAkBG,mBAAqB0E,EAA+B1E,kBAErG,IAAI4E,EAA+BnD,EAAMlC,kBAWzC,OAVAqF,EACEnD,EAAMlC,kBAAkBoE,UACtB,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAO8C,oCAAoCnF,aAC7C8D,EAAU7D,kBACRoC,EAAO8C,oCAAoClF,mBAE/CiF,EAEG1F,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmBqF,IAGvB,IEnU8B,qBFqU5B,IAAIC,EAA4BpD,EAAMlC,kBAAkB8D,KACtD,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAOiD,oCAAoCtF,aAC7C8D,EAAU7D,kBACRoC,EAAOiD,oCAAoCrF,kBAGjDoF,EAA0BjF,cAAgBiC,EAAOjC,cAMjD,IAHA,IAAIxB,EAAOY,OAAOZ,KAAKyG,EAA0BhF,mBAC7CkF,EAA2B,GAEtBC,EAAI,EAAGA,EAAI5G,EAAKuD,OAAQqD,IAC/BD,EAAyB3G,EAAK4G,KAAM,EAEtCH,EAA0BhF,kBAAoBkF,EAG9C,IAAIE,EAAmCxD,EAAMlC,kBAW7C,OAVA0F,EACExD,EAAMlC,kBAAkBoE,UACtB,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAOiD,oCAAoCtF,aAC7C8D,EAAU7D,kBACRoC,EAAOiD,oCAAoCrF,mBAE/CoF,EAEG7F,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmB0F,IAGvB,IExWqC,4BF0WnC,IAAIC,EAAkCzD,EAAMlC,kBAAkB8D,KAC5D,SAAAC,GAAS,OACPA,EAAU9D,cACRqC,EAAOsD,0CAA0C3F,aACnD8D,EAAU7D,kBACRoC,EAAOsD,0CAA0C1F,kBAGzB,SAA1BoC,EAAOuD,eACTF,EAAgCxF,uBAAyBmC,EAAOwD,OAC7B,aAA1BxD,EAAOuD,iBAChBF,EAAgCvF,2BAC9BkC,EAAOwD,QAGX,IAAIC,EAAyC7D,EAAMlC,kBAWnD,OAVA+F,EACE7D,EAAMlC,kBAAkBoE,UACtB,SAAAL,GAAS,OACPA,EAAU9D,cACRqC,EAAOsD,0CAA0C3F,aACnD8D,EAAU7D,kBACRoC,EAAOsD,0CAA0C1F,mBAErDyF,EAEGlG,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmB+F,IAGvB,IEvYmC,0BFwYjC,OAAOtG,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEElC,kBAAmBsC,EAAO0D,+BAC1BpF,sBAAuB0B,EAAO2D,qCAGlC,IE7Y4B,mBF8Y1B,OAAOxG,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEnC,qBAAsB,EACtBC,kBAAmB,CACjB,CACEC,YAAa,EACbC,gBAAiB,EAEjBC,wBAAwB,EACxBC,4BAA4B,EAC5BC,cAAe,YACfC,kBAAmB,CACjBC,eAAe,EACfC,WAAW,EACXC,mBAAmB,GAErBC,eAAgB,GAChBC,mBAAoB,KAGxBC,sBAAuB,KAG3B,IEpagC,uBFqa9B,OAAOnB,OAAA+C,EAAA,EAAA/C,CAAA,GACFyC,EADL,CAEEpC,gBAAiBoC,EAAMpC,iBAG3B,QACE,OAAOoC,MC5YQ,GAInBX,YACEC,6BAAmBX,KACnBqF,OAAOC,6BACHD,OAAOC,8BACLD,OAAOC,+BACT,SAAAC,GAAC,OAAIA,kDEvDE,SAASC,IACtB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,SACnCL,EAAAC,EAAAC,cAAA,OACEI,IAAKC,IACLC,IAAI,aACJL,MAAO,CACLC,OAAQ,QACRC,MAAO,QACPI,QAAS,QACTC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXC,OAAQ,MCZlB,IAAMC,EAAiBC,IAAsB,IAGhCC,EAAsBC,kCAAwB,CACzDC,mBAAoB,sBACpBC,wBAAyBC,EACzBC,mBAAmB,EACnBC,aAAc,SAAC3F,EAAO4F,GAAR,OACZT,EAAeU,sBAAsBD,IAAa,UACpDE,uBAAwB,SAAAC,GAAA,IAAAC,EAAAD,EAAGpH,SAAYsH,EAAfD,EAAeC,KAAeC,GAA9BF,EAAqBG,QAArBH,EAA8BE,gBAA9B,OACrBD,EAAKG,WAA+B,IAAnBF,GACpBG,sBAAuB,SAAAC,GAAA,IAAeL,EAAfK,EAAG3H,SAAYsH,KAAf,OACrBA,EAAKG,WAAaH,EAAKM,WAGdC,EAAyBlB,kCAAwB,CAC5DC,mBAAoB,yBACpBC,wBAAyBC,EACzBC,mBAAmB,EACnBC,aAAc,SAAC3F,EAAO4F,GAAR,OACZT,EAAeU,sBAAsBD,IAAa,sBACpDE,uBAAwB,SAAAW,GAAA,IAAAC,EAAAD,EAAG9H,SAAYsH,EAAfS,EAAeT,KAAMC,EAArBQ,EAAqBR,eAArB,OACrBD,EAAKG,WAA+B,IAAnBF,GACpBG,sBAAuB,SAAAM,GAAA,IAAeV,EAAfU,EAAGhI,SAAYsH,KAAf,OACrBA,EAAKG,UAAYH,EAAKM,2CC3BbK,EAAa,SAACnJ,EAASC,GAClC,MAAO,CACL2C,KHJuB,cGKvB5C,UACAC,gBCEEmJ,6MACJ7G,MAAQ,CACN8G,iBAAiB,KAYnBC,oDAAgB,SAAAC,EAAMxK,GAAN,IAAAyK,EAAAtI,EAAAiI,EAAAM,EAAAzJ,EAAAC,EAAA,OAAAyJ,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACd/K,EAAEgL,iBADYP,EAEmBQ,EAAKC,MAA9B/I,EAFMsI,EAENtI,SAAUiI,EAFJK,EAEIL,WAFJM,EAGmBO,EAAKC,MAAM3H,OAApCtC,EAHMyJ,EAGNzJ,QAASC,EAHHwJ,EAGGxJ,aACbD,IAAWC,EAJD,CAAA2J,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAKNX,EAAW,KAAM,MALX,OAOdjI,EAASgJ,SAPK,wBAAAN,EAAAO,SAAAZ,oIAUP,IACCF,EAAoBe,KAAK7H,MAAzB8G,gBACAb,EAAS4B,KAAKH,MAAdzB,KACR,OACE7B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,wCACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,QAAQF,UAAU,2BAA3B,QAGA1D,EAAAC,EAAAC,cAAA,UACEwD,UAAU,iBACVzH,KAAK,SACL4H,cAAY,WACZC,cAAY,eAEZ9D,EAAAC,EAAAC,cAAA,QAAMwD,UAAU,yBAElB1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,2BAA2BjL,GAAG,cAC3CuH,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,sBACZ1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,qBACZ1D,EAAAC,EAAAC,cAAA,KACEwD,UAAU,sCACVK,KAAK,IACLtL,GAAG,aACHoL,cAAY,WACZG,gBAAc,OACdC,gBAAc,SANhB,WAUAjE,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,gBAAgBQ,kBAAgB,cAC7ClE,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAG,iBACHF,UAAU,2BAFZ,WAMA1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAG,iBACHF,UAAU,2BAFZ,WAMA1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,eAAeF,UAAU,2BAAlC,WAKJ1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,qBACZ1D,EAAAC,EAAAC,cAAA,KACEwD,UAAU,sCACVK,KAAK,IACLtL,GAAG,aACHoL,cAAY,WACZG,gBAAc,OACdC,gBAAc,SANhB,WAUAjE,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,gBAAgBQ,kBAAgB,cAC7ClE,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAG,qBACHF,UAAU,2BAFZ,gBAMA1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAG,iBACHF,UAAU,2BAFZ,WAMA1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAG,iBACHF,UAAU,2BAFZ,WAMA1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,eAAeF,UAAU,2BAAlC,WAKJ1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,qBACZ1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,eAAeF,UAAU,uBAAlC,iBAMHhB,EACC1C,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,sBACZ1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,YACZ1D,EAAAC,EAAAC,cAAA,KAAG6D,KAAK,KAAKL,UAAU,uBACpB7B,EAAKsC,QAGVnE,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,YACZ1D,EAAAC,EAAAC,cAAA,KACE6D,KAAK,KACLL,UAAU,sBACVU,QAASX,KAAKd,eAHhB,YASF,KACFD,EAaE,KAZF1C,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,sBACZ1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,YACZ1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,SAASF,UAAU,uBAA5B,UAIF1D,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,YACZ1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,YAAYF,UAAU,uBAA/B,qEAxIcJ,EAAO1H,GAErC,OADiB0H,EAATzB,KACCwC,IACA,CAAE3B,iBAAiB,GAEnB,CAAEA,iBAAiB,UAVR4B,aAkKTrJ,cACbsJ,4BACAC,kBACE,SAAC5I,EAAO0H,GAAR,MAAmB,CACjBzB,KAAMjG,EAAMrB,SAASsH,KACrBlG,OAAQC,EAAMD,SAEhB,CAAE6G,eAPSvH,CASbwH,GC7KIgC,mLAEF,IAAIC,EAAOjB,KAAKH,MAAM/I,SAASsH,OAAO8C,YACtC,OAAKD,EAAKE,YAcN5E,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,UAGb7E,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL2E,OAAQ,OACRrE,QAAS,QACTsE,UAAW,WAJf,YAAAvI,OAOekI,EAAKE,YAPpB,OASA5E,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAE,yBACFF,UAAU,eACVvD,MAAO,CAAEE,MAAO,MAAOyE,OAAQ,OAAQrE,QAAS,UAHlD,aAOAT,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAE,2BACFF,UAAU,eACVvD,MAAO,CAAEE,MAAO,MAAOyE,OAAQ,OAAQrE,QAAS,UAHlD,sBAOAT,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAE,0BACFF,UAAU,eACVvD,MAAO,CAAEE,MAAO,MAAOyE,OAAQ,OAAQrE,QAAS,UAHlD,qBAhDFT,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,kBAXOP,aAkEfC,8BAAkBE,WC7DlBO,EAXF,WACX,IAAIC,EAAQ,IAAIC,KACZC,EAAKF,EAAMG,UACXC,EAAKJ,EAAMK,WAAa,EACxBC,EAAON,EAAMO,cAIjB,OAFIL,EAAK,KAAIA,EAAK,IAAMA,GACpBE,EAAK,KAAIA,EAAK,IAAMA,GACxB,GAAA7I,OAAU2I,EAAV,KAAA3I,OAAgB6I,EAAhB,KAAA7I,OAAsB+I,IC+BTE,EAvCO,CACpBC,MAAO,GACPC,KAAM,GACNC,MAAO,EACPC,MAAO,EACPC,KAAM,GACNC,SAAU,GACVC,QAAS,GACTC,aAAc,EACd1M,eAAgB,EAChBG,kBAAmB,CACjB,CACEC,YAAa,EACbC,gBAAiB,EAEjBC,wBAAwB,EACxBC,4BAA4B,EAC5BC,cAAe,YACfC,kBAAmB,CACjBC,eAAe,EACfC,WAAW,EACXC,mBAAmB,GAErBC,eAAgB,GAChBC,mBAAoB,KAGxBC,sBAAuB,GACvB4L,aAAc,GACdC,aAAc,GACdC,eAAgB,GAChBC,OAAQ,cACRC,SAAU,GACVC,WAAY,GACZC,YAAa,GACbC,WAAY,GACZC,kBAAmB,GC1BfC,6MACJ/K,MAAQ6J,IAERmB,SAAW,SAAAxO,GAAC,OAAIiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,WAE1DC,+CAAW,SAAAtE,EAAMxK,GAAN,IAAAsM,EAAA4B,EAAAC,EAAAC,EAAAW,EAAApM,EAAAqM,EAAA,OAAArE,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACT/K,EAAEgL,iBACEsB,EAAOrB,EAAKC,MAAM/I,SAASsH,OAAO8C,YAClC2B,EAAW5B,EAAKL,IAChBkC,EAAa7B,EAAKE,YAClB4B,EAAc9B,EAAKP,MALdlB,EAAAE,KAAA,EAOHE,EAAKwD,SAAS,CAClBX,aAAclB,IACdmB,aAAcnB,IACdsB,WACAC,aACAC,gBAZO,cAcHW,EAAW9D,EAAKzH,MACdb,EAAcsI,EAAKC,MAAnBvI,UAfCkI,EAAAE,KAAA,GAgBYpI,EAAUsM,IAC7B,CAAEC,WAAY,oBACdH,GAlBO,QAgBHC,EAhBGnE,EAAAsE,KAqBTlE,EAAKC,MAAMkE,QAAQvK,KAAnB,6BAAAT,OAAqD4K,EAAO3O,KArBnD,yBAAAwK,EAAAO,SAAAZ,oIAyBT,OACE5C,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,QACXxE,MAAO,QAGTL,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL2E,OAAQ,OACRrE,QAAS,QACTsE,UAAW,WAJf,mBAOmB,KAEnB/E,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,qBAAqBF,UAAU,MAAMjL,GAAG,cAC/CuH,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,2BAA2BjL,GAAG,eAD7C,kBAKFuH,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACLY,YAAY,iBACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMkM,MAClBlB,SAAUnD,KAAKmD,SACfmB,UAAQ,KAGZ/H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,aAA3C,QAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,OACLY,YAAY,wBACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMoM,KAClBpB,SAAUnD,KAAKmD,SACfmB,UAAQ,MAId/H,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACLY,YAAY,OACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMqM,MAClBrB,SAAUnD,KAAKmD,SACfmB,UAAQ,KAGZ/H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACLY,YAAY,IACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMsM,MAClBtB,SAAUnD,KAAKmD,SACfmB,UAAQ,MAId/H,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,aAA3C,QAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,OACLY,YAAY,sDACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMuM,KAClBvB,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,iBAA3C,YAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,WACLY,YAAY,iCACZzH,MAAO,CAAE0H,gBAAiB,sBAC1BZ,MAAOxD,KAAK7H,MAAMwM,SAClBxB,SAAUnD,KAAKmD,SACfmB,UAAQ,MAId/H,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACdW,cAAe,SAGjBrI,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,QAA3C,WAGA3H,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,UACLsB,UAAU,MACVV,YAAY,iIACZW,KAAK,IACLR,UAAQ,EACR5H,MAAO,CACL0H,gBAAiB,sBAEnBZ,MAAOxD,KAAK7H,MAAM4M,QAClB5B,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAAA,UACEjE,KAAK,SACLyH,UAAU,eACVvD,MAAO,CACLS,KAAM,MACNF,SAAU,WACVG,UAAW,mBACXgE,UAAW,SAPf,0BAU0B,cAxMbP,aAoNRrJ,cACbwN,2BAAiB,CAAC,CAAEnB,WAAY,sBAChC9C,kBAAQ,SAAC5I,EAAO0H,GAAR,MAAmB,CACzBoF,iBAAkB9M,EAAMb,UAAU4N,QAAQC,oBAH/B3N,CAKb0L,GCxNakC,EAVA,CAAC,gCCUVD,6MACJhN,MAAQ,CACNkN,sBAAuB,KACvBC,gCAAiC,KACjCC,2BAA4B,QAyB9BC,oDAAgB,SAAAC,EAAM9Q,GAAN,IAAA2C,EAAAtC,EAAAqP,EAAAqB,EAAAC,EAAAC,EAAAC,EAAA,OAAAvG,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACNpI,EAAcsI,EAAKC,MAAnBvI,UACFtC,EAAKL,EAAE2O,OAAOyC,aAAa,WAC3B1B,EAAQ1P,EAAE2O,OAAOyC,aAAa,eAGlC5J,OAAO6J,QAAP,8CAAAjN,OACgDsL,EADhD,mEANY,CAAAyB,EAAApG,KAAA,gBAAAoG,EAAApG,KAAA,EAYNpI,EAAU2O,OAAO,CACrBpC,WAAY,mBACZqC,IAAKlR,IAdK,cAmBR0Q,EAAU9F,EAAKC,MAAM/I,SAAS4O,UAG9BC,EAAaD,EAAQS,MAErBP,EAAWD,EAAWS,MAAX,GAAArN,OAAoB/D,IAxBvB8Q,EAAApG,KAAA,GAyBqBkG,EAASS,UAzB9B,eAyBNR,EAzBMC,EAAAhC,KAAAgC,EAAApG,KAAA,GA2BNmG,EAAmBS,SAAS/M,QAA5B,eAAAkF,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAAoC,SAAArH,EAAMhG,GAAN,IAAAsN,EAAAC,EAAAC,EAAA,OAAArH,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACDvG,EAAGkN,UADF,cACpCI,EADoCjH,EAAAsE,KAAAtE,EAAAE,KAAA,EAElC+G,EAA2BG,MAAMrN,QAAQ,SAAAsN,GAAI,OAAIA,EAAKZ,WAFpB,cAAAzG,EAAAE,KAAA,EAITvG,EAC5BiN,MAAM,YACNA,MAAM,UACNC,UAPqC,cAIpCK,EAJoClH,EAAAsE,KAAAtE,EAAAE,KAAA,GAQlCgH,EAAmBE,MAAMrN,QAAQ,SAAAuN,GAAS,OAAIA,EAAUb,WARtB,eAAAzG,EAAAE,KAAA,GAUTvG,EAC5BiN,MAAM,YACNA,MAAM,UACNC,UAbqC,eAUpCM,EAVoCnH,EAAAsE,KAAAtE,EAAAE,KAAA,GAclCiH,EAAmBC,MAAMrN,QAAQ,SAAAwN,GAAS,OAAIA,EAAUd,WAdtB,yBAAAzG,EAAAO,SAAAZ,MAApC,gBAAA6H,GAAA,OAAAvI,EAAAwI,MAAAjH,KAAA5H,YAAA,IA3BM,yBAAA0N,EAAA/F,SAAA0F,8DA8ChByB,oDAAgB,SAAAC,EAAMxS,GAAN,IAAAK,EAAAoS,EAAAzD,EAAA,OAAArE,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,UACR1K,EAAKL,EAAE2O,OAAOyC,aAAa,WAC7BqB,EAFU1R,OAAA+C,EAAA,EAAA/C,CAAA,GAGTkK,EAAKC,MAAMoF,iBAAiBlL,KAAK,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOA,KAEtD2D,QAAQC,IAAI0O,KAAKC,UAAUH,IAEe,IAAtCA,EAAgBnE,kBAPN,CAAAoE,EAAA3H,KAAA,QAQZvD,OAAOqL,MACL,+DATUH,EAAA3H,KAAA,mBAYX0H,EAAgBpE,WAAWyE,KAC1B,SAAAtO,GAAE,OAAuC,IAAnCA,EAAG5C,kBAAkBE,YAbjB,CAAA4Q,EAAA3H,KAAA,SAgBZvD,OAAOqL,MACL,qGAjBUH,EAAA3H,KAAA,oBAoBX0H,EAAgBpE,WAAWyE,KAC1B,SAAAtO,GAAE,OAA+C,IAA3CA,EAAG5C,kBAAkBG,oBArBjB,CAAA2Q,EAAA3H,KAAA,SAwBZvD,OAAOqL,MACL,wGAzBUH,EAAA3H,KAAA,oBA4BX0H,EAAgBpE,WAAW0E,MAC1B,SAAAvO,GAAE,OAAsC,IAAlCA,EAAG9C,6BA7BC,CAAAgR,EAAA3H,KAAA,SAgCZvD,OAAOqL,MACL,gIAjCUH,EAAA3H,KAAA,oBAoCX0H,EAAgBpE,WAAW0E,MAC1B,SAAAvO,GAAE,OAC8B,IAA9BA,EAAG/C,yBACgC,IAAnC+C,EAAG5C,kBAAkBE,YACkB,IAAvC0C,EAAG5C,kBAAkBC,gBAxCb,CAAA6Q,EAAA3H,KAAA,SA2CZvD,OAAOqL,MACL,kKA5CUH,EAAA3H,KAAA,qBAgDVvD,OAAO6J,QAAP,8CAAAjN,OAEIqO,EAAgBnF,MAFpB,OAhDU,CAAAoF,EAAA3H,KAAA,gBAsDV0H,EAAgBxE,OAAS,YACzBwE,EAAgBzE,eAAiBpB,IAvDvB8F,EAAA3H,KAAA,GAyDWE,EAAKC,MAAMvI,UAAUsM,IACxC,CAAEC,WAAY,mBACduD,GA3DQ,eAyDJzD,EAzDI0D,EAAAvD,KAAAuD,EAAA3H,KAAA,GA6DJE,EAAKC,MAAMvI,UAAUqQ,OACzB,CAAE9D,WAAY,kBAAmBqC,IAAKvC,EAAO3O,IAC7C,CACEA,GAAI2O,EAAO3O,KAhEL,eAAAqS,EAAA3H,KAAA,GAmEJE,EAAKC,MAAMvI,UAAU2O,OAAO,CAChCpC,WAAY,mBACZqC,IAAKlR,IArEG,QAuEVmH,OAAOqL,MAAP,gFAGA5H,EAAKC,MAAMkE,QAAQvK,KAAnB,2BA1EU,yBAAA6N,EAAAtH,SAAAoH,oIA+EP,IAAAS,EAAA5H,KAAA6H,EAIH7H,KAAK7H,MAFPoN,EAFKsC,EAELtC,2BACAD,EAHKuC,EAGLvC,gCAGF,OAAIC,EAEAhJ,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,UAGb7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,qBAAqBF,UAAU,MAAMjL,GAAG,cAC/CuH,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,2BAA2BjL,GAAG,eAD7C,kBAKFuH,EAAAC,EAAAC,cAAA,kCACuBF,EAAAC,EAAAC,cAAA,YAAO6I,IAE9B/I,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,SACf1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,iBACf1D,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,uBAGJF,EAAAC,EAAAC,cAAA,aACG8I,EAA2BtQ,IAAI,SAAA6S,GAAyB,OACvDvL,EAAAC,EAAAC,cAAA,MAAIsL,IAAKD,EAA0B9S,IACjCuH,EAAAC,EAAAC,cAAA,UAAKqL,EAA0B7F,OAC/B1F,EAAAC,EAAAC,cAAA,UAAKqL,EAA0BrF,cAC/BlG,EAAAC,EAAAC,cAAA,UAAKqL,EAA0BpF,cAC/BnG,EAAAC,EAAAC,cAAA,UAAKqL,EAA0BtF,cAC/BjG,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAE,wBAAApH,OACA+O,EAA0B9S,IAE5BiL,UAAU,4BAEV1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,8BANf,SAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASF,EAA0B9S,GACnCiT,aAAYH,EAA0B7F,MACtCtB,QAASiH,EAAKpC,cACdvF,UAAU,4BAEV1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,eANf,WAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASF,EAA0B9S,GACnCiT,aAAYH,EAA0B7F,MACtCtB,QAASiH,EAAKV,cACdjH,UAAU,4BAEV1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,2BANf,kBAiBZ1D,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,8DAtOWvB,EAAO1H,GACrC,IAAM8M,EAAmBpF,EAAMoF,iBAC3BhE,EAAOpB,EAAM/I,SAASsH,OAAO8C,YAEjC,GAAI+D,EAAkB,CACpB,GAAIG,EAAO8C,SAASjH,EAAKL,KACvB,IAAI2E,EAA6BN,OAEjCM,EAA6BN,EAAiB/L,OAC5C,SAAAiP,GAAK,OAAIA,EAAMtF,WAAa5B,EAAKL,MAGrC,MAAO,CACL0E,gCAAiCC,EAA2BlN,OAC5DkN,8BAGJ,OAAO,YAzBoB1E,aA0PhBrJ,cACbwN,2BAAiB,CAAC,CAAEnB,WAAY,sBAChC9C,kBAAQ,SAAC5I,EAAO0H,GAAR,MAAmB,CACzBoF,iBAAkB9M,EAAMb,UAAU4N,QAAQC,oBAH/B3N,CAKb2N,qBC/PIrO,EAAWsR,EAAQ,IAEzBA,EAAQ,SAEFC,8MACJlQ,MAAQ,CACNmQ,qBAAsB,KACtBC,+BAAgC,QAwBlCC,yDAAqB,SAAArJ,EAAMxK,GAAN,IAAAK,EAAAyT,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAhS,EAAAiS,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA7J,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAGb1K,EAAKL,EAAE2O,OAAOyC,aAAa,WAI7B0C,EAPe/S,OAAA+C,EAAA,EAAA/C,CAAA,GAQdkK,EAAKC,MAAMuJ,gBAAgBrP,KAAK,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOA,KAEjD0T,EAAkBD,EAAezF,WAIjC2F,EAAyB,GAC7BD,EAAgBnP,QAAQ,SAAAJ,GACtB,IAAIkQ,EAAuBV,EAAuBtO,UAChD,SAAAwM,GAAI,OACFA,EAAK3Q,YAAciD,EAAGjD,aACrB2Q,EAAK3Q,cAAgBiD,EAAGjD,aACvB2Q,EAAK1Q,gBAAkBgD,EAAGhD,mBAEF,IAA1BkT,EACFV,EAAuBnP,KAAKL,GACM,IAAzBkQ,EACTV,EAAuBW,QAAQnQ,GAE/BwP,EAAuBY,OAAOF,EAAsB,EAAGlQ,MAIvDyP,EAAoB,IAGND,EAAuBtQ,QAAU,CACjDsQ,EAAuBtQ,QAEzBuQ,EAAkBD,EAAuBtQ,OAAS,GAAK,CACrDsQ,EAAuBtQ,OAAS,GAIlCsQ,EAAuBpP,QAAQ,SAACJ,EAAIC,GAClC,IAAIoQ,EAAe,GACfrQ,EAAGxC,eAAe0B,OAAS,EAC7Bc,EAAGxC,eAAe4C,QAAQ,SAAAsN,GACxB,IAAI4C,EAAyBd,EAAuBtO,UAClD,SAAAqP,GAAK,OACH7C,EAAK1Q,kBAAoBuT,EAAMvT,iBAC/B0Q,EAAK3Q,cAAgBwT,EAAMxT,cAE/BsT,EAAahQ,KAAKiQ,MAE4B,IAAvCtQ,EAAG5C,kBAAkBC,cAC9BgT,EAAe,CAACb,EAAuBtQ,SACK,IAAnCc,EAAG5C,kBAAkBE,UAC9B+S,EAAe,CAACb,EAAuBtQ,OAAS,GAC3C8D,OAAOqL,MAAM,wCAEpBoB,EAAkBxP,GAASoQ,IAGzBX,EAAsB,GAC1BD,EAAkBrP,QAAQ,SAAAJ,GAAE,OAAI0P,EAAoBrP,KAAKL,EAAGd,UACxDyQ,EAA0B,GAC9BF,EAAkBrP,QAChB,SAAAJ,GAAE,OACC2P,EAA0BA,EAAwB/P,OAAxB,KAAAA,OAAoCI,EAApC,QAE/B2P,EAA0BA,EAAwBa,UAAU,GArEzCnK,EAAAE,KAAA,GAuEbE,EAAKwD,SAAS,CAClBwF,kBAAiB,IAAA7P,OAAM+P,EAAN,KACjBc,cAAehB,EAAkBvQ,SAzEhB,eA8EbvB,EAAW8I,EAAKC,MAAM/I,SAwExBiS,EAtJe,4JAAAhQ,OA6JY+P,EA7JZ,2CAAA/P,OA8Jc8P,EA9Jd,+ZAAA9P,OA+KY4P,EAAuBtQ,OAChC,EAhLH,6VAAAU,OA8LM6P,EAAkBvQ,OA9LxB,MAgMf2Q,EAA8BlS,EAC/B+S,YACAC,cAAc,6BAlMEtK,EAAAE,KAAA,GAmMEsJ,EAA4BD,GAnM9B,eAmMfE,EAnMezJ,EAAAsE,KAqMnBnL,QAAQC,IAAIqQ,EAASc,MAEjBb,EAAQ,IAAIc,KAAK,CAACf,EAASc,KAAKE,cAAe,gBACnDnT,EAASoT,WAAWlV,EAAIkU,EAAO,KAAM,CACnC3F,KAAM,iBAGJ4F,EAAQ,IAAIa,KAAK,CAACjB,GAAU,kBAChCjS,EAASoT,WAAWlV,EAAImU,EAAO,KAAM,CACnC5F,KAAM,mBA9MW/D,EAAAE,KAAA,GAiNbE,EAAKwD,SAAS,CAClB+G,OAAQlB,EAASc,KAAKI,OACtBF,aAAchB,EAASc,KAAKE,aAC5BG,WAAYnB,EAASc,KAAKK,WAC1BC,gBAAiBpB,EAASc,KAAKM,kBArNd,QAuNnBlO,OAAOqL,MAAM,yCAvNM,yBAAAhI,EAAAO,SAAAZ,8DA0NrBmL,uDAAmB,SAAAnD,EAAMxS,GAAN,IAAAK,EAAAyT,EAAA/C,EAAAC,EAAA4E,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAArL,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,UAGX1K,EAAKL,EAAE2O,OAAOyC,aAAa,gBAQazN,IAJ1CmQ,EAPa/S,OAAA+C,EAAA,EAAA/C,CAAA,GAQZkK,EAAKC,MAAMuJ,gBAAgBrP,KAAK,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOA,MAGlC4V,wBAXF,CAAAvD,EAAA3H,KAAA,WAaZvD,OAAO6J,QAAP,gEAAAjN,OACiE0P,EAAemC,wBADhF,iFAbY,CAAAvD,EAAA3H,KAAA,eAAA2H,EAAAwD,OAAA,wBAuBXnF,EAAU9F,EAAKC,MAAM/I,SAAS4O,UAChCC,EAAaD,EAAQS,MAEPR,EAAWS,MAAX,GAAArN,OAAoB/D,EAApB,kBAGf8V,iBACAC,KAAK,SAAAC,GAAG,OAAIrS,QAAQC,IAAIoS,KACxBC,MAAM,SAAAC,GACLvS,QAAQC,IAAIsS,GACZ/O,OAAOqL,MAAM,sCAMb+C,EAAyBzT,EAC1B+S,YACAC,cAAc,0BAzCAzC,EAAA3H,KAAA,GA0CO6K,EAAuB3K,EAAKzH,MAAM8R,cA1CzC,eA0CbO,EA1CanD,EAAAvD,KAAAuD,EAAA3H,KAAA,GA4CXE,EAAKwD,SAAS,CAAE+H,kBAAmBX,EAAYT,KAAKqB,YA5CzC,eA8CXX,EAAO,IAAIY,IAAKlP,OAAOsO,KAAKa,iBAI5BZ,EAlDW,eAAA9L,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAkDF,SAAAf,IAAA,IAAA8F,EAAA5H,EAAA,OAAArE,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,cAAAoG,EAAApG,KAAA,EACU+K,EAAKe,IAAIC,cADnB,cACPF,EADOzF,EAAAhC,KAEbnL,QAAQC,IAAI2S,GAEZ5S,QAAQC,IAAI,qCAAsC2S,EAAS,IAJ9CzF,EAAApG,KAAA,EAMQ,IAAI+K,EAAKe,IAAIE,SAChCpE,KAAKqE,MAAMnB,EAAYT,KAAKqB,YAE3BV,OAAO,CAAEX,KAAMS,EAAYT,KAAK6B,WAChCC,KAAK,CAAEC,IAAK,UAAWC,KAAMR,EAAS,KAV5B,cAMP5H,EANOmC,EAAAhC,KAYbnL,QAAQC,IAAI,wBAAyB+K,EAAOqI,QAAQrB,SAZvC7E,EAAA+E,OAAA,SAaNlH,EAAOqI,QAAQrB,SAbT,yBAAA7E,EAAA/F,SAAA0F,MAlDE,yBAAA7G,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAiP,EAAA3H,KAAA,GAkEGgL,IAlEH,eAkEbC,EAlEatD,EAAAvD,KAAAuD,EAAA3H,KAAA,GAsEXE,EAAKC,MAAMvI,UAAUqQ,OACzB,CAAE9D,WAAY,kBAAmBqC,IAAKlR,GACtC,CACE4V,wBAAyBD,IAzEZ,QA6EjBxO,OAAOqL,MAAP,gCAAAzO,OAA6C4R,EAA7C,OA7EiB,yBAAAtD,EAAAtH,SAAAoH,8DAgFnB8E,oEAAgC,SAAAC,EAAMvX,GAAN,IAAAwX,EAAAC,EAAAC,EAAA3Q,EAAA4Q,EAAAC,EAAAxC,EAAAd,EAAA,OAAA3J,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,OA6B9B,IAvBAyM,GAHIA,EAAYhQ,OAAOsQ,OAAP,6BAAA1T,OACe6G,EAAKzH,MAAMyQ,kBAD1B,gDAGM8D,WAClBN,EAAa,GAgBNA,EAAaD,EAAUQ,MAChC,KAGEN,EAAMzM,EAAKzH,MAAMyR,cAAgBwC,EAAW/T,OAEvCqD,EAAI,EAAGA,EAAI2Q,EAAK3Q,IACvB0Q,EAAW5S,KAAK,KA9BY,OAiC1B8S,EAjC0B,eAAAvT,OAiCCqT,EAjCD,OAwC1BG,EAA8BzV,EAC/B+S,YACAC,cAAc,gCAEbC,EAAO,IACNI,OAASvK,EAAKzH,MAAMgS,OACzBJ,EAAKK,WAAaxK,EAAKzH,MAAMiS,WAC7BL,EAAKuC,UAAYA,EACjBvC,EAAKM,gBAAkBzK,EAAKzH,MAAMkS,gBAhDJmC,EAAA9M,KAAA,GAkDT6M,EAA4BxC,GAlDnB,eAkD1Bd,EAlD0BuD,EAAA1I,KAAA0I,EAAA9M,KAAA,GAoDxBE,EAAKwD,SAAS,CAClBwJ,kBAAmB3D,EAASc,KAAK6C,kBACjCC,mBAAoB5D,EAASc,KAAK8C,qBAtDN,QAyD9B1Q,OAAOqL,MAAMyB,EAASc,KAAKnU,SAzDG,yBAAA4W,EAAAzM,SAAAmM,8DA4DhCY,6DAAyB,SAAAC,EAAMpY,GAAN,IAAAqY,EAAAC,EAAAjY,EAAAyT,EAAAsB,EAAAmD,EAAAjE,EAAA0B,EAAAF,EAAA0C,EAAAC,EAAAC,EAAA,OAAA/N,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,cAGjB1K,EAAKL,EAAE2O,OAAOyC,aAAa,WAC7B0C,EAJmB/S,OAAA+C,EAAA,EAAA/C,CAAA,GAKlBkK,EAAKC,MAAMuJ,gBAAgBrP,KAAK,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOA,MAKjD+U,EAAO,IACN8C,mBAAqBjN,EAAKzH,MAAM0U,mBACrC9C,EAAK6C,kBAAoBhN,EAAKzH,MAAMyU,kBAEhCM,EAAuBpW,EACxB+S,YACAC,cAAc,wBAhBMwD,EAAA5N,KAAA,EAkBFwN,EAAqBnD,GAlBnB,cAkBnBd,EAlBmBqE,EAAAxJ,KAoBvBnL,QAAQC,IAAIqQ,GAIR0B,EAAUlC,EAAemC,wBACvBH,EAAO,IAAIY,IAAKlP,OAAOsO,KAAKa,iBAzBXgC,EAAA5N,KAAA,GA2BM,IAAI+K,EAAKe,IAAIE,SACxCpE,KAAKqE,MAAM/L,EAAKzH,MAAMgT,mBACtBR,GA7BqB,eA2BnBwC,EA3BmBG,EAAAxJ,MA+BNyJ,YAAYpR,OAAOsO,KAAKa,iBAIrC8B,EAAmB9F,KAAKqE,MAAM,IAAM1C,EAASc,KAAO,MACxDiD,EAAArU,SAAQC,IAARqO,MAAA+F,EAAAtX,OAAAkE,EAAA,EAAAlE,CAAe0X,IApCQE,EAAA5N,KAAA,IAsCHuN,EAAAE,EAAiBK,SAClCC,YADiBxG,MAAAgG,EAAAvX,OAAAkE,EAAA,EAAAlE,CACF0X,IACfM,OAxCoB,QAsCjBL,EAtCiBC,EAAAxJ,KA0CvB3H,OAAOqL,MAAM6F,GA1CU,yBAAAC,EAAAvN,SAAAgN,8DA+CzBY,sDAAkB,SAAAC,EAAMjZ,GAAN,IAAAK,EAAAyT,EAAA9E,EAAA,OAAArE,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,UACV1K,EAAKL,EAAE2O,OAAOyC,aAAa,WAMH,eAJ1B0C,EAHY/S,OAAA+C,EAAA,EAAA/C,CAAA,GAIXkK,EAAKC,MAAMuJ,gBAAgBrP,KAAK,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO8Y,SAAS9Y,EAAI,QAG/C4N,OAPH,CAAAiL,EAAAnO,KAAA,QAQdvD,OAAOqL,MAAM,mCARCqG,EAAAnO,KAAA,oBAUdvD,OAAO6J,QAAP,gDAAAjN,OACkD0P,EAAexG,MADjE,QAVc,CAAA4L,EAAAnO,KAAA,gBAcd+I,EAAe7F,OAAS,YACxB6F,EAAe9F,eAAiB,GAflBkL,EAAAnO,KAAA,GAiBOE,EAAKC,MAAMvI,UAAUsM,IACxC,CAAEC,WAAY,oBACd4E,GAnBY,eAiBR9E,EAjBQkK,EAAA/J,KAAA+J,EAAAnO,KAAA,GAqBRE,EAAKC,MAAMvI,UAAUqQ,OACzB,CAAE9D,WAAY,mBAAoBqC,IAAKvC,EAAO3O,IAC9C,CACEA,GAAI2O,EAAO3O,KAxBD,eAAA6Y,EAAAnO,KAAA,GA2BRE,EAAKC,MAAMvI,UAAU2O,OAAO,CAChCpC,WAAY,kBACZqC,IAAKlR,IA7BO,QA+BdmH,OAAOqL,MACL,yFAEF5H,EAAKC,MAAMkE,QAAQvK,KAAnB,4BAlCc,yBAAAqU,EAAA9N,SAAA6N,oIAsCT,IAAAhG,EAAA5H,KAAA6H,EAIH7H,KAAK7H,MAFP4V,EAFKlG,EAELkG,0BACAxF,EAHKV,EAGLU,+BAUF,OALiB,eAAAyF,EAAAtY,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAAG,SAAAyH,IAAA,OAAA3O,EAAA9C,EAAA+C,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cAAAwO,EAAAxO,KAAA,EACZvD,OAAOsO,KAAKa,gBAAgB6C,SADhB,wBAAAD,EAAAnO,SAAAkO,MAAH,yBAAAD,EAAA/G,MAAAjH,KAAA5H,YAAA,EAGjBgW,GAEIL,EAEAxR,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,UAGb7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,qBAAqBF,UAAU,MAAMjL,GAAG,cAC/CuH,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,2BAA2BjL,GAAG,eAD7C,kBAKFuH,EAAAC,EAAAC,cAAA,gCACqBF,EAAAC,EAAAC,cAAA,YAAO8L,IAE5BhM,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,SACf1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,iBACf1D,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,uBAGJF,EAAAC,EAAAC,cAAA,aACGsR,EAA0B9Y,IAAI,SAAAoZ,GAAwB,OACrD9R,EAAAC,EAAAC,cAAA,MAAIsL,IAAKsG,EAAyBrZ,IAChCuH,EAAAC,EAAAC,cAAA,UAAK4R,EAAyBpM,OAC9B1F,EAAAC,EAAAC,cAAA,UAAK4R,EAAyB1L,gBAC9BpG,EAAAC,EAAAC,cAAA,UAAK4R,EAAyBzL,QACO,cAApCyL,EAAyBzL,OACxBrG,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEuL,UAASqG,EAAyBrZ,GAClCiT,aAAYoG,EAAyBpM,MACrCtB,QAASiH,EAAK+F,gBACd1N,UAAU,4BAEV1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,6BANf,aAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASqG,EAAyBrZ,GAClCiT,aAAYoG,EAAyBpM,MACrCtB,QAASiH,EAAKY,mBACdvI,UAAU,4BAJZ,qBAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASqG,EAAyBrZ,GAClCiT,aAAYoG,EAAyBpM,MACrCtB,QAASiH,EAAK0C,iBACdrK,UAAU,4BAJZ,mBAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASqG,EAAyBrZ,GAClCiT,aAAYoG,EAAyBpM,MACrCtB,QAASiH,EAAKqE,8BACdhM,UAAU,4BAJZ,cAQA1D,EAAAC,EAAAC,cAAA,UACEuL,UAASqG,EAAyBrZ,GAClCiT,aAAYoG,EAAyBpM,MACrCtB,QAASiH,EAAKkF,uBACd7M,UAAU,4BAJZ,kBAUF1D,EAAAC,EAAAC,cAAA,qBAUZF,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,8DA5jBWvB,EAAO1H,GACrC,IAAMiR,EAAkBvJ,EAAMuJ,gBAC1BnI,EAAOpB,EAAM/I,SAASsH,OAAO8C,YAEjC,GAAIkI,EAAiB,CACnB,GAAIhE,EAAO8C,SAASjH,EAAKL,KACvB,IAAImN,EAA4B3E,OAEhC2E,EAA4B3E,EAAgBlQ,OAC1C,SAAAiP,GAAK,OAAIA,EAAMtF,WAAa5B,EAAKL,MAGrC,MAAO,CACL2H,+BAAgCwF,EAA0B1V,OAC1D0V,6BAGJ,OAAO,YAxBmBlN,aA+kBfrJ,eACbwN,2BAAiB,CAAC,CAAEnB,WAAY,qBAChC9C,kBAAQ,SAAC5I,EAAO0H,GAAR,MAAmB,CACzBuJ,gBAAiBjR,EAAMb,UAAU4N,QAAQmD,mBAH9B7Q,CAKb6Q,qDC9lBIiG,eACJ,SAAAA,EAAYzO,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAAsO,IACjB1O,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAA4Y,GAAAZ,KAAA1N,KAAMH,KAKR1H,MAAQ,CACNuW,mBAAoB,GACpBC,uBAAwB,EACxBC,qBAAsB,EACtBC,kBAAmB,IAVFjP,EAanBkP,kBAbmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAaC,SAAArH,IAAA,IAAA4P,EAAAC,EAAA,OAAA1P,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAzP,EAAAE,KAAA,aAGdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJf,CAAAwK,EAAAE,KAAA,gBAOVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARfwK,EAAAE,KAAA,EAURE,EAAKwD,SAAS,CAClBsL,mBAAoBK,EAAqBG,YAX7B,WAeZH,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAGgW,kBAhBC,CAAA3P,EAAAE,KAAA,gBAmBRsP,EAA0B,GAE9BD,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKsI,kBACPH,EAAwB5V,GAAS,CAC/BgW,oBAAqB,EACrBC,qBAAsBjW,EACtB+V,gBAAiBtI,EAAKsI,oBA1BhB3P,EAAAE,KAAA,GA8BNE,EAAKwD,SAAS,CAAEyL,kBAAmBG,IA9B7B,yBAAAxP,EAAAO,SAAAZ,MAbDS,EAiDnB0P,mBAjDmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAiDE,SAAAf,EAAM8J,GAAN,IAAAR,EAAAC,EAAA,OAAA1P,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACfE,EAAKC,MAAM7K,KAAOua,EAAUva,GADb,CAAA8Q,EAAApG,KAAA,aAGfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJd,CAAA8Q,EAAApG,KAAA,gBAOXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARd8Q,EAAApG,KAAA,EAUTE,EAAKwD,SAAS,CAClBsL,mBAAoBK,EAAqBG,YAX5B,WAebH,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAGgW,kBAhBE,CAAArJ,EAAApG,KAAA,gBAmBTsP,EAA0B,GAE9BD,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKsI,kBACPH,EAAwB5V,GAAS,CAC/BgW,oBAAqB,EACrBC,qBAAsBjW,EACtB+V,gBAAiBtI,EAAKsI,oBA1BfrJ,EAAApG,KAAA,GA8BPE,EAAKwD,SAAS,CAAEyL,kBAAmBG,IA9B5B,yBAAAlJ,EAAA/F,SAAA0F,MAjDF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAqFnBuD,SAAW,SAAAxO,GACTiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,SAtFzB5D,EA6GnB6P,kBA7GmB,eAAA7Q,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA6GC,SAAAW,EAAMxS,GAAN,IAAA+a,EAAA,OAAApQ,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,aACdgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFT,CAAAxI,EAAA3H,KAAA,QAGhBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHgBxI,EAAA3H,KAAA,sBAAA2H,EAAA3H,KAAA,EAQVE,EAAKwD,SAAS,CAClB0M,cAAeJ,EACfd,qBAAsB,IAVR,OAYDmB,SAASC,eAAT,yBAAAjX,OACY6G,EAAKC,MAAM3J,YADvB,OAAA6C,OAEX6G,EAAKC,MAAM1J,kBAGN0G,IAAMoT,IAAIC,gBAAgBR,GAjBnB,wBAAArI,EAAAtH,SAAAoH,MA7GD,gBAAAH,GAAA,OAAApI,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAkInBuQ,iBAlImB,eAAArR,EAAApJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAkIA,SAAA0F,EAAMvX,GAAN,IAAA+a,EAAAU,EAAAf,EAAAF,EAAA,OAAA7P,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,aACbgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFV,CAAArD,EAAA9M,KAAA,QAGfvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHerD,EAAA9M,KAAA,uBAQX0Q,EAAuBxQ,EAAKzH,MAAM0W,kBAClCQ,EAAuBvB,SACzBnZ,EAAE2O,OAAOyC,aAAa,wBACtB,IAEEoJ,EAAkBc,IAAIC,gBAAgBR,GAC1CU,EAAqBf,GAAwB,CAC3CgB,aAAcX,EACdN,oBAAqB,EACrBC,qBAAsBA,EACtBF,mBAlBa3C,EAAA9M,KAAA,GAqBTE,EAAKwD,SAAS,CAClByL,kBAAmBuB,IAtBN,yBAAA5D,EAAAzM,SAAAmM,MAlIA,gBAAAoE,GAAA,OAAAxR,EAAAmI,MAAAjH,KAAA5H,YAAA,GAAAwH,EA6JnB2Q,iBAAmB,WACjB3Q,EAAKC,MAAM0Q,oBA9JM3Q,EAiKnB4Q,aAAe,SAAA7b,GACbiL,EAAKC,MAAM2Q,aAAa7b,EAAE2O,SAlKT1D,EAqKnB6Q,gBAAkB,SAAA9b,GAChBiL,EAAKC,MAAM4Q,gBAAgB9b,IAtKViL,EAyKnB8Q,cAzKmB,eAAAC,EAAAjb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAyKH,SAAAuG,EAAMpY,GAAN,IAAAyK,EAAAwR,EAAAC,EAAAC,EAAA,OAAAxR,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,UACd/K,EAAEgL,kBACEiR,EAAS,IACNpX,KAAKoG,EAAKzH,MAAMuW,qBAEnB9O,EAAKzH,MAAM4Y,iBAAyD,IAAtCnR,EAAKzH,MAAMwW,uBAL/B,CAAArB,EAAA5N,KAAA,eAMZkR,EAAOpX,KAAKoG,EAAKzH,MAAM4Y,iBANXzD,EAAA5N,KAAA,EAQNE,EAAKwD,SAAS,CAClBuL,uBAAwB,IATd,OAAArB,EAAA5N,KAAA,gBAYZE,EAAKzH,MAAM4Y,iBAC2B,IAAtCnR,EAAKzH,MAAMwW,uBAEXiC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MAhBL,YAkBVoG,EAAKzH,MAAM2X,eAAqD,IAApClQ,EAAKzH,MAAMyW,qBAlB7B,CAAAtB,EAAA5N,KAAA,gBAmBZkR,EAAOpX,KAAKoG,EAAKzH,MAAM2X,eAnBXxC,EAAA5N,KAAA,GAqBNE,EAAKwD,SAAS,CAClBwL,qBAAsB,IAtBZ,QAAAtB,EAAA5N,KAAA,iBAyBZE,EAAKzH,MAAM2X,eACyB,IAApClQ,EAAKzH,MAAMyW,qBAEXgC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MA7BL,eAgCVqX,EAAa,GACjBjR,EAAKzH,MAAM0W,kBAAkBtV,QAAQ,SAAAJ,GAAE,OAAI0X,EAAWrX,KAAX9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAqByD,MAChEyX,EAAOpX,KAAKqX,IAERC,EAAyBlR,EAAKzH,MAAM0W,mBACjB5Z,IAAI,SAAAkE,GAAE,OAAKA,EAAGiW,oBAAsB,IArC7C9B,EAAA5N,KAAA,GAsCRE,EAAKwD,SAAS,CAAEyL,kBAAmBiC,IAtC3B,eAAAxD,EAAA5N,KAAA,IAwCRN,EAAAQ,EAAKC,OAAM6Q,cAAXzJ,MAAA7H,EAA4BwR,GAxCpB,yBAAAtD,EAAAvN,SAAAgN,MAzKG,gBAAAiE,GAAA,OAAAL,EAAA1J,MAAAjH,KAAA5H,YAAA,GAEjBwH,EAAKqR,oBAAsBrR,EAAKqR,oBAAoBC,KAAzBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAC3BA,EAAK6P,kBAAoB7P,EAAK6P,kBAAkByB,KAAvBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACzBA,EAAKuQ,iBAAmBvQ,EAAKuQ,iBAAiBe,KAAtBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAJPA,mFAyFCjL,GAClB,GAAIA,EAAE2O,OAAOqM,MAAM,GAAGC,KAAO5P,KAAKH,MAAMgQ,qBACtC1T,OAAOqL,MAAP,+BAAAzO,OACiCiH,KAAKH,MAAMgQ,qBACxC,IAFJ,aAIK,CACL,IAAMuB,EAAQ,aAAArY,OAAgBiH,KAAKH,MAAM3J,YAA3B,OAAA6C,OACZiH,KAAKH,MAAM1J,iBAED4Z,SAASC,eAAeoB,GAE9BvU,IAAMoT,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAC/C3P,KAAKoD,SAAS,CACZ2N,gBAAiBpc,EAAE2O,OAAOqM,MAAM,GAChChB,uBAAwB,sCA+G5B,IAFA,IAAM0C,EAAqB,GAGrB3V,EAAI,EACRA,EAAIsE,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnDqD,GAAK,EAGHsE,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxB,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvB,mCAAqC6F,KAAKH,MAAM1J,iBAEnDkb,EAAmB7X,KACjB+C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,WAHd,yBAAAxY,OAOIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAAGxF,YAPtD,KAAA6C,OASIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,kBAGPoG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,gBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,cACLvO,GAAE,eAAA+D,OAAiBiH,KAAKH,MAAM3J,YAA5B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIsY,EAAmBhZ,QACzBqE,MAAO,CAAEM,QAAS,QAClB0U,qBAAsBL,EAAmBhZ,OACzC8K,SAAUnD,KAAKmQ,mBAEjB5T,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,eAAAnL,OAAiBiH,KAAKH,MAAM3J,YAA5B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAEDsY,EAAmBhZ,QACzBqE,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM0W,kBAAkBwC,EAAmBhZ,QAC/CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBwC,EAAmBhZ,QAC7C8W,gBACCnP,KAAK7H,MAAM0W,kBAAkBwC,EAAmBhZ,QAC7C8W,gBACH,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIsY,EAAmBhZ,SAlB3B,oCAqBEkE,EAAAC,EAAAC,cAAA,qBArBF,aAuBE,QAMd,OACEF,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,kBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,gBACLvO,GAAE,iBAAA+D,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKyP,oBAEjBlT,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,iBAAAnL,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM2X,eAAiB9P,KAAKH,MAAMiS,iBACtCvV,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAKH,MAAMiS,iBAAmB9R,KAAKH,MAAMiS,iBAAmB,KAE9DpV,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,yBAAA+D,OAA2BiH,KAAKH,MAAM3J,YAAtC,OAAA6C,OACAiH,KAAKH,MAAM1J,kBAbf,oCAiBEoG,EAAAC,EAAAC,cAAA,qBAjBF,aAmBE,MAENF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,aACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUvU,QAAS,iBAA1C,oBAEM,IACNT,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,WAAA+D,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKiR,sBAEjB1U,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,WAAAnL,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,oBAWJjV,EAAAC,EAAAC,cAAA,OACEC,MAAO,CAAEE,MAAO,QAASD,OAAQ,QAASM,SAAU,aAEpDV,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAKH,MAAMkS,mBACP/R,KAAKH,MAAMkS,mBACXC,KAEN/R,UAAU,eACVlD,IAAI,wBACJL,MAAO,CAAEE,MAAO,OAAQD,OAAQ,OAAQU,OAAQ,GAChDrI,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,qBAKnBoG,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACd4N,WAAY,MACZjN,cAAe,QAGjBrI,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aAAavD,MAAO,CAAE8U,aAAc,IACjDjV,EAAAC,EAAAC,cAAA,SACEyH,QAAQ,OACRxH,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVC,aAAc,QALlB,QAUAjV,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,qBACLsB,UAAU,MACVV,YAAY,+BACZW,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKmD,SACfK,MAAOxD,KAAK7H,MAAMuW,mBAClBhS,MAAO,CAAE6U,SAAU,SAAUU,OAAQ,UAEX,IAA3BjS,KAAKH,MAAM3J,YAAoB,KAC9BqG,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,OACTkV,eAAgB,eAChB9Q,UAAW,SAGXpB,KAAKH,MAAMpJ,WACZuJ,KAAKH,MAAMzJ,uBAWR,KAVFmG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,gBACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMrJ,cACpB+M,KAAK,cACLJ,SAAUnD,KAAKuQ,oBAInBvQ,KAAKH,MAAMrJ,eACZwJ,KAAKH,MAAMzJ,uBAWR,KAVFmG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,WACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMpJ,UACpB8M,KAAK,UACLJ,SAAUnD,KAAKwQ,iBAMxBa,KAIP9U,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,iBACNvD,UAAU,8BACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAK0Q,gBAGhBnU,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,mBACN4O,gBAAiBpS,KAAKH,MAAM1J,gBAC5B8J,UAAU,gCACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAKyQ,2BA/eG5P,aAufdE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIXuN,yBC3fE+D,eACJ,SAAAA,EAAYxS,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAAqS,IACjBzS,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAA2c,GAAA3E,KAAA1N,KAAMH,KAKR1H,MAAQ,CACNma,kBAAmB,GACnB3D,uBAAwB,EACxBC,qBAAsB,EACtBC,kBAAmB,GACnBlY,eAAgB,IAXCiJ,EAcnBkP,kBAdmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAcC,SAAArH,IAAA,IAAA4P,EAAAC,EAAA,OAAA1P,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAzP,EAAAE,KAAA,aAGdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJf,CAAAwK,EAAAE,KAAA,gBAOVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARfwK,EAAAE,KAAA,EAURE,EAAKwD,SAAS,CAClBkP,kBAAmBvD,EAAqBG,YAX5B,WAeZH,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAGgW,kBAhBC,CAAA3P,EAAAE,KAAA,gBAmBRsP,EAA0B,GAE9BD,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKsI,kBACPH,EAAwB5V,GAAS,CAC/BgW,oBAAqB,EACrBC,qBAAsBjW,EACtB+V,gBAAiBtI,EAAKsI,oBA1BhB3P,EAAAE,KAAA,GA8BNE,EAAKwD,SAAS,CAAEyL,kBAAmBG,IA9B7B,YAmCdpP,EAAKC,MAAMlJ,eAnCG,CAAA6I,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAoCVE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBApCjC,yBAAA6I,EAAAO,SAAAZ,MAdDS,EAsDnB0P,mBAtDmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAsDE,SAAAf,EAAM8J,GAAN,IAAAR,EAAAwD,EAAAnC,EAAA,OAAA9Q,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACfE,EAAKC,MAAM7K,KAAOua,EAAUva,GADb,CAAA8Q,EAAApG,KAAA,YAGfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJd,CAAA8Q,EAAApG,KAAA,eAOXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARd8Q,EAAApG,KAAA,EAUTE,EAAKwD,SAAS,CAClBkP,kBAAmBvD,EAAqBG,YAX3B,UAgBftP,EAAKC,MAAMlJ,iBAAmB4Y,EAAU5Y,eAhBzB,CAAAmP,EAAApG,KAAA,eAAAoG,EAAApG,KAAA,EAiBXE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBAjBhC,OAqBfiJ,EAAKC,MAAMlJ,eAAe0B,OAASkX,EAAU5Y,eAAe0B,SAC1Dka,EAA8BhD,EAAU5Y,eAAe0D,UACzD,SAAClB,EAAIC,GAAL,OACEmW,EAAU5Y,eAAeyC,KAAWwG,EAAKC,MAAMlJ,eAAeyC,MAE9DgX,EAAuBxQ,EAAKzH,MAAM0W,mBACjBtF,OAAOgJ,EAA6B,GACzD3S,EAAKwD,SAAS,CAAEyL,kBAAmBuB,KA5BlB,wBAAAtK,EAAA/F,SAAA0F,MAtDF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAsFnB4S,kBAAoB,SAAA7d,GAClBiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GACGf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,SAxFX5D,EA4FnB6S,oBA5FmB,eAAA7T,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA4FG,SAAAW,EAAMxS,GAAN,IAAA+d,EAAAC,EAAAC,EAAAC,EAAAzZ,EAAA,OAAAkG,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAChBgT,EAAqB5E,SAASnZ,EAAE2O,OAAOyC,aAAa,eAAgB,IAEpE4M,EAAyB7E,SAC3BnZ,EAAE2O,OAAOyC,aAAa,eACtB,IAGE6M,EARgBld,OAAAkE,EAAA,EAAAlE,CAQYkK,EAAKzH,MAAMxB,iBACvCkc,EATgBnd,OAAA+C,EAAA,EAAA/C,CAAA,GAUfkd,EAAsB7Y,KACvB,SAAAZ,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,MAIPG,YAAcne,EAAE2O,OAAOE,MAEzCpK,EAAQwZ,EAAsBvY,UAChC,SAAAlB,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,IAG3BC,EAAsBxZ,GAASyZ,EAzBXxL,EAAA3H,KAAA,EA2BdE,EAAKwD,SAAS,CAAEzM,eAAgBic,IA3BlB,cAAAvL,EAAA3H,KAAA,GA4BdE,EAAKC,MAAMkT,kBACfL,EACAC,EACAE,EAAsBC,aA/BJ,yBAAAzL,EAAAtH,SAAAoH,MA5FH,gBAAAH,GAAA,OAAApI,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAmJnB6P,kBAnJmB,eAAA3Q,EAAApJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAmJC,SAAA0F,EAAMvX,GAAN,IAAA+a,EAAA,OAAApQ,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,aACdgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFT,CAAArD,EAAA9M,KAAA,QAGhBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHgBrD,EAAA9M,KAAA,sBAAA8M,EAAA9M,KAAA,EAQVE,EAAKwD,SAAS,CAClB0M,cAAeJ,EACfd,qBAAsB,IAVR,OAYDmB,SAASC,eAAT,yBAAAjX,OACY6G,EAAKC,MAAM3J,YADvB,OAAA6C,OAEX6G,EAAKC,MAAM1J,kBAGN0G,IAAMoT,IAAIC,gBAAgBR,GAjBnB,wBAAAlD,EAAAzM,SAAAmM,MAnJD,gBAAAoE,GAAA,OAAAxR,EAAAmI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAwKnBuQ,iBAxKmB,eAAAQ,EAAAjb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAwKA,SAAAuG,EAAMpY,GAAN,IAAA+a,EAAAU,EAAAf,EAAAF,EAAA,OAAA7P,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,aACbgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFV,CAAAvC,EAAA5N,KAAA,QAGfvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHevC,EAAA5N,KAAA,uBAQX0Q,EAAuBxQ,EAAKzH,MAAM0W,kBAClCQ,EAAuBvB,SACzBnZ,EAAE2O,OAAOyC,aAAa,wBACtB,IAEEoJ,EAAkBc,IAAIC,gBAAgBR,GAC1CU,EAAqBf,GAAwB,CAC3CgB,aAAcX,EACdN,oBAAqB,EACrBC,qBAAsBA,EACtBF,mBAlBa7B,EAAA5N,KAAA,GAqBTE,EAAKwD,SAAS,CAClByL,kBAAmBuB,IAtBN,yBAAA9C,EAAAvN,SAAAgN,MAxKA,gBAAAiE,GAAA,OAAAL,EAAA1J,MAAAjH,KAAA5H,YAAA,GAAAwH,EAmMnB6Q,gBAAkB,SAAA9b,GAChBiL,EAAKC,MAAM4Q,gBAAgB9b,IApMViL,EAuMnB8Q,cAvMmB,eAAAsC,EAAAtd,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAuMH,SAAAoH,EAAMjZ,GAAN,IAAAyK,EAAAwR,EAAAC,EAAAC,EAAA,OAAAxR,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,UACd/K,EAAEgL,kBACEiR,EAAS,IACNpX,KAAKoG,EAAKzH,MAAMma,oBAEnB1S,EAAKzH,MAAM4Y,iBAAyD,IAAtCnR,EAAKzH,MAAMwW,uBAL/B,CAAAd,EAAAnO,KAAA,eAMZkR,EAAOpX,KAAKoG,EAAKzH,MAAM4Y,iBANXlD,EAAAnO,KAAA,EAQNE,EAAKwD,SAAS,CAClBuL,uBAAwB,IATd,OAAAd,EAAAnO,KAAA,gBAYZE,EAAKzH,MAAM4Y,iBAC2B,IAAtCnR,EAAKzH,MAAMwW,uBAEXiC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MAhBL,YAkBVoG,EAAKzH,MAAM2X,eAAqD,IAApClQ,EAAKzH,MAAMyW,qBAlB7B,CAAAf,EAAAnO,KAAA,gBAmBZkR,EAAOpX,KAAKoG,EAAKzH,MAAM2X,eAnBXjC,EAAAnO,KAAA,GAqBNE,EAAKwD,SAAS,CAClBwL,qBAAsB,IAtBZ,QAAAf,EAAAnO,KAAA,iBAyBZE,EAAKzH,MAAM2X,eACyB,IAApClQ,EAAKzH,MAAMyW,qBAEXgC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MA7BL,eAgCVqX,EAAa,GACjBjR,EAAKzH,MAAM0W,kBAAkBtV,QAAQ,SAAAJ,GAAE,OAAI0X,EAAWrX,KAAX9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAqByD,MAChEyX,EAAOpX,KAAKqX,IAERC,EAAyBlR,EAAKzH,MAAM0W,mBACjB5Z,IAAI,SAAAkE,GAAE,OAAKA,EAAGiW,oBAAsB,IArC7CvB,EAAAnO,KAAA,GAsCRE,EAAKwD,SAAS,CAAEyL,kBAAmBiC,IAtC3B,eAAAjD,EAAAnO,KAAA,IAwCRN,EAAAQ,EAAKC,OAAM6Q,cAAXzJ,MAAA7H,EAA4BwR,GAxCpB,yBAAA/C,EAAA9N,SAAA6N,MAvMG,gBAAAqF,GAAA,OAAAD,EAAA/L,MAAAjH,KAAA5H,YAAA,GAEjBwH,EAAKqR,oBAAsBrR,EAAKqR,oBAAoBC,KAAzBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAC3BA,EAAK6P,kBAAoB7P,EAAK6P,kBAAkByB,KAAvBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACzBA,EAAKuQ,iBAAmBvQ,EAAKuQ,iBAAiBe,KAAtBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAJPA,mFA+HCjL,GAClB,GAAIA,EAAE2O,OAAOqM,MAAM,GAAGC,KAAO5P,KAAKH,MAAMgQ,qBACtC1T,OAAOqL,MAAP,+BAAAzO,OACiCiH,KAAKH,MAAMgQ,qBACxC,IAFJ,aAIK,CACL,IAAMuB,EAAQ,aAAArY,OAAgBiH,KAAKH,MAAM3J,YAA3B,OAAA6C,OACZiH,KAAKH,MAAM1J,iBAED4Z,SAASC,eAAeoB,GAC9BvU,IAAMoT,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAE/C3P,KAAKoD,SAAS,CACZ2N,gBAAiBpc,EAAE2O,OAAOqM,MAAM,GAChChB,uBAAwB,sCAwG5B,IAFA,IAAMuE,EAAoB,GAGpBxX,EAAI,EACRA,EAAIsE,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnDqD,GAAK,EAGHsE,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxB,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvB,mCAAqC6F,KAAKH,MAAM1J,iBAEnD+c,EAAkB1Z,KAChB+C,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,SACV4B,WAAY,SACZnP,YAAa,MACbhH,QAAS,eACToW,cAAe,QAPnB,qBAAAra,OAWIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAAGxF,YAXtD,KAAA6C,OAaIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,kBAGPoG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTJ,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAI,uBAAAxK,OACFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFD,KAAA6C,OAIFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,iBAEL0O,UAAU,MACVV,YAAW,gCAAApL,OACTiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFM,KAAA6C,OAITiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBALM,OAOX2O,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKyS,oBACfjP,MACExD,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACxC2H,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACzCya,YACH,GAENO,cACErT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAELod,cACEtT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBAELuG,MAAO,CACL6U,SAAU,SACVU,OAAQ,OACRrV,MAAO,OACPM,IAAK,MAIXX,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTuW,aAAc,aACd3W,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,eACLvO,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEI2C,EAAI,GACVgB,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKmQ,iBAEfuB,qBAAsBwB,EAAkB7a,SAE1CkE,EAAAC,EAAAC,cAAA,KACEC,MAAO,CACL8U,aAAc,EACdxU,QAAS,eACTgH,YAAa,MACbmP,WAAY,MACZC,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,gBAAAnL,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAED2C,EAAI,GACVgB,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,UACV6B,cAAe,QATnB,mBAeDpT,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC9CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACCnP,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACH,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRiI,cAAe,MACfZ,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIma,EAAkB7a,SAlB1B,oCAqBEkE,EAAAC,EAAAC,cAAA,qBArBF,aAuBE,SAQhB,OACEF,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,kBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,gBACLvO,GAAE,iBAAA+D,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKyP,oBAEjBlT,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,iBAAAnL,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM2X,eAAiB9P,KAAKH,MAAMiS,iBACtCvV,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAKH,MAAMiS,iBAAmB9R,KAAKH,MAAMiS,iBAAmB,KAE9DpV,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,yBAAA+D,OAA2BiH,KAAKH,MAAM3J,YAAtC,OAAA6C,OACAiH,KAAKH,MAAM1J,kBAbf,oCAiBEoG,EAAAC,EAAAC,cAAA,qBAjBF,aAmBE,MAENF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,aACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUvU,QAAS,iBAA1C,oBAEM,IACNT,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,WAAA+D,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKiR,sBAEjB1U,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,WAAAnL,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,oBAWJjV,EAAAC,EAAAC,cAAA,OACEC,MAAO,CAAEE,MAAO,QAASD,OAAQ,QAASM,SAAU,aAEpDV,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAKH,MAAMkS,mBACP/R,KAAKH,MAAMkS,mBACXyB,KAENvT,UAAU,eACVlD,IAAI,wBACJL,MAAO,CAAEE,MAAO,OAAQD,OAAQ,QAChC3H,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,qBAKnBoG,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACd4N,WAAY,MACZjN,cAAe,QAGjBrI,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aAAavD,MAAO,CAAE8U,aAAc,IACjDjV,EAAAC,EAAAC,cAAA,SACEyH,QAAQ,OACRxH,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVC,aAAc,QALlB,QAUAjV,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,oBACLsB,UAAU,MACVV,YAAY,mCACZW,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKwS,kBACfhP,MAAOxD,KAAK7H,MAAMma,kBAClB5V,MAAO,CAAE6U,SAAU,SAAUU,OAAQ,YAI3C1V,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,WAAMyW,KAGV3W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,iBACNvD,UAAU,8BACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAK0Q,gBAGhBnU,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,mBACN4O,gBAAiBpS,KAAKH,MAAM1J,gBAC5B8J,UAAU,gCACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAKH,MAAM4Q,2BAjjBJ5P,aAyjBbE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIXsR,ICxjBJ,IAAMoB,GARN,SAAmBC,GACjB,IAAID,EAAS,GAIb,OAHAC,EAAE5e,OAAOG,IAAI,SAAC0e,EAAMva,GAClBqa,EAAOE,EAAKC,QAAQ,KAAM,KAAOF,EAAEC,KAE9BF,EAGMI,CACbzL,QAOmB0L,8MACnB3b,MAAQ,CACN4b,aAAc,CACZ,CAAE/e,GAAI,EAAGgf,YAAY,GACrB,CAAEhf,GAAI,EAAGgf,YAAY,GACrB,CAAEhf,GAAI,EAAGgf,YAAY,GACrB,CAAEhf,GAAI,EAAGgf,YAAY,GACrB,CAAEhf,GAAI,EAAGgf,YAAY,GACrB,CAAEhf,GAAI,EAAGgf,YAAY,OAIzBC,cAAgB,SAAAtf,GACd,IAAIuf,EAA4BtU,EAAKzH,MAAM4b,aAC3CG,EAA0B3a,QAAQ,SAAAJ,GAAE,OAAKA,EAAG6a,YAAa,IACzDE,EACEvf,EAAEwf,cAAcpO,aAAa,OAC7BiO,YAAcE,EACdvf,EAAEwf,cAAcpO,aAAa,OAC7BiO,WACFpU,EAAKwD,SAAS,CACZ2Q,aAAcG,IAGhBtU,EAAKC,MAAMoU,cACTrU,EAAKC,MAAM6R,qBACX/c,EAAEwf,cAAcC,SAAS,GAAGvX,8EAM9B,IADA,IAAIwX,EAAoB,GACfC,EAAI,EAAGA,GAAK5e,OAAOZ,KAAK2e,IAAQpb,OAAQic,IAC/CD,EAAkB7a,KAChB+C,EAAAC,EAAAC,cAAA,OACEwD,UAAS,qBAAAlH,OACPiH,KAAK7H,MAAM4b,aAAaO,EAAI,GAAGN,WAAa,WAAa,MAE3DtX,MAAO,CAAEM,QAAS,gBAClB2D,QAASX,KAAKiU,cACdjf,GAAIsf,EAAI,GAER/X,EAAAC,EAAAC,cAAA,OACEI,IAAK4W,GAAM,GAAA1a,OAAIub,EAAJ,SACXrU,UAAU,cACVlD,IAAI,UACJL,MAAO,CACLC,OAAQ,OACRC,MAAO,OACPI,QAAS,eACToW,cAAe,WAMzB,OAAO7W,EAAAC,EAAAC,cAAA,WAAM4X,UAxD8BxT,sDCVzC0T,eACJ,SAAAA,EAAY1U,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAAuU,IACjB3U,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAA6e,GAAA7G,KAAA1N,KAAMH,KAMR1H,MAAQ,CACNqc,cAAe,GACfC,iBAAkB,GAClB9F,uBAAwB,EACxBC,qBAAsB,EACtBC,kBAAmB,GACnBlY,eAAgB,IAbCiJ,EAgBnBkP,kBAhBmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgBC,SAAArH,IAAA,IAAA4P,EAAA2F,EAAA1F,EAAA,OAAA1P,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAzP,EAAAE,KAAA,aAGdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJf,CAAAwK,EAAAE,KAAA,gBAOVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAEzB0f,EAAgC,GACpC3F,EAAqBpY,eAAe4C,QAAQ,SAAAJ,GACtCA,EAAGwb,gBACLD,EAA8Blb,KAAKL,EAAGwb,iBAEtCD,EAA8Blb,KAAK,CACjCob,MAAOC,KACP3X,IAAK,EACLC,KAAM,MAlBEqC,EAAAE,KAAA,EAqBRE,EAAKwD,SAAS,CAClBoR,cAAezF,EAAqBG,UACpCuF,iBAAkBC,IAvBN,WA2BZ3F,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAGgW,kBA5BC,CAAA3P,EAAAE,KAAA,gBA+BRsP,EAA0B,GAE9BD,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKsI,kBACPH,EAAwB5V,GAAS,CAC/BgW,oBAAqB,EACrBC,qBAAsBjW,EACtB+V,gBAAiBtI,EAAKsI,oBAtChB3P,EAAAE,KAAA,GA0CNE,EAAKwD,SAAS,CAAEyL,kBAAmBG,IA1C7B,YA+CdpP,EAAKC,MAAMlJ,eA/CG,CAAA6I,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAgDVE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBAhDjC,yBAAA6I,EAAAO,SAAAZ,MAhBDS,EAoEnB0P,mBApEmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAoEE,SAAAf,EAAM8J,GAAN,IAAAR,EAAA2F,EAAAI,EAAAvC,EAAAwC,EAAAC,EAAA5E,EAAA,OAAA9Q,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACfE,EAAKC,MAAM7K,KAAOua,EAAUva,GADb,CAAA8Q,EAAApG,KAAA,YAGfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJd,CAAA8Q,EAAApG,KAAA,eAOXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAEzB0f,EAAgC,GACpC3F,EAAqBpY,eAAe4C,QAAQ,SAAAJ,GACtCA,EAAGwb,gBACLD,EAA8Blb,KAAKL,EAAGwb,iBAEtCD,EAA8Blb,KAAK,CACjCob,MAAOC,KACP3X,IAAK,EACLC,KAAM,MAlBG2I,EAAApG,KAAA,EAqBTE,EAAKwD,SAAS,CAClBoR,cAAezF,EAAqBG,UACpCuF,iBAAkBC,IAvBL,WA6BjBnF,GACA3P,EAAKC,MAAMlJ,eAAe0B,SAAWkX,EAAU5Y,eAAe0B,SAC3B,IAAnCuH,EAAKC,MAAMoV,oBA/BM,CAAAnP,EAAApG,KAAA,gBAiCboV,EAjCapf,OAAAkE,EAAA,EAAAlE,CAiCiBkK,EAAKzH,MAAMsc,kBACzC7U,EAAKC,MAAMlJ,eAAe0B,OAASkX,EAAU5Y,eAAe0B,QAC9Dyc,EAAwBtb,KAAK,CAC3Bob,MAAOC,KACP3X,IAAK,EACLC,KAAM,IAGNyC,EAAKC,MAAMlJ,eAAe0B,OAASkX,EAAU5Y,eAAe0B,SAC1Dka,EAA8B3S,EAAKC,MAAMlJ,eAAe0D,UAC1D,SAAClB,EAAIC,GAAL,OACEmW,EAAU5Y,eAAeyC,KAAWwG,EAAKC,MAAMlJ,eAAeyC,KAGlE0b,EAAwBvL,OAAOgJ,EAA6B,IA/C7CzM,EAAApG,KAAA,GAkDXE,EAAKwD,SAAS,CAAEqR,iBAAkBK,IAlDvB,YAsDjBvF,IACmC,IAAnC3P,EAAKC,MAAMoV,sBACuB,IAAlC1F,EAAU0F,oBAxDO,CAAAnP,EAAApG,KAAA,gBA0DboV,EA1Dapf,OAAAkE,EAAA,EAAAlE,CA0DiBkK,EAAKzH,MAAMsc,kBAC7C7U,EAAKC,MAAMlJ,eAAe4C,QAAQ,WAChCub,EAAwBtb,KAAK,CAC3Bob,MAAOC,KACP3X,IAAK,EACLC,KAAM,MA/DO2I,EAAApG,KAAA,GAmEXE,EAAKwD,SAAS,CAAEqR,iBAAkBK,IAnEvB,YAuEjBvF,IACmC,IAAnC3P,EAAKC,MAAMoV,sBACuB,IAAlC1F,EAAU0F,oBAzEO,CAAAnP,EAAApG,KAAA,gBAAAoG,EAAApG,KAAA,GA2EXE,EAAKwD,SAAS,CAAEqR,iBAAkB,KA3EvB,WA8Ef7U,EAAKC,MAAMlJ,iBAAmB4Y,EAAU5Y,eA9EzB,CAAAmP,EAAApG,KAAA,gBAAAoG,EAAApG,KAAA,GA+EXE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBA/EhC,QAkFbiJ,EAAKC,MAAMlJ,eAAe0B,OAASkX,EAAU5Y,eAAe0B,SAC1Dka,EAA8BhD,EAAU5Y,eAAe0D,UACzD,SAAClB,EAAIC,GAAL,OACEmW,EAAU5Y,eAAeyC,KAAWwG,EAAKC,MAAMlJ,eAAeyC,MAE9DgX,EAAuBxQ,EAAKzH,MAAM0W,mBACjBtF,OAAOgJ,EAA6B,GACzD3S,EAAKwD,SAAS,CAAEyL,kBAAmBuB,KAzFpB,yBAAAtK,EAAA/F,SAAA0F,MApEF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAkKnBuD,SAAW,SAAAxO,GACTiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,SAnKzB5D,EAsKnB6S,oBAtKmB,eAAA7T,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAsKG,SAAAW,EAAMxS,GAAN,IAAA+d,EAAAC,EAAAC,EAAAC,EAAAzZ,EAAA,OAAAkG,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAChBgT,EAAqB5E,SAASnZ,EAAE2O,OAAOyC,aAAa,eAAgB,IAEpE4M,EAAyB7E,SAC3BnZ,EAAE2O,OAAOyC,aAAa,eACtB,IAGE6M,EARgBld,OAAAkE,EAAA,EAAAlE,CAQYkK,EAAKzH,MAAMxB,iBACvCkc,EATgBnd,OAAA+C,EAAA,EAAA/C,CAAA,GAUfkd,EAAsB7Y,KACvB,SAAAZ,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,MAIPG,YAAcne,EAAE2O,OAAOE,MAEzCpK,EAAQwZ,EAAsBvY,UAChC,SAAAlB,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,IAG3BC,EAAsBxZ,GAASyZ,EAzBXxL,EAAA3H,KAAA,EA2BdE,EAAKwD,SAAS,CAAEzM,eAAgBic,IA3BlB,cAAAvL,EAAA3H,KAAA,GA4BdE,EAAKC,MAAMkT,kBACfL,EACAC,EACAE,EAAsBC,aA/BJ,yBAAAzL,EAAAtH,SAAAoH,MAtKH,gBAAAH,GAAA,OAAApI,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAwH,EA6NnB6P,kBA7NmB,eAAA3Q,EAAApJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA6NC,SAAA0F,EAAMvX,GAAN,IAAA+a,EAAA,OAAApQ,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,aACdgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFT,CAAArD,EAAA9M,KAAA,QAGhBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHgBrD,EAAA9M,KAAA,sBAAA8M,EAAA9M,KAAA,EAQVE,EAAKwD,SAAS,CAClB0M,cAAeJ,EACfd,qBAAsB,IAVR,OAYDmB,SAASC,eAAT,yBAAAjX,OACY6G,EAAKC,MAAM3J,YADvB,OAAA6C,OAEX6G,EAAKC,MAAM1J,kBAGN0G,IAAMoT,IAAIC,gBAAgBR,GAjBnB,wBAAAlD,EAAAzM,SAAAmM,MA7ND,gBAAAoE,GAAA,OAAAxR,EAAAmI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAkPnBuQ,iBAlPmB,eAAAQ,EAAAjb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAkPA,SAAAuG,EAAMpY,GAAN,IAAA+a,EAAAU,EAAAf,EAAAF,EAAA,OAAA7P,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,aACbgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFV,CAAAvC,EAAA5N,KAAA,QAGfvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHevC,EAAA5N,KAAA,uBAQX0Q,EAAuBxQ,EAAKzH,MAAM0W,kBAClCQ,EAAuBvB,SACzBnZ,EAAE2O,OAAOyC,aAAa,wBACtB,IAEEoJ,EAAkBc,IAAIC,gBAAgBR,GAC1CU,EAAqBf,GAAwB,CAC3CgB,aAAcX,EACdN,oBAAqB,EACrBC,qBAAsBA,EACtBF,mBAlBa7B,EAAA5N,KAAA,GAqBTE,EAAKwD,SAAS,CAClByL,kBAAmBuB,IAtBN,yBAAA9C,EAAAvN,SAAAgN,MAlPA,gBAAAiE,GAAA,OAAAL,EAAA1J,MAAAjH,KAAA5H,YAAA,GAAAwH,EA6QnBsV,uBAAyB,WACvBtV,EAAKC,MAAMqV,0BA9QMtV,EAiRnBuV,iBAAmB,WACjBvV,EAAKC,MAAMsV,oBAlRMvV,EAqRnB6Q,gBAAkB,SAAA9b,GAChBiL,EAAKC,MAAM4Q,gBAAgB9b,IAtRViL,EAyRnB8Q,cAzRmB,eAAAsC,EAAAtd,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAyRH,SAAAoH,EAAMjZ,GAAN,IAAAyK,EAAAwR,EAAAC,EAAAC,EAAA,OAAAxR,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,UACd/K,EAAEgL,kBACEiR,EAAS,IACNpX,KAAKoG,EAAKzH,MAAMqc,gBAEnB5U,EAAKzH,MAAM4Y,iBAAyD,IAAtCnR,EAAKzH,MAAMwW,uBAL/B,CAAAd,EAAAnO,KAAA,eAMZkR,EAAOpX,KAAKoG,EAAKzH,MAAM4Y,iBANXlD,EAAAnO,KAAA,EAQNE,EAAKwD,SAAS,CAClBuL,uBAAwB,IATd,OAAAd,EAAAnO,KAAA,gBAYZE,EAAKzH,MAAM4Y,iBAC2B,IAAtCnR,EAAKzH,MAAMwW,uBAEXiC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MAhBL,YAkBVoG,EAAKzH,MAAM2X,eAAqD,IAApClQ,EAAKzH,MAAMyW,qBAlB7B,CAAAf,EAAAnO,KAAA,gBAmBZkR,EAAOpX,KAAKoG,EAAKzH,MAAM2X,eAnBXjC,EAAAnO,KAAA,GAqBNE,EAAKwD,SAAS,CAClBwL,qBAAsB,IAtBZ,QAAAf,EAAAnO,KAAA,iBAyBZE,EAAKzH,MAAM2X,eACyB,IAApClQ,EAAKzH,MAAMyW,qBAEXgC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MA7BL,eAgCVqX,EAAa,GACjBjR,EAAKzH,MAAM0W,kBAAkBtV,QAAQ,SAAAJ,GAAE,OAAI0X,EAAWrX,KAAX9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAqByD,MAChEyX,EAAOpX,KAAKqX,IAERC,EAAyBlR,EAAKzH,MAAM0W,mBACjB5Z,IAAI,SAAAkE,GAAE,OAAKA,EAAGiW,oBAAsB,IArC7CvB,EAAAnO,KAAA,GAsCRE,EAAKwD,SAAS,CAAEyL,kBAAmBiC,IAtC3B,eAAAjD,EAAAnO,KAAA,IAwCRN,EAAAQ,EAAKC,OAAM6Q,cAAXzJ,MAAA7H,EAA4BwR,GAxCpB,yBAAA/C,EAAA9N,SAAA6N,MAzRG,gBAAAqF,GAAA,OAAAD,EAAA/L,MAAAjH,KAAA5H,YAAA,GAAAwH,EAoUnBqU,cApUmB,eAAAjG,EAAAtY,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAoUH,SAAAyH,EAAOoB,EAAsB+F,GAA7B,IAAAN,EAAA,OAAAxV,EAAA9C,EAAA+C,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cACVoV,EAA0BlV,EAAKzH,MAAMsc,kBACjBpF,GAAwB,CAC9CuF,MAAOQ,EACPlY,IAAK,EACLC,KAAM,GALM+Q,EAAAxO,KAAA,EAORE,EAAKwD,SAAS,CAClBqR,iBAAkBK,IARN,cAAA5G,EAAAxO,KAAA,EAWRE,EAAKC,MAAMoU,cAAca,GAXjB,wBAAA5G,EAAAnO,SAAAkO,MApUG,gBAAAoH,EAAAC,GAAA,OAAAtH,EAAA/G,MAAAjH,KAAA5H,YAAA,GAAAwH,EAkVnB2V,WAlVmB,eAAAC,EAAA9f,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAkVN,SAAAiP,EAAMC,GAAN,IAAAC,EAAAjZ,EAAAkZ,EAAA,OAAAtW,EAAA9C,EAAA+C,KAAA,SAAAsW,GAAA,cAAAA,EAAApW,KAAAoW,EAAAnW,MAAA,OACPiW,EAAoBD,EAAMpS,OAE1B5G,EAAQP,OAAO2Z,iBAAiBJ,EAAMpS,OAAQ,MAC9CsS,EACF9H,SAASpR,EAAMqZ,iBAAiB,QAAS,IACzCL,EAAMM,QACN,KACClI,SAASpR,EAAMqZ,iBAAiB,OAAQ,IAAML,EAAMO,SAEvDP,EAAMQ,aAAaC,QAAQ,aAAcP,GACzChW,EAAKwD,SAAS,CACZuS,kBAAmBA,EACnBC,YAAaA,IAbJ,wBAAAC,EAAA9V,SAAA0V,MAlVM,gBAAAW,GAAA,OAAAZ,EAAAvO,MAAAjH,KAAA5H,YAAA,GAAAwH,EAmWnByW,UAAY,SAAAX,GACV,IAAIY,EACJ,IACEA,EAASZ,EAAMQ,aAAaK,QAAQ,cAAc5J,MAAM,KACxD,MAAOhY,GACP2hB,EAAS1W,EAAKzH,MAAMyd,YAAYjJ,MAAM,KAExC,IAAIgJ,EAAoB/V,EAAKzH,MAAMwd,kBAMnC,OALAA,EAAkBjZ,MAAMS,KACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,KAC5CX,EAAkBjZ,MAAMQ,IACtBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,KAC5CZ,EAAM/V,kBACC,GAhXUC,EAmXnB4W,KAnXmB,eAAAC,EAAA/gB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAmXZ,SAAAkQ,EAAMhB,GAAN,IAAAY,EAAAX,EAAAtG,EAAAsH,EAAA,OAAArX,EAAA9C,EAAA+C,KAAA,SAAAqX,GAAA,cAAAA,EAAAnX,KAAAmX,EAAAlX,MAAA,OAEL,IACE4W,EAASZ,EAAMQ,aAAaK,QAAQ,cAAc5J,MAAM,KACxD,MAAOhY,GACP2hB,EAAS1W,EAAKzH,MAAMyd,YAAYjJ,MAAM,KALnC,OAQDgJ,EAAoB/V,EAAKzH,MAAMwd,kBAI/BD,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,EAC5CX,EAAkBjZ,MAAMS,KAAO,MACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,IACnDX,EAAkBjZ,MAAMS,KAAO,QAE/BwY,EAAkBjZ,MAAMS,KACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,KAE1CZ,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,EAC5CX,EAAkBjZ,MAAMQ,IAAM,MACrBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,IACnDX,EAAkBjZ,MAAMQ,IAAM,QAE9ByY,EAAkBjZ,MAAMQ,IACtBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,KAG9CZ,EAAM/V,iBAEF0P,EAAuBsG,EAAkB5P,aAC3C,wBAEE4Q,EAAyC,GAC7C/W,EAAKzH,MAAMsc,iBAAiBlb,QAAQ,SAAAJ,GAAE,OACpCwd,EAAuCnd,KAAvC9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAiDyD,MAGnDwd,EACEtH,GACAlS,KAAO2Q,SAAS6H,EAAkBjZ,MAAMS,KAAM,IAChDwZ,EAAuCtH,GAAsBnS,IAAM4Q,SACjE6H,EAAkBjZ,MAAMQ,IACxB,IA5CG0Z,EAAAlX,KAAA,GA8CCE,EAAKwD,SAAS,CAClBqR,iBAAkBkC,IA/Cf,eAAAC,EAAAlX,KAAA,GAkDCE,EAAKC,MAAMoU,cAAc0C,GAlD1B,eAAAC,EAAA/L,OAAA,UAoDE,GApDF,yBAAA+L,EAAA7W,SAAA2W,MAnXY,gBAAAG,GAAA,OAAAJ,EAAAxP,MAAAjH,KAAA5H,YAAA,GAEjBwH,EAAKqR,oBAAsBrR,EAAKqR,oBAAoBC,KAAzBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAC3BA,EAAK6P,kBAAoB7P,EAAK6P,kBAAkByB,KAAvBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACzBA,EAAKuQ,iBAAmBvQ,EAAKuQ,iBAAiBe,KAAtBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAJPA,mFAyMCjL,GAClB,GAAIA,EAAE2O,OAAOqM,MAAM,GAAGC,KAAO5P,KAAKH,MAAMgQ,qBACtC1T,OAAOqL,MAAP,+BAAAzO,OACiCiH,KAAKH,MAAMgQ,qBACxC,IAFJ,aAIK,CACL,IAAMuB,EAAQ,aAAArY,OAAgBiH,KAAKH,MAAM3J,YAA3B,OAAA6C,OACZiH,KAAKH,MAAM1J,iBAED4Z,SAASC,eAAeoB,GAC9BvU,IAAMoT,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAE/C3P,KAAKoD,SAAS,CACZ2N,gBAAiBpc,EAAE2O,OAAOqM,MAAM,GAChChB,uBAAwB,sCAoN5B,IAAIuE,EAAoB,GACpB4D,EAAoB,GAExB,QAAQ,GACN,KAAK9W,KAAKH,MAAMkX,cACd,IACE,IAAIrb,EAAI,EACRA,EAAIsE,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnDqD,GAAK,EAGHsE,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxB,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvB,mCAAqC6F,KAAKH,MAAM1J,iBAEnD+c,EAAkB1Z,KAChB+C,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,SACV4B,WAAY,SACZnP,YAAa,MACbhH,QAAS,eACToW,cAAe,QAPnB,qBAAAra,OAWIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAZP,KAAA6C,OAcIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,kBAGPoG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTJ,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAI,uBAAAxK,OACFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFD,KAAA6C,OAIFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,iBAEL0O,UAAU,MACVV,YAAW,6BAAApL,OACTiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFM,KAAA6C,OAITiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBALM,OAOX2O,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKyS,oBACfjP,MACExD,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACxC2H,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACzCya,YACH,GAENO,cACErT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAELod,cACEtT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBAELuG,MAAO,CACL6U,SAAU,SACVU,OAAQ,OACRrV,MAAO,OACPM,IAAK,MAIXX,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTuW,aAAc,aACd3W,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,eACLvO,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEI2C,EAAI,GACVgB,MAAO,CAAEM,QAAS,QAElB0U,qBAAsBwB,EAAkB7a,OACxC8K,SAAUnD,KAAKmQ,mBAEjB5T,EAAAC,EAAAC,cAAA,KACEC,MAAO,CACL8U,aAAc,EACdxU,QAAS,eACTgH,YAAa,MACbmP,WAAY,MACZC,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,gBAAAnL,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAED2C,EAAI,GACVgB,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,UACV6B,cAAe,QATnB,mBAeDpT,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC9CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACCnP,KAAK7H,MAAM0W,kBACTqE,EAAkB7a,QAClB8W,gBACF,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRiI,cAAe,MACfZ,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIma,EAAkB7a,SAnB1B,oCAsBEkE,EAAAC,EAAAC,cAAA,qBAtBF,aAwBE,SAOhB,MACF,KAAKuD,KAAKH,MAAMoV,oBACd,IACE,IAAI+B,EAAI,EACRA,EAAIhX,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnD2e,GAAK,EAGHhX,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C9c,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C7c,mCAAqC6F,KAAKH,MAAM1J,kBAEnD+c,EAAkB1Z,KAChB+C,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,MAAOnE,SAAU,aACxCV,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,YACZ1D,EAAAC,EAAAC,cAAA,KACEwD,UAAU,kBACVK,KAAK,IACLtL,GAAG,aACHoL,cAAY,WACZG,gBAAc,OACdC,gBAAc,QACd9D,MAAO,CACL4U,WAAY,MACZC,SAAU,WATd,sBAAAxY,OAaIiH,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C9gB,YAdP,KAAA6C,OAgBIiH,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C7gB,kBAGPoG,EAAAC,EAAAC,cAAA,OACEwD,UAAU,gBACVQ,kBAAgB,aAChB/D,MAAO,CACL0H,gBAAiB,0BACjB6S,UAAW,QACXC,UAAW,SACXC,OAAQ,mBAEVniB,GAAIgiB,GAGFza,EAAAC,EAAAC,cAAC2a,GAAD,CAEE1F,qBAAsBwB,EAAkB7a,OACxC4b,cAAejU,KAAKiU,kBAK5B1X,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,QAC1C2H,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,QAC3Cuc,MACHC,KAEN5U,UAAU,eACVlD,IAAI,oBACJL,MAAO,CAAEua,UAAW,OAAQI,SAAU,QACtCriB,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,EAAI,KAEZza,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTuW,aAAc,aACd3W,MAAO,MACPwW,cAAe,MACfhS,UAAW,SAGb7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,eACLvO,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,EAAI,GACVta,MAAO,CAAEM,QAAS,QAElB0U,qBAAsBwB,EAAkB7a,OACxC8K,SAAUnD,KAAKmQ,mBAEjB5T,EAAAC,EAAAC,cAAA,KACEC,MAAO,CACL8U,aAAc,EACdxU,QAAS,eACTgH,YAAa,MACbmP,WAAY,SACZC,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,gBAAAnL,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAEDie,EAAI,GACVta,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,UACV6B,cAAe,QATnB,mBAeDpT,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC9CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACCnP,KAAK7H,MAAM0W,kBACTqE,EAAkB7a,QAClB8W,gBACF,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRiI,cAAe,MACfZ,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIma,EAAkB7a,SAnB1B,oCAsBEkE,EAAAC,EAAAC,cAAA,qBAtBF,aAwBE,QAKVqa,EAAkBtd,KAChB+C,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,OAAS,GACnD2H,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,OAAS,GACpDuc,MACHC,KAEN5U,UAAU,uBACVlD,IAAI,oBACJua,UAAU,OACV5a,MAAO,CACLua,UAAW,OACXI,SAAU,OACVpa,SAAU,WACVC,IAAG,GAAAnE,OACDiH,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,OAAS,GACnD2H,KAAK7H,MAAMsc,iBACTvB,EAAkB7a,OAAS,GAC3B6E,IACF,EALH,MAOHC,KAAI,GAAApE,OACFiH,KAAK7H,MAAMsc,iBAAiBvB,EAAkB7a,OAAS,GACnD2H,KAAK7H,MAAMsc,iBACTvB,EAAkB7a,OAAS,GAC3B8E,KACF,EALF,OAQNnI,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,GACNO,YAAavX,KAAKuV,WAElB7D,qBAAsBwB,EAAkB7a,OAAS,MAKzD,MACF,QACE6a,EAAoB,GAExB,OACE3W,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,kBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,gBACLvO,GAAE,iBAAA+D,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKyP,oBAEjBlT,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,iBAAAnL,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM2X,eAAiB9P,KAAKH,MAAMiS,iBACtCvV,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAKH,MAAMiS,iBAAmB9R,KAAKH,MAAMiS,iBAAmB,KAE9DpV,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,yBAAA+D,OAA2BiH,KAAKH,MAAM3J,YAAtC,OAAA6C,OACAiH,KAAKH,MAAM1J,kBAbf,oCAiBEoG,EAAAC,EAAAC,cAAA,qBAjBF,aAmBE,MAENF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,aACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUvU,QAAS,iBAA1C,oBAEM,IACNT,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,WAAA+D,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKiR,sBAEjB1U,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,WAAAnL,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,oBAWJjV,EAAAC,EAAAC,cAAA,OACEC,MAAO,CAAEE,MAAO,QAASD,OAAQ,QAASM,SAAU,YACpDua,WAAYxX,KAAKqW,UACjBoB,OAAQzX,KAAKwW,MAEbja,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAKH,MAAMkS,mBACP/R,KAAKH,MAAMkS,mBACX2F,KAENzX,UAAU,eACVlD,IAAI,wBACJL,MAAO,CAAEE,MAAO,OAAQD,OAAQ,QAChC3H,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,mBAGd2gB,IAGLva,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACd4N,WAAY,MACZjN,cAAe,QAGjBrI,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aAAavD,MAAO,CAAE8U,aAAc,IACjDjV,EAAAC,EAAAC,cAAA,SACEyH,QAAQ,OACRxH,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVC,aAAc,QALlB,QAUAjV,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,gBACLsB,UAAU,MACVV,YAAY,6CACZW,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKmD,SACfK,MAAOxD,KAAK7H,MAAMqc,cAClB9X,MAAO,CAAE6U,SAAU,SAAUU,OAAQ,UAGvC1V,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,OACTkV,eAAgB,eAChB9Q,UAAW,SAGXpB,KAAKH,MAAMoV,oBAWT,KAVF1Y,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,WACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMkX,cACpBxT,KAAK,cACLJ,SAAUnD,KAAKmV,oBAInBnV,KAAKH,MAAMkX,cAWT,KAVFxa,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,iBACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMoV,oBACpB1R,KAAK,oBACLJ,SAAUnD,KAAKkV,6BAO3B3Y,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,WAAMyW,KAGV3W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,iBACNvD,UAAU,8BACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAK0Q,gBAGhBnU,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,mBACN4O,gBAAiBpS,KAAKH,MAAM1J,gBAC5B8J,UAAU,gCACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAKH,MAAM4Q,2BA98BR5P,aAs9BTE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIXwT,8CC59BEoD,eACJ,SAAAA,EAAY9X,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAA2X,IACjB/X,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAAiiB,GAAAjK,KAAA1N,KAAMH,KAMR1H,MAAQ,CACNyf,gBAAiB,GACjBjJ,uBAAwB,EACxBC,qBAAsB,EACtBC,kBAAmB,GACnBgJ,kBAAmB,GACnBlhB,eAAgB,IAbCiJ,EAgBnBkP,kBAhBmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgBC,SAAArH,IAAA,IAAA4P,EAAAC,EAAA8I,EAAA,OAAAxY,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAzP,EAAAE,KAAA,aAGdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJf,CAAAwK,EAAAE,KAAA,gBAOVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARfwK,EAAAE,KAAA,EAURE,EAAKwD,SAAS,CAClBwU,gBAAiB7I,EAAqBG,YAX1B,WAeZH,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAGgW,kBAhBC,CAAA3P,EAAAE,KAAA,gBAmBRsP,EAA0B,GAE9BD,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKsI,kBACPH,EAAwB5V,GAAS,CAC/BgW,oBAAqB,EACrBC,qBAAsBjW,EACtB+V,gBAAiBtI,EAAKsI,oBA1BhB3P,EAAAE,KAAA,GA8BNE,EAAKwD,SAAS,CAAEyL,kBAAmBG,IA9B7B,YAkCZD,EAAqBpY,eAAe8Q,KAClC,SAAAtO,GAAE,YAA2Bb,IAAvBa,EAAG4e,kBAnCC,CAAAvY,EAAAE,KAAA,gBAsCRoY,EAA0B,GAE9B/I,EAAqBpY,eAAe4C,QAAQ,SAACsN,EAAMzN,QACpBd,IAAzBuO,EAAKkR,kBACPD,EAAwB1e,GAAS,CAC/B4e,oBAAqB,EACrB3I,qBAAsBjW,EACtB2e,gBAAiBlR,EAAKkR,oBA7ChBvY,EAAAE,KAAA,GAiDNE,EAAKwD,SAAS,CAAEyU,kBAAmBC,IAjD7B,YAqDdlY,EAAKC,MAAMlJ,eArDG,CAAA6I,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAsDVE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBAtDjC,yBAAA6I,EAAAO,SAAAZ,MAhBDS,EA0EnB0P,mBA1EmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA0EE,SAAAf,EAAM8J,GAAN,IAAAR,EAAAwD,EAAAnC,EAAA6H,EAAA,OAAA3Y,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACfE,EAAKC,MAAM7K,KAAOua,EAAUva,GADb,CAAA8Q,EAAApG,KAAA,YAGfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJd,CAAA8Q,EAAApG,KAAA,eAOXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARd8Q,EAAApG,KAAA,EAUTE,EAAKwD,SAAS,CAClBwU,gBAAiB7I,EAAqBG,YAXzB,UAgBftP,EAAKC,MAAMlJ,iBAAmB4Y,EAAU5Y,eAhBzB,CAAAmP,EAAApG,KAAA,eAAAoG,EAAApG,KAAA,EAiBXE,EAAKwD,SAAS,CAAEzM,eAAgBiJ,EAAKC,MAAMlJ,iBAjBhC,OAqBfiJ,EAAKC,MAAMlJ,eAAe0B,OAASkX,EAAU5Y,eAAe0B,SAC1Dka,EAA8BhD,EAAU5Y,eAAe0D,UACzD,SAAClB,EAAIC,GAAL,OACEmW,EAAU5Y,eAAeyC,KAAWwG,EAAKC,MAAMlJ,eAAeyC,MAG9DgX,EAAuBxQ,EAAKzH,MAAM0W,mBACjBtF,OAAOgJ,EAA6B,GACzD3S,EAAKwD,SAAS,CAAEyL,kBAAmBuB,KAC/B6H,EAAuBrY,EAAKzH,MAAM0f,mBACjBtO,OAAOgJ,EAA6B,GACzD3S,EAAKwD,SAAS,CAAEyU,kBAAmBI,KAhClB,wBAAAnS,EAAA/F,SAAA0F,MA1EF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EA8GnB4S,kBAAoB,SAAA7d,GAClBiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,SA/GzB5D,EAkHnB6S,oBAlHmB,eAAA7T,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAkHG,SAAAW,EAAMxS,GAAN,IAAA+d,EAAAC,EAAAC,EAAAC,EAAAzZ,EAAA,OAAAkG,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAChBgT,EAAqB5E,SAASnZ,EAAE2O,OAAOyC,aAAa,eAAgB,IAEpE4M,EAAyB7E,SAC3BnZ,EAAE2O,OAAOyC,aAAa,eACtB,IAGE6M,EARgBld,OAAAkE,EAAA,EAAAlE,CAQYkK,EAAKzH,MAAMxB,iBACvCkc,EATgBnd,OAAA+C,EAAA,EAAA/C,CAAA,GAUfkd,EAAsB7Y,KACvB,SAAAZ,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,MAIPG,YAAcne,EAAE2O,OAAOE,MAEzCpK,EAAQwZ,EAAsBvY,UAChC,SAAAlB,GAAE,OACAA,EAAGjD,cAAgBwc,GACnBvZ,EAAGhD,kBAAoBwc,IAG3BC,EAAsBxZ,GAASyZ,EAzBXxL,EAAA3H,KAAA,EA2BdE,EAAKwD,SAAS,CAAEzM,eAAgBic,IA3BlB,cAAAvL,EAAA3H,KAAA,GA4BdE,EAAKC,MAAMkT,kBACfL,EACAC,EACAE,EAAsBC,aA/BJ,yBAAAzL,EAAAtH,SAAAoH,MAlHH,gBAAAH,GAAA,OAAApI,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAoMnB6P,kBApMmB,eAAA3Q,EAAApJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAoMC,SAAA0F,EAAMvX,GAAN,IAAA+a,EAAA,OAAApQ,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,aACdgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFT,CAAArD,EAAA9M,KAAA,QAGhBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHgBrD,EAAA9M,KAAA,sBAAA8M,EAAA9M,KAAA,EAQVE,EAAKwD,SAAS,CAClB0M,cAAeJ,EACfd,qBAAsB,IAVR,OAYDmB,SAASC,eAAT,yBAAAjX,OACY6G,EAAKC,MAAM3J,YADvB,OAAA6C,OAEX6G,EAAKC,MAAM1J,kBAGN0G,IAAMoT,IAAIC,gBAAgBR,GAjBnB,wBAAAlD,EAAAzM,SAAAmM,MApMD,gBAAAoE,GAAA,OAAAxR,EAAAmI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAyNnBuQ,iBAzNmB,eAAAQ,EAAAjb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAyNA,SAAAuG,EAAMpY,GAAN,IAAA+a,EAAAU,EAAAf,EAAAF,EAAA,OAAA7P,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,aACbgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFV,CAAAvC,EAAA5N,KAAA,QAGfvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHevC,EAAA5N,KAAA,uBAQX0Q,EAAuBxQ,EAAKzH,MAAM0W,kBAClCQ,EAAuBvB,SACzBnZ,EAAE2O,OAAOyC,aAAa,wBACtB,IAEEoJ,EAAkBc,IAAIC,gBAAgBR,GAC1CU,EAAqBf,GAAwB,CAC3CgB,aAAcX,EACdN,oBAAqB,EACrBC,qBAAsBA,EACtBF,mBAlBa7B,EAAA5N,KAAA,GAqBTE,EAAKwD,SAAS,CAClByL,kBAAmBuB,IAtBN,yBAAA9C,EAAAvN,SAAAgN,MAzNA,gBAAAiE,GAAA,OAAAL,EAAA1J,MAAAjH,KAAA5H,YAAA,GAAAwH,EAoPnBsY,qBAAuB,WACrBtY,EAAKC,MAAMqY,wBArPMtY,EAwPnBuY,mBAAqB,WACnBvY,EAAKC,MAAMsY,sBAzPMvY,EA4PnB6Q,gBAAkB,SAAA9b,GAChBiL,EAAKC,MAAM4Q,gBAAgB9b,IA7PViL,EAgQnB8Q,cAhQmB,eAAAsC,EAAAtd,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgQH,SAAAoH,EAAMjZ,GAAN,IAAAyK,EAAAwR,EAAAwH,EAAAtH,EAAAuH,EAAAC,EAAA,OAAAhZ,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,UACd/K,EAAEgL,kBACEiR,EAAS,IACNpX,KAAKoG,EAAKzH,MAAMyf,kBAEnBhY,EAAKzH,MAAM4Y,iBAAyD,IAAtCnR,EAAKzH,MAAMwW,uBAL/B,CAAAd,EAAAnO,KAAA,eAMZkR,EAAOpX,KAAKoG,EAAKzH,MAAM4Y,iBANXlD,EAAAnO,KAAA,EAQNE,EAAKwD,SAAS,CAClBuL,uBAAwB,IATd,OAAAd,EAAAnO,KAAA,gBAYZE,EAAKzH,MAAM4Y,iBAC2B,IAAtCnR,EAAKzH,MAAMwW,uBAEXiC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MAhBL,YAkBVoG,EAAKzH,MAAM2X,eAAqD,IAApClQ,EAAKzH,MAAMyW,qBAlB7B,CAAAf,EAAAnO,KAAA,gBAmBZkR,EAAOpX,KAAKoG,EAAKzH,MAAM2X,eAnBXjC,EAAAnO,KAAA,GAqBNE,EAAKwD,SAAS,CAClBwL,qBAAsB,IAtBZ,QAAAf,EAAAnO,KAAA,iBAyBZE,EAAKzH,MAAM2X,eACyB,IAApClQ,EAAKzH,MAAMyW,qBAEXgC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MA7BL,eAgCV4e,EAAmB,GACvBxY,EAAKzH,MAAM0W,kBAAkBtV,QAAQ,SAAAJ,GAAE,OACrCif,EAAiB5e,KAAjB9D,OAAA+C,EAAA,EAAA/C,CAAA,GAA2ByD,MAE7ByX,EAAOpX,KAAK4e,IAERtH,EAAyBlR,EAAKzH,MAAM0W,mBACjB5Z,IAAI,SAAAkE,GAAE,OAAKA,EAAGiW,oBAAsB,IAvC7CvB,EAAAnO,KAAA,GAwCRE,EAAKwD,SAAS,CAAEyL,kBAAmBiC,IAxC3B,eA2CVuH,EAAmB,GACvBzY,EAAKzH,MAAM0f,kBAAkBte,QAAQ,SAAAJ,GAAE,OACrCkf,EAAiB7e,KAAjB9D,OAAA+C,EAAA,EAAA/C,CAAA,GAA2ByD,MAE7ByX,EAAOpX,KAAK6e,IAERC,EAAyB1Y,EAAKzH,MAAM0f,mBACjB5iB,IAAI,SAAAkE,GAAE,OAAKA,EAAG6e,oBAAsB,IAlD7CnK,EAAAnO,KAAA,GAmDRE,EAAKwD,SAAS,CAAEyU,kBAAmBS,IAnD3B,eAAAzK,EAAAnO,KAAA,IAsDRN,EAAAQ,EAAKC,OAAM6Q,cAAXzJ,MAAA7H,EAA4BwR,GAtDpB,yBAAA/C,EAAA9N,SAAA6N,MAhQG,gBAAAqF,GAAA,OAAAD,EAAA/L,MAAAjH,KAAA5H,YAAA,GAEjBwH,EAAKqR,oBAAsBrR,EAAKqR,oBAAoBC,KAAzBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAC3BA,EAAK6P,kBAAoB7P,EAAK6P,kBAAkByB,KAAvBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACzBA,EAAK2Y,iBAAmB3Y,EAAK2Y,iBAAiBrH,KAAtBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACxBA,EAAKuQ,iBAAmBvQ,EAAKuQ,iBAAiBe,KAAtBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KALPA,mFAqJCjL,GAClB,GAAIA,EAAE2O,OAAOqM,MAAM,GAAGC,KAAO5P,KAAKH,MAAMgQ,qBACtC1T,OAAOqL,MAAP,+BAAAzO,OACiCiH,KAAKH,MAAMgQ,qBACxC,IAFJ,aAIK,CACL,IAAMuB,EAAQ,aAAArY,OAAgBiH,KAAKH,MAAM3J,YAA3B,OAAA6C,OACZiH,KAAKH,MAAM1J,iBAED4Z,SAASC,eAAeoB,GAC9BvU,IAAMoT,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAE/C3P,KAAKoD,SAAS,CACZ2N,gBAAiBpc,EAAE2O,OAAOqM,MAAM,GAChChB,uBAAwB,8CAKbha,GACf,GAAIA,EAAE2O,OAAOqM,MAAM,GAAGC,KAAO5P,KAAKH,MAAMgQ,qBACtC1T,OAAOqL,MAAP,+BAAAzO,OACiCiH,KAAKH,MAAMgQ,qBACxC,IAFJ,aAIK,CACL,IAAIkI,EAAkB9H,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAErDsI,EAAuBjY,KAAK7H,MAAM0f,kBAClCxI,EAAuBvB,SACzBnZ,EAAE2O,OAAOyC,aAAa,wBACtB,IAEFkS,EAAqB5I,GAAwB,CAC3CmJ,aAAc7jB,EAAE2O,OAAOqM,MAAM,GAC7BqI,oBAAqB,EACrB3I,qBAAsBA,EACtB0I,mBAGF/X,KAAKoD,SAAS,CACZyU,kBAAmBI,sCA4HvB,IAAI/E,EAAoB,GAExB,QAAQ,GACN,KAAKlT,KAAKH,MAAM4Y,gBACd,IACE,IAAI/c,EAAI,EACRA,EAAIsE,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnDqD,GAAK,EAGHsE,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxB,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvB,mCAAqC6F,KAAKH,MAAM1J,iBAEnD+c,EAAkB1Z,KAChB+C,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,SACV4B,WAAY,SACZnP,YAAa,MACbhH,QAAS,eACToW,cAAe,QAPnB,qBAAAra,OAWIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAZP,KAAA6C,OAcIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,kBAGPoG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTJ,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAI,uBAAAxK,OACFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFD,KAAA6C,OAIFiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,iBAEL0O,UAAU,MACVV,YAAW,gCAAApL,OACTiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAFM,KAAA6C,OAITiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBALM,OAOX2O,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKyS,oBACfjP,MACExD,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACxC2H,KAAK7H,MAAMxB,eAAeuc,EAAkB7a,QACzCya,YACH,GAENO,cACErT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxF,YAELod,cACEtT,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,gBAELuG,MAAO,CACL6U,SAAU,SACVU,OAAQ,OACRrV,MAAO,OACPM,IAAK,MAIXX,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTuW,aAAc,aACd3W,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,eACLvO,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEI2C,EAAI,GACVgB,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKmQ,iBAEfuB,qBAAsBwB,EAAkB7a,SAE1CkE,EAAAC,EAAAC,cAAA,KACEC,MAAO,CACL8U,aAAc,EACdxU,QAAS,eACTgH,YAAa,MACbmP,WAAY,MACZC,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,gBAAAnL,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAED2C,EAAI,GACVgB,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,UACV6B,cAAe,QATnB,mBAeDpT,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC9CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACCnP,KAAK7H,MAAM0W,kBACTqE,EAAkB7a,QAClB8W,gBACF,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRiI,cAAe,MACfZ,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIma,EAAkB7a,SAnB1B,oCAsBEkE,EAAAC,EAAAC,cAAA,qBAtBF,aAwBE,SAOhB,MACF,KAAKuD,KAAKH,MAAM6Y,kBACd,IACE,IAAI1B,EAAI,EACRA,EAAIhX,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnD2e,GAAK,EAGHhX,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C9c,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C7c,mCAAqC6F,KAAKH,MAAM1J,iBAEnD+c,EAAkB1Z,KAChB+C,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,SACV4B,WAAY,SACZnP,YAAa,MACbhH,QAAS,eACToW,cAAe,MACf5B,aAAc,IARlB,qBAAAzY,OAYIiH,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C9gB,YAbP,KAAA6C,OAeIiH,KAAKH,MAAM/G,cAAcjC,sBAAsBmgB,GAC5C7gB,kBAGPoG,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,eAAA+D,OAAiBiH,KAAKH,MAAM3J,YAA5B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,EAAI,GACVta,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKuY,iBAEf7G,qBAAsBwB,EAAkB7a,SACvC,IACHkE,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,eAAAnL,OAAiBiH,KAAKH,MAAM3J,YAA5B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAEDie,EAAI,GACVta,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,SACV6B,cAAe,MACfD,WAAY,WAVhB,mBAgBF5W,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTJ,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAK7H,MAAM0f,kBACT3E,EAAkB7a,SAEpB2H,KAAK7H,MAAM0f,kBAAkB3E,EAAkB7a,QAC5C0f,gBACC/X,KAAK7H,MAAM0f,kBACT3E,EAAkB7a,QAClB0f,gBACFY,KAEN1Y,UAAU,eACVlD,IAAI,oBACJL,MAAO,CAAEE,MAAO,OAAQqa,UAAW,QACnCjiB,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,EAAI,MAGdza,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,eACTuW,aAAc,aACd3W,MAAO,MACPwW,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,eACLvO,GAAE,gBAAA+D,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIie,EAAI,GACVta,MAAO,CAAEM,QAAS,QAElB0U,qBAAsBwB,EAAkB7a,OACxC8K,SAAUnD,KAAKmQ,mBAEjB5T,EAAAC,EAAAC,cAAA,KACEC,MAAO,CACL8U,aAAc,EACdxU,QAAS,eACTgH,YAAa,MACbmP,WAAY,SACZC,cAAe,QAGjB7W,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,gBAAAnL,OAAkBiH,KAAKH,MAAM3J,YAA7B,OAAA6C,OACLiH,KAAKH,MAAM1J,gBADN,OAAA4C,OAEDie,EAAI,GACVta,MAAO,CACLiV,OAAQ,UACRH,aAAc,EACdD,SAAU,UACV6B,cAAe,QATnB,mBAeDpT,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC9CkE,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAK7H,MAAM0W,kBAAkBqE,EAAkB7a,QAC5C8W,gBACCnP,KAAK7H,MAAM0W,kBACTqE,EAAkB7a,QAClB8W,gBACF,KAENzS,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRiI,cAAe,MACfZ,YAAa,OAEfhP,GAAE,wBAAA+D,OAA0BiH,KAAKH,MAAM3J,YAArC,OAAA6C,OACAiH,KAAKH,MAAM1J,gBADX,OAAA4C,OAEIma,EAAkB7a,SAnB1B,oCAsBEkE,EAAAC,EAAAC,cAAA,qBAtBF,aAwBE,SAOhB,MACF,QACEyW,EAAoB,GAExB,OACE3W,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,kBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,gBACLvO,GAAE,iBAAA+D,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKyP,oBAEjBlT,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,iBAAAnL,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM2X,eAAiB9P,KAAKH,MAAMiS,iBACtCvV,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAKH,MAAMiS,iBAAmB9R,KAAKH,MAAMiS,iBAAmB,KAE9DpV,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,yBAAA+D,OAA2BiH,KAAKH,MAAM3J,YAAtC,OAAA6C,OACAiH,KAAKH,MAAM1J,kBAbf,oCAiBEoG,EAAAC,EAAAC,cAAA,qBAjBF,aAmBE,MAENF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,aACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUvU,QAAS,iBAA1C,oBAEM,IACNT,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,WAAA+D,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKiR,sBAEjB1U,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,WAAAnL,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,oBAWJjV,EAAAC,EAAAC,cAAA,OACEC,MAAO,CAAEE,MAAO,QAASD,OAAQ,QAASM,SAAU,aAEpDV,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAKH,MAAMkS,mBACP/R,KAAKH,MAAMkS,mBACX6G,KAEN3Y,UAAU,eACVlD,IAAI,wBACJL,MAAO,CAAEE,MAAO,OAAQD,OAAQ,QAChC3H,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,qBAKnBoG,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACd4N,WAAY,MACZjN,cAAe,QAGjBrI,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aAAavD,MAAO,CAAE8U,aAAc,IACjDjV,EAAAC,EAAAC,cAAA,SACEyH,QAAQ,OACRxH,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVC,aAAc,QALlB,QAUAjV,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,kBACLsB,UAAU,MACVV,YAAY,wCACZW,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKwS,kBACfhP,MAAOxD,KAAK7H,MAAMyf,gBAClBlb,MAAO,CAAE6U,SAAU,SAAUU,OAAQ,UAGvC1V,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,OACTkV,eAAgB,eAChB9Q,UAAW,SAGXpB,KAAKH,MAAM6Y,kBAWT,KAVFnc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,WACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAM4Y,gBACpBlV,KAAK,gBACLJ,SAAUnD,KAAKmY,sBAInBnY,KAAKH,MAAM4Y,gBAWT,KAVFlc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,aACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAM6Y,kBACpBnV,KAAK,kBACLJ,SAAUnD,KAAKkY,2BAO3B3b,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,WAAMyW,KAGV3W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,iBACNvD,UAAU,8BACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAK0Q,gBAGhBnU,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,mBACN4O,gBAAiBpS,KAAKH,MAAM1J,gBAC5B8J,UAAU,gCACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAKH,MAAM4Q,2BAv0BN5P,aA+0BXE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIX4W,IC/0BJ,IAAMlE,GARN,SAAmBC,GACjB,IAAID,EAAS,GAIb,OAHAC,EAAE5e,OAAOG,IAAI,SAAC0e,EAAMva,GAClBqa,EAAOE,EAAKC,QAAQ,KAAM,KAAOF,EAAEC,KAE9BF,EAGMI,CACbzL,QAOmByQ,8MACnB1gB,MAAQ,CACN2gB,aAAc,CACZ,CACEvV,KAAM,WACNwV,aAAc,EACdC,cAAe,EACfC,aAAc,EACdjF,YAAY,GAEd,CACEzQ,KAAM,gBACNwV,aAAc,EACdC,cAAe,EACfC,aAAc,EACdjF,YAAY,GAEd,CACEzQ,KAAM,QACNwV,aAAc,EACdC,cAAe,EACfC,aAAc,EACdjF,YAAY,OAKlBkF,cAAgB,SAAAvkB,GACdiL,EAAKzH,MAAM2gB,aAAavf,QAAQ,SAAAJ,GAAE,OAAKA,EAAG6a,YAAa,IACvD,IAAImF,EAA4BvZ,EAAKzH,MAAM2gB,aAC3CK,EACExkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,YAAcmF,EACdxkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,WAEFpU,EAAKC,MAAMqZ,cACTtZ,EAAKzH,MAAM2gB,aAAankB,EAAEwf,cAAcpO,aAAa,OACrDpR,EAAEwf,cAAcC,SAAS,GAAGvX,KAE9B+C,EAAKwD,SAAS,CACZ0V,aAAcK,6EAMhB,IADA,IAAIC,EAAY,GACP9E,EAAI,EAAGA,GAAK5e,OAAOZ,KAAK2e,IAAQpb,OAAQic,IAC/C8E,EAAU5f,KACR+C,EAAAC,EAAAC,cAAA,OACEwD,UAAS,qBAAAlH,OACPiH,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGN,WAAa,WAAa,MAE3DtX,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,QACzC+D,QAASX,KAAKkZ,cACdlkB,GAAIsf,EAAI,GAER/X,EAAAC,EAAAC,cAAA,OACEI,IAAK4W,GAAM,GAAA1a,OAAIub,EAAJ,SACXrU,UAAU,UACVlD,IAAI,MACJL,MAAO,CACLC,OAAQ,QACRC,MAAO,QACPI,QAAS,eACToW,cAAe,SAGnB7W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEM,QAAS,iBACrBT,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUC,aAAc,IAC5CxR,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG/Q,MAElChH,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGyE,cAElDxc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,oBAQoBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG0E,eAEnDzc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG2E,iBAO1D,OAAO1c,EAAAC,EAAAC,cAAA,WAAM2c,UA3GgCvY,aCRjD,IAAM4S,GARN,SAAmBC,GACjB,IAAID,EAAS,GAIb,OAHAC,EAAE5e,OAAOG,IAAI,SAAC0e,EAAMva,GAClBqa,EAAOE,EAAKC,QAAQ,KAAM,KAAOF,EAAEC,KAE9BF,EAGMI,CACbzL,QAOmByQ,8MACnB1gB,MAAQ,CACN2gB,aAAc,CACZ,CACEvV,KAAM,OACNwV,aAAc,GACdC,cAAe,EACfC,aAAc,IAEhB,CACE1V,KAAM,QACNwV,aAAc,EACdC,cAAe,EACfC,aAAc,IAEhB,CACE1V,KAAM,WACNwV,aAAc,EACdC,cAAe,GACfC,aAAc,QAKpBC,cAAgB,SAAAvkB,GACdiL,EAAKzH,MAAM2gB,aAAavf,QAAQ,SAAAJ,GAAE,OAAKA,EAAG6a,YAAa,IACvD,IAAImF,EAA4BvZ,EAAKzH,MAAM2gB,aAC3CK,EACExkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,YAAcmF,EACdxkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,WAEFpU,EAAKC,MAAMqZ,cACTtZ,EAAKzH,MAAM2gB,aAAankB,EAAEwf,cAAcpO,aAAa,OACrDpR,EAAEwf,cAAcC,SAAS,GAAGvX,KAE9B+C,EAAKwD,SAAS,CACZ0V,aAAcK,6EAMhB,IADA,IAAIC,EAAY,GACP9E,EAAI,EAAGA,GAAK5e,OAAOZ,KAAK2e,IAAQpb,OAAQic,IAC/C8E,EAAU5f,KACR+C,EAAAC,EAAAC,cAAA,OACEwD,UAAS,qBAAAlH,OACPiH,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGN,WAAa,WAAa,MAE3DtX,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,QACzC+D,QAASX,KAAKkZ,cACdlkB,GAAIsf,EAAI,GAER/X,EAAAC,EAAAC,cAAA,OACEI,IAAK4W,GAAM,GAAA1a,OAAIub,EAAJ,SACXrU,UAAU,UACVlD,IAAI,MACJL,MAAO,CACLC,OAAQ,QACRC,MAAO,QACPI,QAAS,eACToW,cAAe,SAGnB7W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEM,QAAS,iBACrBT,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUC,aAAc,IAC5CxR,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG/Q,MAElChH,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGyE,cAElDxc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,oBAQoBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG0E,eAEnDzc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG2E,iBAO1D,OAAO1c,EAAAC,EAAAC,cAAA,WAAM2c,UAxGgCvY,aCRjD,IAAM4S,GARN,SAAmBC,GACjB,IAAID,EAAS,GAIb,OAHAC,EAAE5e,OAAOG,IAAI,SAAC0e,EAAMva,GAClBqa,EAAOE,EAAKC,QAAQ,KAAM,KAAOF,EAAEC,KAE9BF,EAGMI,CACbzL,QAOmByQ,8MACnB1gB,MAAQ,CACN2gB,aAAc,CACZ,CACEvV,KAAM,cACNwV,aAAc,GACdC,cAAe,GACfC,aAAc,IAEhB,CACE1V,KAAM,eACNwV,aAAc,GACdC,cAAe,GACfC,aAAc,QAKpBC,cAAgB,SAAAvkB,GACdiL,EAAKzH,MAAM2gB,aAAavf,QAAQ,SAAAJ,GAAE,OAAKA,EAAG6a,YAAa,IACvD,IAAImF,EAA4BvZ,EAAKzH,MAAM2gB,aAC3CK,EACExkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,YAAcmF,EACdxkB,EAAEwf,cAAcpO,aAAa,OAC7BiO,WAEFpU,EAAKC,MAAMqZ,cACTtZ,EAAKzH,MAAM2gB,aAAankB,EAAEwf,cAAcpO,aAAa,OACrDpR,EAAEwf,cAAcC,SAAS,GAAGvX,KAE9B+C,EAAKwD,SAAS,CACZ0V,aAAcK,6EAMhB,IADA,IAAIC,EAAY,GACP9E,EAAI,EAAGA,GAAK5e,OAAOZ,KAAK2e,IAAQpb,OAAQic,IAC/C8E,EAAU5f,KACR+C,EAAAC,EAAAC,cAAA,OACEwD,UAAS,qBAAAlH,OACPiH,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGN,WAAa,WAAa,MAE3DtX,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,QACzC+D,QAASX,KAAKkZ,cACdlkB,GAAIsf,EAAI,GAER/X,EAAAC,EAAAC,cAAA,OACEI,IAAK4W,GAAM,GAAA1a,OAAIub,EAAJ,SACXrU,UAAU,UACVlD,IAAI,MACJL,MAAO,CACLC,OAAQ,QACRC,MAAO,QACPI,QAAS,eACToW,cAAe,SAGnB7W,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEM,QAAS,iBACrBT,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUC,aAAc,IAC5CxR,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG/Q,MAElChH,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAGyE,cAElDxc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,oBAQoBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG0E,eAEnDzc,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACV8H,UAAW,SACX7H,aAAc,EACd8H,WAAY,QALhB,mBAQmBtZ,KAAK7H,MAAM2gB,aAAaxE,EAAI,GAAG2E,iBAO1D,OAAO1c,EAAAC,EAAAC,cAAA,WAAM2c,UAlGgCvY,kCCT3C0Y,eACJ,SAAAA,EAAY1Z,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAAuZ,IACjB3Z,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAA6jB,GAAA7L,KAAA1N,KAAMH,KAIR1H,MAAQ,CACNqhB,gBAAiB,GACjBC,gBAAiB,GACjB9K,uBAAwB,GARP/O,EAWnBkP,kBAXmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAWC,SAAArH,IAAA,IAAA4P,EAAA,OAAAzP,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAzP,EAAAE,KAAA,YAGdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJf,CAAAwK,EAAAE,KAAA,eAOVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARfwK,EAAAE,KAAA,EAURE,EAAKwD,SAAS,CAClBqW,gBAAiB1K,EAAqBG,YAX1B,UAgBdtP,EAAKzH,MAAMqhB,kBAAoB5Z,EAAKC,MAAM2Z,gBAhB5B,CAAAha,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAiBVE,EAAKwD,SAAS,CAAEoW,gBAAiB5Z,EAAKC,MAAM2Z,kBAjBlC,wBAAAha,EAAAO,SAAAZ,MAXDS,EAgCnB0P,mBAhCmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgCE,SAAAf,EAAM8J,GAAN,IAAAR,EAAA,OAAAzP,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACfE,EAAKC,MAAM7K,KAAOua,EAAUva,GADb,CAAA8Q,EAAApG,KAAA,YAGfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAJd,CAAA8Q,EAAApG,KAAA,eAOXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARd8Q,EAAApG,KAAA,EAUTE,EAAKwD,SAAS,CAClBqW,gBAAiB1K,EAAqBG,YAXzB,wBAAApJ,EAAA/F,SAAA0F,MAhCF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAiDnB4S,kBAAoB,SAAA7d,GAClBiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,SAlDzB5D,EAqDnBqR,oBArDmB,eAAArS,EAAAlJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAqDG,SAAAW,EAAMxS,GAAN,IAAAyc,EAAA,OAAA9R,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,YAChB/K,EAAE2O,OAAOqM,MAAM,GAAGC,KAAOhQ,EAAKC,MAAMgQ,sBADpB,CAAAxI,EAAA3H,KAAA,QAElBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAFkBxI,EAAA3H,KAAA,sBAOZ0R,EAPY,aAAArY,OAOY6G,EAAKC,MAAM3J,YAPvB,OAAA6C,OAQhB6G,EAAKC,MAAM1J,iBAED4Z,SAASC,eAAeoB,GAC9BvU,IAAMoT,IAAIC,gBAAgBvb,EAAE2O,OAAOqM,MAAM,IAX7BtI,EAAA3H,KAAA,EAaZE,EAAKwD,SAAS,CAClB2N,gBAAiBpc,EAAE2O,OAAOqM,MAAM,GAChChB,uBAAwB,IAfR,wBAAAtH,EAAAtH,SAAAoH,MArDH,gBAAAH,GAAA,OAAApI,EAAAqI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAyEnB6P,kBAzEmB,eAAA3Q,EAAApJ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAyEC,SAAA0F,EAAMvX,GAAN,IAAA+a,EAAA,OAAApQ,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,aACdgQ,EAAO/a,EAAE2O,OAAOqM,MAAM,IACjBC,KAAOhQ,EAAKC,MAAMgQ,sBAFT,CAAArD,EAAA9M,KAAA,QAGhBvD,OAAOqL,MAAP,+BAAAzO,OACiC6G,EAAKC,MAAMgQ,qBACxC,IAFJ,SAHgBrD,EAAA9M,KAAA,sBAAA8M,EAAA9M,KAAA,EAQVE,EAAKwD,SAAS,CAClB0M,cAAeJ,EACfd,qBAAsB,IAVR,OAYDmB,SAASC,eAAT,yBAAAjX,OACY6G,EAAKC,MAAM3J,YADvB,OAAA6C,OAEX6G,EAAKC,MAAM1J,kBAGN0G,IAAMoT,IAAIC,gBAAgBR,GAjBnB,wBAAAlD,EAAAzM,SAAAmM,MAzED,gBAAAoE,GAAA,OAAAxR,EAAAmI,MAAAjH,KAAA5H,YAAA,GAAAwH,EA8FnB8Z,eA9FmBhkB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA8FF,SAAAuG,IAAA,OAAAzN,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,WACXE,EAAKC,MAAM8Z,YADA,CAAArM,EAAA5N,KAAA,eAAA4N,EAAA5N,KAAA,EAEPE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAF1B,cAAAlM,EAAA5N,KAAA,EAITE,EAAKC,MAAM6Z,iBAJF,wBAAApM,EAAAvN,SAAAgN,MA9FEnN,EAoGnBga,oBApGmBlkB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAoGG,SAAAoH,IAAA,OAAAtO,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,WAChBE,EAAKC,MAAMga,iBADK,CAAAhM,EAAAnO,KAAA,eAAAmO,EAAAnO,KAAA,EAEZE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAFrB,cAAA3L,EAAAnO,KAAA,EAIdE,EAAKC,MAAM+Z,sBAJG,wBAAA/L,EAAA9N,SAAA6N,MApGHhO,EA0GnBka,qBA1GmBpkB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA0GI,SAAAyH,IAAA,OAAA3O,EAAA9C,EAAA+C,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,WAEnBE,EAAKC,MAAMlJ,eAAeoD,KAAK,SAAAZ,GAAE,OAC/ByG,EAAKC,MAAM/G,cAAc7C,kBAAkB8D,KACzC,SAAA8M,GAAI,OAAyC,IAArCA,EAAKtQ,kBAAkBE,cAJhB,CAAAyX,EAAAxO,KAAA,QAQnBvD,OAAOqL,MACL,uLATiB0G,EAAAxO,KAAA,mBAYfE,EAAKC,MAAMnJ,kBAZI,CAAAwX,EAAAxO,KAAA,eAAAwO,EAAAxO,KAAA,EAaXE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAbtB,cAAAtL,EAAAxO,KAAA,EAebE,EAAKC,MAAMia,uBAfE,wBAAA5L,EAAAnO,SAAAkO,MA1GJrO,EA6HnB6Q,gBAAkB,SAAA9b,GAChBiL,EAAKC,MAAM4Q,gBAAgB9b,IA9HViL,EAiInB8Q,cAjImB,eAAA8E,EAAA9f,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAiIH,SAAAiP,EAAM9gB,GAAN,IAAAyK,EAAAwR,EAAA,OAAAtR,EAAA9C,EAAA+C,KAAA,SAAAsW,GAAA,cAAAA,EAAApW,KAAAoW,EAAAnW,MAAA,UACd/K,EAAEgL,kBACEiR,EAAS,IACNpX,KAAKoG,EAAKzH,MAAMshB,kBAEnB7Z,EAAKzH,MAAM4Y,iBAAyD,IAAtCnR,EAAKzH,MAAMwW,uBAL/B,CAAAkH,EAAAnW,KAAA,eAMZkR,EAAOpX,KAAKoG,EAAKzH,MAAM4Y,iBANX8E,EAAAnW,KAAA,EAQNE,EAAKwD,SAAS,CAClBuL,uBAAwB,IATd,OAAAkH,EAAAnW,KAAA,gBAYZE,EAAKzH,MAAM4Y,iBAC2B,IAAtCnR,EAAKzH,MAAMwW,uBAEXiC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MAhBL,YAkBVoG,EAAKzH,MAAM2X,eAAqD,IAApClQ,EAAKzH,MAAMyW,qBAlB7B,CAAAiH,EAAAnW,KAAA,gBAmBZkR,EAAOpX,KAAKoG,EAAKzH,MAAM2X,eAnBX+F,EAAAnW,KAAA,GAqBNE,EAAKwD,SAAS,CAClBwL,qBAAsB,IAtBZ,QAAAiH,EAAAnW,KAAA,iBAyBZE,EAAKzH,MAAM2X,eACyB,IAApClQ,EAAKzH,MAAMyW,qBAEXgC,EAAOpX,KAAK,oBACPoX,EAAOpX,KAAK,MA7BL,eAAAqc,EAAAnW,KAAA,IA+BRN,EAAAQ,EAAKC,OAAM6Q,cAAXzJ,MAAA7H,EAA4BwR,GA/BpB,yBAAAiF,EAAA9V,SAAA0V,MAjIG,gBAAAzE,GAAA,OAAAwE,EAAAvO,MAAAjH,KAAA5H,YAAA,GAAAwH,EAmKnBsZ,cAnKmB,eAAAzC,EAAA/gB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAmKH,SAAAkQ,EAAOoC,EAAciB,GAArB,IAAAC,EAAA,OAAA1a,EAAA9C,EAAA+C,KAAA,SAAAqX,GAAA,cAAAA,EAAAnX,KAAAmX,EAAAlX,MAAA,cACVsa,EADUtkB,OAAA+C,EAAA,EAAA/C,CAAA,GACoBkK,EAAKzH,MAAMqhB,kBACtBS,gBAAkBnB,EACzCkB,EAAuBpF,MAAQmF,EAC/BC,EAAuB7c,KAAO,EAC9B6c,EAAuB9c,IAAM,EALf0Z,EAAAlX,KAAA,EAMRE,EAAKwD,SAAS,CAClBoW,gBAAiBQ,IAPL,cAAApD,EAAAlX,KAAA,EASRE,EAAKC,MAAMqZ,cAAcc,GATjB,wBAAApD,EAAA7W,SAAA2W,MAnKG,gBAAAzD,EAAAoC,GAAA,OAAAoB,EAAAxP,MAAAjH,KAAA5H,YAAA,GAAAwH,EA+KnB2V,WA/KmB,eAAA2E,EAAAxkB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA+KN,SAAA2T,EAAMzE,GAAN,IAAA0E,EAAA1d,EAAAkZ,EAAA,OAAAtW,EAAA9C,EAAA+C,KAAA,SAAA8a,GAAA,cAAAA,EAAA5a,KAAA4a,EAAA3a,MAAA,OACP0a,EAAoB1E,EAAMpS,OAE1B5G,EAAQP,OAAO2Z,iBAAiBJ,EAAMpS,OAAQ,MAC9CsS,EACF9H,SAASpR,EAAMqZ,iBAAiB,QAAS,IACzCL,EAAMM,QACN,KACClI,SAASpR,EAAMqZ,iBAAiB,OAAQ,IAAML,EAAMO,SAEvDP,EAAMQ,aAAaC,QAAQ,aAAcP,GACzChW,EAAKwD,SAAS,CACZgX,kBAAmBA,EACnBxE,YAAaA,IAbJ,wBAAAyE,EAAAta,SAAAoa,MA/KM,gBAAA7E,GAAA,OAAA4E,EAAAjT,MAAAjH,KAAA5H,YAAA,GAAAwH,EAgMnByW,UAAY,SAAAX,GACV,IAAIY,EACJ,IACEA,EAASZ,EAAMQ,aAAaK,QAAQ,cAAc5J,MAAM,KACxD,MAAOhY,GACP2hB,EAAS1W,EAAKzH,MAAMyd,YAAYjJ,MAAM,KAExC,IAAIyN,EAAoBxa,EAAKzH,MAAMiiB,kBAMnC,OALAA,EAAkB1d,MAAMS,KACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,KAC5C8D,EAAkB1d,MAAMQ,IACtBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,KAC5CZ,EAAM/V,kBACC,GA7MUC,EAgNnB4W,KAhNmB,eAAA8D,EAAA5kB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgNZ,SAAA+T,EAAM7E,GAAN,IAAAY,EAAA8D,EAAAI,EAAA,OAAAlb,EAAA9C,EAAA+C,KAAA,SAAAkb,GAAA,cAAAA,EAAAhb,KAAAgb,EAAA/a,MAAA,OAEL,IACE4W,EAASZ,EAAMQ,aAAaK,QAAQ,cAAc5J,MAAM,KACxD,MAAOhY,GACP2hB,EAAS1W,EAAKzH,MAAMyd,YAAYjJ,MAAM,KALnC,OAQDyN,EAAoBxa,EAAKzH,MAAMiiB,kBAI/B1E,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,EAC5C8D,EAAkB1d,MAAMS,KAAO,MACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,IACnD8D,EAAkB1d,MAAMS,KAAO,QAE/Bid,EAAkB1d,MAAMS,KACtBuY,EAAMM,QAAUlI,SAASwI,EAAO,GAAI,IAAM,KAE1CZ,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,EAC5C8D,EAAkB1d,MAAMQ,IAAM,MACrBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,GACnD8D,EAAkB1d,MAAMQ,IAAM,OAE9Bkd,EAAkB1d,MAAMQ,IACtBwY,EAAMO,QAAUnI,SAASwI,EAAO,GAAI,IAAM,KAG9CZ,EAAM/V,kBAEF6a,EA/BC9kB,OAAA+C,EAAA,EAAA/C,CAAA,GAgCAkK,EAAKzH,MAAMqhB,kBAEsBrc,KAAO2Q,SAC3CsM,EAAkB1d,MAAMS,KACxB,IAEFqd,EAAsCtd,IAAM4Q,SAC1CsM,EAAkB1d,MAAMQ,IACxB,IAxCGud,EAAA/a,KAAA,GA0CCE,EAAKwD,SAAS,CAClBoW,gBAAiBgB,IA3Cd,eAAAC,EAAA/a,KAAA,GA6CCE,EAAKC,MAAMqZ,cAAcsB,GA7C1B,eAAAC,EAAA5P,OAAA,UA+CE,GA/CF,yBAAA4P,EAAA1a,SAAAwa,MAhNY,gBAAAnE,GAAA,OAAAkE,EAAArT,MAAAjH,KAAA5H,YAAA,GAEjBwH,EAAKqR,oBAAsBrR,EAAKqR,oBAAoBC,KAAzBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAC3BA,EAAK6P,kBAAoB7P,EAAK6P,kBAAkByB,KAAvBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KAHRA,wEAmQjB,IAAI8a,EAAmB,GAEvB,QAAQ,GACN,KAAK1a,KAAKH,MAAM8Z,YACde,EAAiBlhB,KACf+C,EAAAC,EAAAC,cAACke,GAAD,CAAqBzB,cAAelZ,KAAKkZ,iBAE3C,MACF,KAAKlZ,KAAKH,MAAMga,iBACda,EAAiBlhB,KACf+C,EAAAC,EAAAC,cAACme,GAAD,CAA0B1B,cAAelZ,KAAKkZ,iBAEhD,MAEF,KAAKlZ,KAAKH,MAAMnJ,kBACdgkB,EAAiBlhB,KACf+C,EAAAC,EAAAC,cAACoe,GAAD,CAA2B3B,cAAelZ,KAAKkZ,iBAEjD,MAEF,QACEwB,EAAmB,GAKvB,IAFA,IAAMrJ,EAAqB,GAGrB3V,EAAI,EACRA,EAAIsE,KAAKH,MAAM/G,cAAcjC,sBAAsBwB,OACnDqD,GAAK,EAGHsE,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CxB,+BAAiC8F,KAAKH,MAAM3J,aAC/C8J,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvB,mCAAqC6F,KAAKH,MAAM1J,iBAEnDkb,EAAmB7X,KACjB+C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEC,MAAO,CACL4U,WAAY,MACZC,SAAU,WAHd,yBAAAxY,OAOIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAAGxF,YAPtD,KAAA6C,OASIiH,KAAKH,MAAM/G,cAAcjC,sBAAsB6E,GAC5CvF,oBAQf,OACEoG,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAC/C1H,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL6U,SAAU,SACVvU,QAAS,eACTwU,aAAc,IAJlB,kBAQM,IACNjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,YACPlO,KAAK,gBACLvO,GAAE,iBAAA+D,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKyP,oBAEjBlT,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,iBAAAnL,OAAmBiH,KAAKH,MAAM3J,YAA9B,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,mBAUDxR,KAAK7H,MAAM2X,eAAiB9P,KAAKH,MAAMiS,iBACtCvV,EAAAC,EAAAC,cAAA,SACEmV,UAAQ,EACR/U,IACEmD,KAAKH,MAAMiS,iBAAmB9R,KAAKH,MAAMiS,iBAAmB,KAE9DpV,MAAO,CACLM,QAAS,eACTJ,MAAO,QACPD,OAAQ,OACRkV,WAAY,MACZ7N,YAAa,OAEfhP,GAAE,yBAAA+D,OAA2BiH,KAAKH,MAAM3J,YAAtC,OAAA6C,OACAiH,KAAKH,MAAM1J,kBAbf,oCAiBEoG,EAAAC,EAAAC,cAAA,qBAjBF,aAmBE,MAENF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,aACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAE6U,SAAU,SAAUvU,QAAS,iBAA1C,oBAEM,IACNT,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLiZ,OAAO,wBACPlO,KAAK,QACLvO,GAAE,WAAA+D,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACAiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEM,QAAS,QAClBmG,SAAUnD,KAAKiR,sBAEjB1U,EAAAC,EAAAC,cAAA,KAAGC,MAAO,CAAE8U,aAAc,EAAGxU,QAAS,iBACpCT,EAAAC,EAAAC,cAAA,SACEwD,UAAU,eACViE,QAAO,WAAAnL,OAAaiH,KAAKH,MAAM3J,YAAxB,OAAA6C,OACLiH,KAAKH,MAAM1J,iBAEbuG,MAAO,CAAEiV,OAAQ,UAAWH,aAAc,IAL5C,oBAWJjV,EAAAC,EAAAC,cAAA,OACEC,MAAO,CAAEE,MAAO,QAASD,OAAQ,QAASM,SAAU,YACpDua,WAAYxX,KAAKqW,UACjBoB,OAAQzX,KAAKwW,MAEbja,EAAAC,EAAAC,cAAA,OACEI,IACEmD,KAAKH,MAAMkS,mBACP/R,KAAKH,MAAMkS,mBACX+I,KAEN7a,UAAU,eACVlD,IAAI,wBACJL,MAAO,CAAEE,MAAO,OAAQD,OAAQ,QAChC3H,GAAE,aAAA+D,OAAeiH,KAAKH,MAAM3J,YAA1B,OAAA6C,OACAiH,KAAKH,MAAM1J,mBAGfoG,EAAAC,EAAAC,cAAA,OACEI,IAAKmD,KAAK7H,MAAMqhB,gBAAgB5E,MAChC3U,UAAS,wBAAAlH,OACPiH,KAAK7H,MAAMqhB,gBAAgB5E,MAAQ,KAAO,QAE5C0C,UAAU,OACVva,IAAI,UACJL,MAAO,CACLC,OAAQ,QACRC,MAAO,QACPM,IAAG,GAAAnE,OACDiH,KAAK7H,MAAMqhB,gBACPxZ,KAAK7H,MAAMqhB,gBAAgBtc,IAC3B,EAHH,MAKHC,KAAI,GAAApE,OACFiH,KAAK7H,MAAMqhB,gBACPxZ,KAAK7H,MAAMqhB,gBAAgBrc,KAC3B,EAHF,OAMNoa,YAAavX,KAAKuV,eAIxBhZ,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACd4N,WAAY,MACZjN,cAAe,QAGjBrI,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aAAavD,MAAO,CAAE8U,aAAc,IACjDjV,EAAAC,EAAAC,cAAA,SACEyH,QAAQ,OACRxH,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVC,aAAc,QALlB,QAUAjV,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,kBACLsB,UAAU,MACVV,YAAY,8CACZW,KAAK,IACLR,UAAQ,EACRnB,SAAUnD,KAAKwS,kBACfhP,MAAOxD,KAAK7H,MAAMshB,gBAClB/c,MAAO,CAAE6U,SAAU,SAAUU,OAAQ,UAGvC1V,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLM,QAAS,OACTkV,eAAgB,eAChB9Q,UAAW,OACXoQ,aAAc,QAGdxR,KAAKH,MAAMga,kBACZ7Z,KAAKH,MAAMnJ,kBAWR,KAVF6F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,OACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAM8Z,YACpBpW,KAAK,YACLJ,SAAUnD,KAAK0Z,kBAInB1Z,KAAKH,MAAM8Z,aAAgB3Z,KAAKH,MAAMnJ,kBAWpC,KAVF6F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,aACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMga,iBACpBtW,KAAK,iBACLJ,SAAUnD,KAAK4Z,uBAInB5Z,KAAKH,MAAM8Z,aAAgB3Z,KAAKH,MAAMga,iBAWpC,KAVFtd,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOC,MAAO,CAAE8U,aAAc,IAA9B,cACC,MACDjV,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACL2Z,QAASnS,KAAKH,MAAMnJ,kBACpB6M,KAAK,kBACLJ,SAAUnD,KAAK8Z,yBAKtB9Z,KAAKH,MAAM8Z,aACZ3Z,KAAKH,MAAMga,kBACX7Z,KAAKH,MAAMnJ,kBACT6F,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,WAAWvD,MAAO,CAAE8U,aAAc,QAC9CjV,EAAAC,EAAAC,cAAA,KACEwD,UAAU,kBACVK,KAAK,IACLtL,GAAG,aACHoL,cAAY,WACZG,gBAAc,OACdC,gBAAc,QACd9D,MAAO,CACL4U,WAAY,MACZC,SAAU,WATd,qBAcAhV,EAAAC,EAAAC,cAAA,OACEwD,UAAU,gBACVQ,kBAAgB,aAChB/D,MAAO,CACL0H,gBAAiB,0BACjB6S,UAAW,QACXC,UAAW,SACXC,OAAQ,oBAGTuD,IAGH,KACHrJ,KAIP9U,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAE0E,UAAW,QACvB7E,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,iBACNvD,UAAU,8BACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAK0Q,gBAGhBnU,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,mBACN4O,gBAAiBpS,KAAKH,MAAM1J,gBAC5B8J,UAAU,gCACVvD,MAAO,CAAEM,QAAS,eAAgBJ,MAAO,OACzC+D,QAASX,KAAKH,MAAM4Q,2BAhkBN5P,aAwkBXE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIXwY,ICllBEwB,8MACJ5iB,MAAQ,CACN6iB,UAAU,KAGZlM,uCAAoB,SAAA3P,IAAA,OAAAG,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACdE,EAAKC,MAAMmb,SADG,CAAAxb,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEVE,EAAKwD,SAAS,CAAE4X,UAAU,IAFhB,wBAAAxb,EAAAO,SAAAZ,QAMpBmQ,yDAAqB,SAAA7J,EAAM8J,GAAN,OAAAjQ,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UACf6P,EAAUyL,WAAapb,EAAKC,MAAMmb,SADnB,CAAAlV,EAAApG,KAAA,eAAAoG,EAAApG,KAAA,EAEXE,EAAKwD,SAAS,CAAE4X,SAAUpb,EAAKC,MAAMmb,WAF1B,wBAAAlV,EAAA/F,SAAA0F,8DAMrBwV,0DAAsB,SAAA9T,EAAMxS,GAAN,IAAAumB,EAAA,OAAA5b,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAChBwb,EAAavmB,EAAE2O,OAAO4X,WADN7T,EAAA3H,KAAA,EAEdE,EAAKwD,SAAS,CAClB4X,UAAWpb,EAAKzH,MAAM6iB,WAHJ,cAAA3T,EAAA3H,KAAA,EAKDE,EAAKC,MAAMob,oBAC5BC,EACAtb,EAAKC,MAAM3F,6BACX0F,EAAKC,MAAM1F,iCACXyF,EAAKzH,MAAM6iB,UATO,UAYL,WAZK3T,EAAAvD,KAAA,CAAAuD,EAAA3H,KAAA,eAAA2H,EAAA3H,KAAA,EAaZE,EAAKwD,SAAS,CAClB4X,UAAWpb,EAAKzH,MAAM6iB,WAdN,wBAAA3T,EAAAtH,SAAAoH,oIAoBpB,OACE5K,EAAAC,EAAAC,cAAA,MACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM7C,QAA/B,KAAAjE,OACPiH,KAAK7H,MAAM6iB,SAAW,SAAW,IAEnCra,QAASX,KAAKib,qBAGK,IADlBjb,KAAKH,MAAM/G,cAAc7C,kBAAkB+J,KAAKH,MAAMsb,MACpDjlB,YACC,QAFH,aAAA6C,OAIKiH,KAAKH,MAAM/G,cAAc7C,kBAAkB+J,KAAKH,MAAMsb,MACnDjlB,YALR,OAAA6C,OAOKiH,KAAKH,MAAM/G,cAAc7C,kBAAkB+J,KAAKH,MAAMsb,MACnDhlB,yBApDW0K,aA2DbE,qBAAQ,SAAA5I,GAAK,MAAK,CAC/BrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,gBAHRiI,CAIXga,IC1CEK,eACJ,SAAAA,EAAYvb,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAAob,IACjBxb,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAA0lB,GAAA1N,KAAA1N,KAAMH,KAIR1H,MAAQ,CACNkjB,UAAU,EACV/kB,cAAe,YACfC,kBAAmB,CACjBC,eAAe,EACfC,WAAW,EACXgiB,iBAAiB,EACjBC,mBAAmB,EACnBzD,qBAAqB,EACrB8B,eAAe,EACf4C,aAAa,EACbE,kBAAkB,EAClBnjB,mBAAmB,GAErBL,4BAA4B,EAC5BD,wBAAwB,EACxBO,eAAgB,GAChBC,mBAAoB,GACpB4iB,gBAAiB,GACjBzH,mBAAoB,GACpBD,iBAAkB,IAzBDlS,EA4BnBkP,kBA5BmBpZ,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA4BC,SAAArH,IAAA,IAAA4P,EAAA,OAAAzP,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WAEhBE,EAAKC,MAAMoP,kBAFK,CAAAzP,EAAAE,KAAA,YAMdE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAPf,CAAAwK,EAAAE,KAAA,eAUVqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAXfwK,EAAAE,KAAA,EAcRE,EAAKwD,SAAS,CAClB9M,cAAeyY,EAAqBzY,cACpCC,kBAAmBwY,EAAqBxY,kBACxCF,2BACE0Y,EAAqB1Y,2BACvBD,uBAAwB2Y,EAAqB3Y,uBAC7CO,eAAgBoY,EAAqBpY,eACrCC,mBAAoBmY,EAAqBnY,mBACzC4iB,gBAAiBzK,EAAqByK,gBACtCzH,mBAAoBhD,EAAqBgD,mBACzCD,iBAAkB/C,EAAqB+C,mBAxB3B,UA6Ba,IAA3BlS,EAAKC,MAAM3J,YA7BG,CAAAsJ,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EA8BVE,EAAKwD,SAAS,CAAE/M,4BAA4B,IA9BlC,wBAAAmJ,EAAAO,SAAAZ,MA5BDS,EA8DnB0P,mBA9DmB,eAAA7Q,EAAA/I,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA8DE,SAAAf,EAAM8J,GAAN,IAAAR,EAAA,OAAAzP,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,UAEjBE,EAAKC,MAAM7K,KAAOua,EAAUva,KAC5B4K,EAAKC,MAAMoP,kBAHM,CAAAnJ,EAAApG,KAAA,YAOfE,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACtC,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KARd,CAAA8Q,EAAApG,KAAA,eAWXqP,EAAuBnP,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACjE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKC,MAAM7K,KAZd8Q,EAAApG,KAAA,EAeTE,EAAKwD,SAAS,CAClB9M,cAAeyY,EAAqBzY,cACpCC,kBAAmBwY,EAAqBxY,kBACxCF,2BACE0Y,EAAqB1Y,2BACvBD,uBAAwB2Y,EAAqB3Y,uBAC7CO,eAAgBoY,EAAqBpY,eACrCC,mBAAoBmY,EAAqBnY,mBACzC4iB,gBAAiBzK,EAAqByK,gBACtCzH,mBAAoBhD,EAAqBgD,mBACzCD,iBAAkB/C,EAAqB+C,mBAzB1B,wBAAAhM,EAAA/F,SAAA0F,MA9DF,gBAAA+J,GAAA,OAAA/Q,EAAAwI,MAAAjH,KAAA5H,YAAA,GAAAwH,EAsMnB6Q,gBAAkB,SAAA9b,GACe,IAA3BiL,EAAKC,MAAM3J,YACbiG,OAAOqL,MAAM,6CAEb5H,EAAKzH,MAAM/B,wBACXwJ,EAAKzH,MAAM9B,2BAEX8F,OAAOqL,MACL,mHAEO5H,EAAKzH,MAAMkjB,SACpBlf,OAAOqL,MAAM,qDAEb5H,EAAKC,MAAM4Q,gBAAgB9b,EAAGiL,EAAKC,MAAM7K,KAnN1B4K,EAuNnB8Q,cAvNmBhb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAuNH,SAAAiP,IAAA,IAAAvG,EAAA6B,EAAAjB,EAAAjB,EAAAgJ,EAAAyD,EAAAC,EAAAnc,EAAA9H,EAAA2X,EAAApH,EAAAvR,EAAAC,EAAAF,EAAAD,EAAAQ,EAAA4kB,EAAAtlB,EAAAC,EAAAnB,EAAAymB,EAAA3iB,EAAA4iB,EAAAhW,EAAAC,EAAAgW,EAAAC,EAAAC,EAAA9J,EAAA+J,EAAAC,EAAAjK,EAAApL,EAAAsV,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAljB,EAAAmjB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAjW,EAAAkW,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAvlB,UAAA,OAAAkH,EAAA9C,EAAA+C,KAAA,SAAAsW,GAAA,cAAAA,EAAApW,KAAAoW,EAAAnW,MAAA,UACdwP,EADcyO,GAAAtlB,OAAA,QAAAC,IAAAqlB,GAAA,GAAAA,GAAA,GACF,KACZ5M,EAFc4M,GAAAtlB,OAAA,QAAAC,IAAAqlB,GAAA,GAAAA,GAAA,GAEI,KAClB7N,EAHc6N,GAAAtlB,OAAA,QAAAC,IAAAqlB,GAAA,GAAAA,GAAA,GAGE,KAChB9O,EAJc8O,GAAAtlB,OAAA,QAAAC,IAAAqlB,GAAA,GAAAA,GAAA,GAIM,KACpB9F,EALc8F,GAAAtlB,OAAA,QAAAC,IAAAqlB,GAAA,GAAAA,GAAA,GAKM,MAEhB/d,EAAKzH,MAAMkjB,SAPD,CAAAxF,EAAAnW,KAAA,QAQZvD,OAAOqL,MACL,2EATUqO,EAAAnW,KAAA,wBAuJG4b,EAvJH,eAAA3K,EAAAjb,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAuJZ,SAAAuG,EAAoC6Q,GAApC,IAAAC,EAAAC,EAAAC,EAAA,OAAAze,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,cAAAme,EAAA,kBAAAA,EAAAnoB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KACE,SAAA0F,EAAmCmE,GAAnC,IAAAuL,EAAAC,EAAA1M,EAAA,OAAA7P,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,cAAA8M,EAAA9M,KAAA,EACuBM,KAAKH,MAAM/I,SAASoT,WAApB,GAAAnR,OAChBiH,KAAKH,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjBiH,KAAKH,MAAM3J,YAFM,OAAA6C,OAGbiH,KAAKH,MAAM1J,gBAHE,oBAInBka,EAAaA,aACb,KACA,CACE9M,KAAI,gBAAAxK,OACFsX,EAAahB,sBADXtW,OAEDsX,EAAaA,aAAa9M,KAAKoG,UAChC0G,EAAaA,aAAa9M,KAAKya,YAAY,SAXnD,cACMpC,EADNpP,EAAA1I,KAAA0I,EAAA9M,KAAA,EAe0BgG,EAAQuY,WAAR,QAAAllB,OACd6iB,EAASsC,mBAAmBC,SAASC,OADvB,KAAArlB,OAEpB6iB,EAASsC,mBAAmBC,SAASE,WAjB3C,cAeMxC,EAfNrP,EAAA1I,KAAA0I,EAAA9M,KAAA,EAoB8Bmc,EAAY/Q,iBApB1C,OAoBMqE,EApBN3C,EAAA1I,KAqBEhL,EAAcnC,eACZinB,EAAcU,QAAQjO,IACtBlB,gBAAkBA,EAvBtB,yBAAA3C,EAAAzM,SAAAmM,EAAAlM,UADFiH,MAAAjH,KAAA5H,YA0BM0lB,EA1BN,SAAAxN,GAAA,OAAAuN,EAAA5W,MAAAjH,KAAA5H,YA0BuD8Y,KAAKlR,MACpD+d,EAAWH,EAAc3oB,IAAI6oB,GA3BrCxQ,EAAA5N,KAAA,EA4BQ6e,QAAQC,IAAIT,GA5BpB,wBAAAzQ,EAAAvN,SAAAgN,EAAA/M,SAvJY,gBAAAgH,GAAA,OAAA2J,EAAA1J,MAAAjH,KAAA5H,YAAA,GA8NGmjB,EA9NH,eAAA/F,EAAA9f,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA8NZ,SAAAyH,EAAoCwQ,GAApC,IAAAC,EAAAC,EAAAZ,EAAA,OAAAze,EAAA9C,EAAA+C,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAxO,MAAA,cAAAgf,EAAA,kBAAAA,EAAAhpB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KACE,SAAAoH,EAAmC4K,GAAnC,IAAAoD,EAAAC,EAAA9D,EAAA,OAAAzY,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,cAAAmO,EAAAnO,KAAA,EACuBM,KAAKH,MAAM/I,SAASoT,WAApB,GAAAnR,OAChBiH,KAAKH,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjBiH,KAAKH,MAAM3J,YAFM,OAAA6C,OAGbiH,KAAKH,MAAM1J,gBAHE,oBAInBqiB,EAAaA,aACb,KACA,CACEjV,KAAI,gBAAAxK,OACFyf,EAAanJ,sBADXtW,OAEDyf,EAAaA,aAAajV,KAAKoG,UAChC6O,EAAaA,aAAajV,KAAKya,YAAY,SAXnD,cACMpC,EADN/N,EAAA/J,KAAA+J,EAAAnO,KAAA,EAe0BgG,EAAQuY,WAAR,QAAAllB,OACd6iB,EAASsC,mBAAmBC,SAASC,OADvB,KAAArlB,OAEpB6iB,EAASsC,mBAAmBC,SAASE,WAjB3C,cAeMxC,EAfNhO,EAAA/J,KAAA+J,EAAAnO,KAAA,EAoB8Bmc,EAAY/Q,iBApB1C,OAoBMiN,EApBNlK,EAAA/J,KAqBEhL,EAAcnC,eACZ8nB,EAAcH,QAAQ9F,IACtBT,gBAAkBA,EAvBtB,yBAAAlK,EAAA9N,SAAA6N,EAAA5N,UADFiH,MAAAjH,KAAA5H,YA0BMumB,EA1BN,SAAA1L,GAAA,OAAAyL,EAAAzX,MAAAjH,KAAA5H,YA0BuD8Y,KAAKlR,MACpD+d,EAAWU,EAAcxpB,IAAI0pB,GA3BrCzQ,EAAAxO,KAAA,EA4BQ6e,QAAQC,IAAIT,GA5BpB,wBAAA7P,EAAAnO,SAAAkO,EAAAjO,SA9NY,gBAAAgR,GAAA,OAAAwE,EAAAvO,MAAAjH,KAAA5H,YAAA,GAAAyd,EAAAnW,KAAA,GAYNE,EAAKwD,SAAS,CAAEiY,UAAU,IAZpB,WAAAjc,EAa6BQ,EAAKC,MAAtCvI,EAbI8H,EAaJ9H,UAAW2X,EAbP7P,EAaO6P,kBAbPpH,EAsBRjI,EAAKzH,MANP7B,EAhBUuR,EAgBVvR,cACAC,EAjBUsR,EAiBVtR,kBACAF,EAlBUwR,EAkBVxR,2BACAD,EAnBUyR,EAmBVzR,uBAnBUyR,EAoBVlR,eACAC,EArBUiR,EAqBVjR,mBArBU4kB,EAuBiC5b,EAAKC,MAA1C3J,EAvBIslB,EAuBJtlB,YAAaC,EAvBTqlB,EAuBSrlB,gBAAiBnB,EAvB1BwmB,EAuB0BxmB,GAGlCymB,EAAqB,GACzB/lB,OAAAkE,EAAA,EAAAlE,CAAIkK,EAAKzH,MAAMxB,gBAAgB4C,QAAQ,SAAAJ,GAAE,OACvCsiB,EAAmBjiB,KAAnB9D,OAAA+C,EAAA,EAAA/C,CAAA,GAA6ByD,MAGzBL,EAAgB,CACpB5C,cACAC,kBACAnB,KACAoB,yBACAC,6BACAM,eAAgB8kB,EAChB7kB,qBACAL,oBACAD,iBAGE4Y,IACFpW,EAAcoW,UAAYA,GAGK,WAA7BtP,EAAKzH,MAAM7B,eAA8BsJ,EAAKzH,MAAMqhB,kBACtD1gB,EAAc0gB,gBAAkB5Z,EAAKzH,MAAMqhB,iBAGzC5Z,EAAKzH,MAAM4Z,qBACbjZ,EAAciZ,mBAAqBnS,EAAKzH,MAAM4Z,oBAG5CnS,EAAKzH,MAAM2Z,mBACbhZ,EAAcgZ,iBAAmBlS,EAAKzH,MAAM2Z,mBAG1C4J,EAA6BzM,EAAkBjM,WAAWjJ,KAC5D,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOA,MAIhBU,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAAC,SAAAW,IAAA,OAAA7H,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAAA2H,EAAA3H,KAAA,EACOpI,EAAUqQ,OACd,CAAE9D,WAAY,mBAAoBqC,IAAK+I,EAAkBja,IACzD,CACEgO,WAAY1L,EAAUsnB,WAAWC,YAC/BnD,KALP,wBAAArU,EAAAtH,SAAAoH,KAADzR,GAeIgQ,EAAU9F,EAAKC,MAAM/I,SAAS4O,UAG9BC,EAAaD,EAAQS,MACrBwV,EAAehW,EAAWS,MAAX,GAAArN,OAChB6G,EAAKC,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjB6G,EAAKC,MAAM3J,YAFM,OAAA6C,OAGb6G,EAAKC,MAAM1J,mBAIf4a,GAAuC,qBAApBA,EA1FX,CAAA8E,EAAAnW,KAAA,gBAAAmW,EAAAnW,KAAA,GA2FWE,EAAKC,MAAM/I,SAASoT,WAApB,GAAAnR,OAChB6G,EAAKC,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjB6G,EAAKC,MAAM3J,YAFM,OAAA6C,OAGb6G,EAAKC,MAAM1J,iBACjB4a,EACA,KACA,CACExN,KAAI,kBAAAxK,OAAoBgY,EAAgBxN,KAAKoG,UAC3CoH,EAAgBxN,KAAKya,YAAY,SAnG7B,eA2FNpC,EA3FM/F,EAAA/R,KAAA+R,EAAAnW,KAAA,GAuGcgG,EAAQuY,WAAR,QAAAllB,OACd6iB,EAASsC,mBAAmBC,SAASC,OADvB,KAAArlB,OAEpB6iB,EAASsC,mBAAmBC,SAASE,WAzG/B,eAuGNxC,EAvGMhG,EAAA/R,KAAA+R,EAAAnW,KAAA,GA4GqBmc,EAAY/Q,iBA5GjC,QA4GNiH,EA5GM8D,EAAA/R,KA6GVhL,EAAciZ,mBAAqBA,EA7GzB,YAqHRjC,GAAmC,qBAAlBA,EArHT,CAAA+F,EAAAnW,KAAA,gBAAAmW,EAAAnW,KAAA,GAsHWE,EAAKC,MAAM/I,SAASoT,WAApB,GAAAnR,OAChB6G,EAAKC,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjB6G,EAAKC,MAAM3J,YAFM,OAAA6C,OAGb6G,EAAKC,MAAM1J,iBACjB2Z,EACA,KACA,CACEvM,KAAI,gBAAAxK,OAAkB+W,EAAcvM,KAAKoG,UACvCmG,EAAcvM,KAAKya,YAAY,SA9H3B,eAsHNpC,EAtHM/F,EAAA/R,KAAA+R,EAAAnW,KAAA,GAkIcgG,EAAQuY,WAAR,QAAAllB,OACd6iB,EAASsC,mBAAmBC,SAASC,OADvB,KAAArlB,OAEpB6iB,EAASsC,mBAAmBC,SAASE,WApI/B,eAkINxC,EAlIMhG,EAAA/R,KAAA+R,EAAAnW,KAAA,GAwImBmc,EAAY/Q,iBAxI/B,QAwINgH,EAxIM+D,EAAA/R,KAyIVhL,EAAcgZ,iBAAmBA,EAzIvB,eAAA+D,EAAAnW,KAAA,GAiJmBic,EAC5BvV,MAAM,YACNA,MAAM,UACNC,UApJS,WAiJRK,EAjJQmP,EAAA/R,KAqLRkY,EAA8BV,EAAqBpK,KAArBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,OAGhCiP,GAC6B,IAA7BA,EAAkBxW,QAClBqO,EAAmBE,MAAMvO,OAAS,GA1LxB,CAAAwd,EAAAnW,KAAA,SAAAuc,GAAA,EAAAC,GAAA,EAAAC,OAAA7jB,EAAAud,EAAApW,KAAA,GAAA2c,EA6LO1V,EAAmBE,MA7L1BkY,OAAAC,YAAA,WAAA9C,GAAAI,EAAAD,EAAA1c,QAAAsf,KAAA,CAAAnJ,EAAAnW,KAAA,gBA6LCvG,EA7LDkjB,EAAA7Y,MAAAqS,EAAAnW,KAAA,GA8LFvG,EAAG8M,SA9LD,QAAAgW,GAAA,EAAApG,EAAAnW,KAAA,iBAAAmW,EAAAnW,KAAA,iBAAAmW,EAAApW,KAAA,GAAAoW,EAAAoJ,GAAApJ,EAAA,UAAAqG,GAAA,EAAAC,EAAAtG,EAAAoJ,GAAA,QAAApJ,EAAApW,KAAA,GAAAoW,EAAApW,KAAA,GAAAwc,GAAA,MAAAG,EAAA8C,QAAA9C,EAAA8C,SAAA,WAAArJ,EAAApW,KAAA,IAAAyc,EAAA,CAAArG,EAAAnW,KAAA,eAAAyc,EAAA,eAAAtG,EAAAsJ,OAAA,mBAAAtJ,EAAAsJ,OAAA,YAAAtJ,EAAAnW,KAAA,uBAiMVmP,GACAA,EAAkBxW,OAAS,GAC3BqO,EAAmBE,MAAMvO,OAASwW,EAAkBxW,QAnM1C,CAAAwd,EAAAnW,KAAA,UAAA4c,GAAA,EAAAC,GAAA,EAAAC,OAAAlkB,EAAAud,EAAApW,KAAA,GAAAgd,EAsMO/V,EAAmBE,MAtM1BkY,OAAAC,YAAA,WAAAzC,GAAAI,EAAAD,EAAA/c,QAAAsf,KAAA,CAAAnJ,EAAAnW,KAAA,gBAsMCvG,EAtMDujB,EAAAlZ,MAAAqS,EAAAnW,KAAA,GAuMFvG,EAAG8M,SAvMD,QAAAqW,GAAA,EAAAzG,EAAAnW,KAAA,iBAAAmW,EAAAnW,KAAA,kBAAAmW,EAAApW,KAAA,GAAAoW,EAAAuJ,GAAAvJ,EAAA,UAAA0G,GAAA,EAAAC,EAAA3G,EAAAuJ,GAAA,SAAAvJ,EAAApW,KAAA,IAAAoW,EAAApW,KAAA,IAAA6c,GAAA,MAAAG,EAAAyC,QAAAzC,EAAAyC,SAAA,YAAArJ,EAAApW,KAAA,KAAA8c,EAAA,CAAA1G,EAAAnW,KAAA,gBAAA8c,EAAA,gBAAA3G,EAAAsJ,OAAA,qBAAAtJ,EAAAsJ,OAAA,qBAAAtJ,EAAAnW,KAAA,IA0MJsc,EAA4BnN,GA1MxB,SAAAgH,EAAAnW,KAAA,wBA4MVmP,GACAA,EAAkBxW,OAAS,GAC3BwW,EAAkBpH,KAAK,SAAAtO,GAAE,OAA+B,IAA3BA,EAAGiW,uBA9MtB,CAAAyG,EAAAnW,KAAA,iBAiNNkd,EAAwB/N,EAAkB3V,OAC5C,SAAAC,GAAE,OAA+B,IAA3BA,EAAGiW,sBAlNDyG,EAAAnW,KAAA,IAqNJsc,EAA4BY,GArNxB,gBAAA/G,EAAAnW,KAAA,IAwNmBic,EAC5BvV,MAAM,YACNA,MAAM,UACNC,UA3NS,YAwNRM,EAxNQkP,EAAA/R,KA4PR+Y,GAA8BtB,EAAqBrK,KAArBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,OAGhCiY,GAC6B,IAA7BA,EAAkBxf,QAClBsO,EAAmBC,MAAMvO,OAAS,GAjQxB,CAAAwd,EAAAnW,KAAA,UAAAod,IAAA,EAAAC,IAAA,EAAAC,QAAA1kB,EAAAud,EAAApW,KAAA,IAAAwd,GAoQOtW,EAAmBC,MApQ1BkY,OAAAC,YAAA,YAAAjC,IAAAI,GAAAD,GAAAvd,QAAAsf,KAAA,CAAAnJ,EAAAnW,KAAA,iBAoQCvG,GApQD+jB,GAAA1Z,MAAAqS,EAAAnW,KAAA,IAqQFvG,GAAG8M,SArQD,SAAA6W,IAAA,EAAAjH,EAAAnW,KAAA,mBAAAmW,EAAAnW,KAAA,mBAAAmW,EAAApW,KAAA,IAAAoW,EAAAwJ,GAAAxJ,EAAA,WAAAkH,IAAA,EAAAC,GAAAnH,EAAAwJ,GAAA,SAAAxJ,EAAApW,KAAA,IAAAoW,EAAApW,KAAA,IAAAqd,IAAA,MAAAG,GAAAiC,QAAAjC,GAAAiC,SAAA,YAAArJ,EAAApW,KAAA,KAAAsd,GAAA,CAAAlH,EAAAnW,KAAA,gBAAAsd,GAAA,gBAAAnH,EAAAsJ,OAAA,qBAAAtJ,EAAAsJ,OAAA,cAAAtJ,EAAAnW,KAAA,wBAwQVmY,GACAA,EAAkBxf,OAAS,GAC3BsO,EAAmBC,MAAMvO,OAASwf,EAAkBxf,QA1Q1C,CAAAwd,EAAAnW,KAAA,UAAA0d,IAAA,EAAAC,IAAA,EAAAC,QAAAhlB,EAAAud,EAAApW,KAAA,IAAA8d,GA6QO5W,EAAmBC,MA7Q1BkY,OAAAC,YAAA,YAAA3B,IAAAI,GAAAD,GAAA7d,QAAAsf,KAAA,CAAAnJ,EAAAnW,KAAA,iBA6QCvG,GA7QDqkB,GAAAha,MAAAqS,EAAAnW,KAAA,IA8QFvG,GAAG8M,SA9QD,SAAAmX,IAAA,EAAAvH,EAAAnW,KAAA,mBAAAmW,EAAAnW,KAAA,mBAAAmW,EAAApW,KAAA,IAAAoW,EAAAyJ,GAAAzJ,EAAA,WAAAwH,IAAA,EAAAC,GAAAzH,EAAAyJ,GAAA,SAAAzJ,EAAApW,KAAA,IAAAoW,EAAApW,KAAA,IAAA2d,IAAA,MAAAG,GAAA2B,QAAA3B,GAAA2B,SAAA,YAAArJ,EAAApW,KAAA,KAAA4d,GAAA,CAAAxH,EAAAnW,KAAA,gBAAA4d,GAAA,gBAAAzH,EAAAsJ,OAAA,qBAAAtJ,EAAAsJ,OAAA,qBAAAtJ,EAAAnW,KAAA,IAiRJmd,GAA4BhF,GAjRxB,SAAAhC,EAAAnW,KAAA,wBAmRVmY,GACAA,EAAkBxf,OAAS,GAC3Bwf,EAAkBpQ,KAAK,SAAAtO,GAAE,OAA+B,IAA3BA,EAAG6e,uBArRtB,CAAAnC,EAAAnW,KAAA,iBAwRNge,GAAwB7F,EAAkB3e,OAC5C,SAAAC,GAAE,OAA+B,IAA3BA,EAAG6e,sBAzRDnC,EAAAnW,KAAA,IA4RJmd,GAA4Ba,IA5RxB,gBAAA7H,EAAAnW,KAAA,IA+RNpI,EAAUqQ,OACd,CAAE9D,WAAY,mBAAoBqC,IAAK+I,EAAkBja,IACzD,CACEgO,WAAY1L,EAAUsnB,WAAWW,WAAWzmB,GAC5ChD,eAAgB8J,EAAKC,MAAM/J,eAAeA,eAC1C0M,aAAc5C,EAAKC,MAAM/G,cAAc9C,qBACvCC,kBAAmB2J,EAAKC,MAAM/G,cAAc7C,kBAC5CY,sBAAuB+I,EAAKC,MAAM/G,cAAcjC,wBAtSxC,gBAAAgf,EAAAnW,KAAA,IAySNE,EAAKwD,SAAS,CAAEiY,UAAU,IAzSpB,YA6SyC,IAAnDzb,EAAKC,MAAMoP,kBAAkBhM,mBAC5BrD,EAAKC,MAAM/G,cAAc/C,eA9ShB,CAAA8f,EAAAnW,KAAA,iBAAAmW,EAAAnW,KAAA,IAgTJE,EAAKC,MAAMvI,UAAUqQ,OACzB,CACE9D,WAAY,mBACZqC,IAAKtG,EAAKC,MAAMoP,kBAAkBja,IAEpC,CACEiO,kBAAmB,IAtTb,SA2TPrD,EAAKC,MAAM/G,cAAc/C,gBAC5BoG,OAAOqL,MAAM,mCA5TH,0BAAAqO,EAAA9V,SAAA0V,EAAA,sIAvNG7V,EAwhBnB4f,oBAAsB,SAAA7qB,GAIpB,IAFA,IAAI8qB,EAA2B,GAEtBnL,EAAI,EAAGA,EAAI1U,EAAKzH,MAAMvB,mBAAmByB,OAAQic,IAAK,CAC7D,IAAIoL,EACJA,EAA0B9f,EAAKC,MAAM/G,cAAc7C,kBAAkB8D,KACnE,SAAAZ,GAAE,OACAyG,EAAKzH,MAAMvB,mBAAmB0d,GAAGpe,cAAgBiD,EAAGjD,aACpD0J,EAAKzH,MAAMvB,mBAAmB0d,GAAGne,kBAC/BgD,EAAGhD,kBAETspB,EAAyBjmB,KAAKkmB,GAGhC,GACyB,cAAvB/qB,EAAEwf,cAAcnf,IAChByqB,EAAyBhY,KACvB,SAAAtO,GAAE,OAA+C,IAA3CA,EAAG5C,kBAAkBG,oBAG7ByF,OAAOqL,MACL,0FAEG,IAC8C,IAAnD5H,EAAKzH,MAAM5B,kBAAkBG,mBAC7BkJ,EAAKzH,MAAMxB,eAAeoD,KAAK,SAAAZ,GAAE,OAC/ByG,EAAKC,MAAM/G,cAAc7C,kBAAkB8D,KACzC,SAAA8M,GAAI,OAAyC,IAArCA,EAAKtQ,kBAAkBE,cAInC0F,OAAOqL,MACL,uLAEG,IACmB,cAAvB7S,EAAEwf,cAAcnf,IAA6C,WAAvBL,EAAEwf,cAAcnf,KACvD4K,EAAKzH,MAAMxB,eAAe0B,OAAS,EAEnC8D,OAAOqL,MACL,gIAEG,GACL7S,EAAEwf,cAAcnf,KAAO4K,EAAKzH,MAAM7B,eAClC6F,OAAO6J,QAAP,qJAGA,CAME,IAHA,IAAIlR,EAAOY,OAAOZ,KAAPY,OAAA+C,EAAA,EAAA/C,CAAA,GAAiBkK,EAAKzH,MAAM5B,oBACnCopB,EAAoC,GAE/BjkB,EAAI,EAAGA,EAAI5G,EAAKuD,OAAQqD,IAC/BikB,EAAkC7qB,EAAK4G,KAAM,EAG/CkE,EAAKwD,SAAS,CACZ7M,kBAAmBopB,IAIrB,IAAIC,EAAwB,GAC5BlqB,OAAAkE,EAAA,EAAAlE,CAAIkK,EAAKzH,MAAMxB,gBAAgB4C,QAAQ,SAAAJ,GAAE,OACvCymB,EAAsBpmB,KAAtB9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAgCyD,MAElCymB,EAAsB3qB,IAAI,SAAAkE,UACjBA,EAAG2Z,mBACH3Z,EAAGgW,uBACHhW,EAAG4e,kBAEZnY,EAAKwD,SAAS,CACZzM,eAAgBipB,IAIdhgB,EAAKzH,MAAMqhB,kBAAoB,IACjC5Z,EAAKwD,SAAS,CAAEoW,gBAAiB,KAInC,IADA,IAAIqG,EAAOlrB,EAAEwf,cAAc2L,cAAc1L,SAChC4C,EAAI,EAAGA,EAAI6I,EAAKxnB,OAAQ2e,IAC/B6I,EAAK7I,GAAG/W,UAAY4f,EAAK7I,GAAG/W,UAAU2T,QAAQ,UAAW,IAE3Djf,EAAEwf,cAAclU,WAAa,UAE7BL,EAAKwD,SAAS,CAAE9M,cAAe3B,EAAEwf,cAAcnf,KAE/C4K,EAAKC,MAAMkgB,2BACTngB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,gBACXxB,EAAEwf,cAAcnf,MAnnBL4K,EAynBnBmT,kBAznBmB,eAAAuH,EAAA5kB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAynBC,SAAAkQ,EAAOxgB,EAAaC,EAAiB2c,GAArC,IAAAkN,EAAAC,EAAA7mB,EAAA,OAAAkG,EAAA9C,EAAA+C,KAAA,SAAAqX,GAAA,cAAAA,EAAAnX,KAAAmX,EAAAlX,MAAA,cACdsgB,EADctqB,OAAA+C,EAAA,EAAA/C,CAAA,GAEbkK,EAAKzH,MAAMxB,eAAeoD,KAC3B,SAAAZ,GAAE,OACAA,EAAGjD,cAAgBA,GACnBiD,EAAGhD,kBAAoBA,MAIR2c,YAAcA,EAC/BmN,EAVcvqB,OAAAkE,EAAA,EAAAlE,CAUckK,EAAKzH,MAAMxB,gBAEvCyC,EAAQ6mB,EAAsB5lB,UAChC,SAAAlB,GAAE,OACAA,EAAGjD,cAAgBA,GAAeiD,EAAGhD,kBAAoBA,IAG7D8pB,EAAsB7mB,GAAS4mB,EAjBbpJ,EAAAlX,KAAA,EAmBZE,EAAKwD,SAAS,CAClBzM,eAAgBspB,IApBA,wBAAArJ,EAAA7W,SAAA2W,MAznBD,gBAAArB,EAAAC,EAAAc,GAAA,OAAAkE,EAAArT,MAAAjH,KAAA5H,YAAA,GAAAwH,EAipBnBqU,cAjpBmB,eAAAiM,EAAAxqB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAipBH,SAAA2T,EAAM1F,GAAN,IAAAwL,EAAA,OAAA3gB,EAAA9C,EAAA+C,KAAA,SAAA8a,GAAA,cAAAA,EAAA5a,KAAA4a,EAAA3a,MAAA,cACVugB,EAAwB,GAE5BrgB,EAAKzH,MAAMxB,eAAe4C,QAAQ,SAAAJ,GAAE,OAClC8mB,EAAsBzmB,KAAtB9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAgCyD,MAGlC8mB,EAAsBhrB,IAAI,SAACkE,EAAIC,GAC7BD,EAAGwb,gBAAkBF,EAAiBrb,KAR1BihB,EAAA3a,KAAA,EAWRE,EAAKwD,SAAS,CAClBzM,eAAgBspB,IAZJ,wBAAA5F,EAAAta,SAAAoa,MAjpBG,gBAAAtD,GAAA,OAAAqJ,EAAAjZ,MAAAjH,KAAA5H,YAAA,GAAAwH,EAiqBnBsZ,cAjqBmB,eAAAiH,EAAAzqB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAiqBH,SAAA+T,EAAMf,GAAN,OAAAla,EAAA9C,EAAA+C,KAAA,SAAAkb,GAAA,cAAAA,EAAAhb,KAAAgb,EAAA/a,MAAA,cAAA+a,EAAA/a,KAAA,EACRE,EAAKwD,SAAS,CAClBoW,gBAAiBA,IAFL,wBAAAiB,EAAA1a,SAAAwa,MAjqBG,gBAAA6F,GAAA,OAAAD,EAAAlZ,MAAAjH,KAAA5H,YAAA,GAAAwH,EAuqBnB2Q,iBAvqBmB,eAAA8P,EAAA3qB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAuqBA,SAAA8Z,EAAM3rB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAAihB,GAAA,cAAAA,EAAA/gB,KAAA+gB,EAAA9gB,MAAA,cAAA8gB,EAAA9gB,KAAA,EACXE,EAAKC,MAAM4gB,2BACf7gB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,iBAHI,cAKboqB,EALa7qB,OAAA+C,EAAA,EAAA/C,CAAA,GAKekK,EAAKzH,MAAM5B,oBACtBC,eAAiB+pB,EAAqB/pB,cAN1CgqB,EAAA9gB,KAAA,EAOXE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IARJ,wBAAAC,EAAAzgB,SAAAugB,MAvqBA,gBAAAI,GAAA,OAAAL,EAAApZ,MAAAjH,KAAA5H,YAAA,GAAAwH,EAmrBnB4Q,aAnrBmB,eAAAmQ,EAAAjrB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAmrBJ,SAAAoa,EAAMtd,GAAN,IAAAmc,EAAAnL,EAAAoL,EAAAa,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAAshB,GAAA,cAAAA,EAAAphB,KAAAohB,EAAAnhB,MAAA,OAGb,IAFI+f,EAA2B,GAEtBnL,EAAI,EAAGA,EAAI1U,EAAKzH,MAAMvB,mBAAmByB,OAAQic,SAAK,EAE7DoL,EAA0B9f,EAAKC,MAAM/G,cAAc7C,kBAAkB8D,KACnE,SAAAZ,GAAE,OACAyG,EAAKzH,MAAMvB,mBAAmB0d,GAAGpe,cAAgBiD,EAAGjD,aACpD0J,EAAKzH,MAAMvB,mBAAmB0d,GAAGne,kBAC/BgD,EAAGhD,kBAETspB,EAAyBjmB,KAAKkmB,GAXnB,GAeyB,IAApCD,EAAyBpnB,QACxBonB,EAAyB/X,MACxB,SAAAvO,GAAE,OAA+C,IAA3CA,EAAG5C,kBAAkBG,oBAjBlB,CAAAmqB,EAAAnhB,KAAA,QAoBXvD,OAAOqL,MACL,2EAEFlE,EAAO6O,SAAU,EAvBN0O,EAAAnhB,KAAA,uBAAAmhB,EAAAnhB,KAAA,EAyBLE,EAAKC,MAAMihB,uBACflhB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,iBA3BF,cA6BPoqB,EA7BO7qB,OAAA+C,EAAA,EAAA/C,CAAA,GA6BqBkK,EAAKzH,MAAM5B,oBACtBE,WAAa8pB,EAAqB9pB,UA9B5CoqB,EAAAnhB,KAAA,GA+BLE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAhCV,yBAAAM,EAAA9gB,SAAA6gB,MAnrBI,gBAAAG,GAAA,OAAAJ,EAAA1Z,MAAAjH,KAAA5H,YAAA,GAAAwH,EAwtBnBuY,mBAxtBmB,eAAA6I,EAAAtrB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAwtBE,SAAAya,EAAMtsB,GAAN,IAAA4rB,EAAAX,EAAA,OAAAtgB,EAAA9C,EAAA+C,KAAA,SAAA2hB,GAAA,cAAAA,EAAAzhB,KAAAyhB,EAAAxhB,MAAA,WACf6gB,EADe7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACakK,EAAKzH,MAAM5B,oBACtBkiB,iBAAmB8H,EAAqB9H,gBAExD8H,EAAqB9H,gBAJP,CAAAyI,EAAAxhB,KAAA,eAOjBkgB,GADIA,EAAwBhgB,EAAKzH,MAAMxB,gBACO1B,IAC5C,SAAAkE,GAAE,OAAKzD,OAAA+C,EAAA,EAAA/C,CAAA,GAAKyD,GAAK2Z,YAAc,KARhBoO,EAAAxhB,KAAA,EAUXE,EAAKwD,SAAS,CAClBzM,eAAgBipB,IAXD,cAAAsB,EAAAxhB,KAAA,EAebE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAhBF,wBAAAW,EAAAnhB,SAAAkhB,MAxtBF,gBAAAE,GAAA,OAAAH,EAAA/Z,MAAAjH,KAAA5H,YAAA,GAAAwH,EA4uBnBsY,qBA5uBmB,eAAAkJ,EAAA1rB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA4uBI,SAAA6a,EAAM1sB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAA+hB,GAAA,cAAAA,EAAA7hB,KAAA6hB,EAAA5hB,MAAA,cACjB6gB,EADiB7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACWkK,EAAKzH,MAAM5B,oBACtBmiB,mBAAqB6H,EAAqB7H,kBAF1C4I,EAAA5hB,KAAA,EAGfE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAJA,wBAAAe,EAAAvhB,SAAAshB,MA5uBJ,gBAAAE,GAAA,OAAAH,EAAAna,MAAAjH,KAAA5H,YAAA,GAAAwH,EAovBnBuV,iBApvBmB,eAAAqM,EAAA9rB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAovBA,SAAAib,EAAM9sB,GAAN,IAAA4rB,EAAAX,EAAA,OAAAtgB,EAAA9C,EAAA+C,KAAA,SAAAmiB,GAAA,cAAAA,EAAAjiB,KAAAiiB,EAAAhiB,MAAA,WACb6gB,EADa7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACekK,EAAKzH,MAAM5B,oBACtBwgB,eAAiBwJ,EAAqBxJ,cAEtDwJ,EAAqBxJ,cAJT,CAAA2K,EAAAhiB,KAAA,eAOfkgB,GADIA,EAAwBhgB,EAAKzH,MAAMxB,gBACO1B,IAC5C,SAAAkE,GAAE,OAAKzD,OAAA+C,EAAA,EAAA/C,CAAA,GAAKyD,GAAK2Z,YAAc,KARlB4O,EAAAhiB,KAAA,EAUTE,EAAKwD,SAAS,CAClBzM,eAAgBipB,IAXH,cAAA8B,EAAAhiB,KAAA,EAeXE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAhBJ,wBAAAmB,EAAA3hB,SAAA0hB,MApvBA,gBAAAE,GAAA,OAAAH,EAAAva,MAAAjH,KAAA5H,YAAA,GAAAwH,EAwwBnBsV,uBAxwBmB,eAAA0M,EAAAlsB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAwwBM,SAAAqb,EAAMltB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAAuiB,GAAA,cAAAA,EAAAriB,KAAAqiB,EAAApiB,MAAA,cACnB6gB,EADmB7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACSkK,EAAKzH,MAAM5B,oBACtB0e,qBAAuBsL,EAAqBtL,oBAF1C6M,EAAApiB,KAAA,EAGjBE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAJE,wBAAAuB,EAAA/hB,SAAA8hB,MAxwBN,gBAAAE,GAAA,OAAAH,EAAA3a,MAAAjH,KAAA5H,YAAA,GAAAwH,EAgxBnB8Z,eAhxBmB,eAAAsI,EAAAtsB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAgxBF,SAAAyb,EAAMttB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAA2iB,GAAA,cAAAA,EAAAziB,KAAAyiB,EAAAxiB,MAAA,YACX6gB,EADW7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACiBkK,EAAKzH,MAAM5B,oBAClBojB,YAFV,CAAAuI,EAAAxiB,KAAA,eAAAwiB,EAAAxiB,KAAA,EAGPE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAH1B,cAKf+G,EAAqB5G,aAAe4G,EAAqB5G,YAL1CuI,EAAAxiB,KAAA,EAMTE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAPN,wBAAA2B,EAAAniB,SAAAkiB,MAhxBE,gBAAAE,GAAA,OAAAH,EAAA/a,MAAAjH,KAAA5H,YAAA,GAAAwH,EA2xBnBga,oBA3xBmB,eAAAwI,EAAA1sB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KA2xBG,SAAA6b,EAAM1tB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAA+iB,GAAA,cAAAA,EAAA7iB,KAAA6iB,EAAA5iB,MAAA,YAChB6gB,EADgB7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACYkK,EAAKzH,MAAM5B,oBAClBsjB,iBAFL,CAAAyI,EAAA5iB,KAAA,eAAA4iB,EAAA5iB,KAAA,EAGZE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAHrB,cAKpB+G,EAAqB1G,kBAAoB0G,EAAqB1G,iBAL1CyI,EAAA5iB,KAAA,EAMdE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAPD,wBAAA+B,EAAAviB,SAAAsiB,MA3xBH,gBAAAE,GAAA,OAAAH,EAAAnb,MAAAjH,KAAA5H,YAAA,GAAAwH,EAsyBnBka,qBAtyBmB,eAAA0I,EAAA9sB,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAsyBI,SAAAic,EAAM9tB,GAAN,IAAA4rB,EAAA,OAAAjhB,EAAA9C,EAAA+C,KAAA,SAAAmjB,GAAA,cAAAA,EAAAjjB,KAAAijB,EAAAhjB,MAAA,YACjB6gB,EADiB7qB,OAAA+C,EAAA,EAAA/C,CAAA,GACWkK,EAAKzH,MAAM5B,oBAClBG,kBAFJ,CAAAgsB,EAAAhjB,KAAA,eAAAgjB,EAAAhjB,KAAA,EAGbE,EAAKwD,SAAS,CAAEoW,gBAAiB,KAHpB,cAKrB+G,EAAqB7pB,mBAAqB6pB,EAAqB7pB,kBAL1CgsB,EAAAhjB,KAAA,EAMfE,EAAKwD,SAAS,CAClB7M,kBAAmBgqB,IAPA,cAAAmC,EAAAhjB,KAAA,EASfE,EAAKC,MAAM8iB,yBACf/iB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,iBAXQ,wBAAAusB,EAAA3iB,SAAA0iB,MAtyBJ,gBAAAG,GAAA,OAAAJ,EAAAvb,MAAAjH,KAAA5H,YAAA,GAAAwH,EAqzBnBqb,oBAAsB,SACpBC,EACAhhB,EACAC,EACA6gB,GAEA,IAAI6H,EAAgBjjB,EAAKC,MAAM/G,cAAc7C,kBAAkB8D,KAC7D,SAAAZ,GAAE,OACAA,EAAGjD,cAAgBgE,GACnBf,EAAGhD,kBAAoBgE,IAG3B,QAAQ,GAGN,KAAK6gB,GACH6H,EAActsB,kBAAkBG,mBACH,cAA7BkJ,EAAKzH,MAAM7B,cAIX,OAHAkR,MACE,mFAEK,SAIT,KAAK5H,EAAKzH,MAAM5B,kBAAkBE,YAC/BosB,EAActsB,kBAAkBG,kBAIjC,OAHA8Q,MACE,iFAEK,SAET,KAAKwT,EACHpb,EAAKC,MAAMijB,iBACTljB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,gBACX+D,EACAC,GAEFyF,EAAKwD,SAAS,CACZ/M,4BAA4B,IAE9B,MACF,KAAM2kB,EACJpb,EAAKC,MAAMkjB,oBACTnjB,EAAKC,MAAM3J,YACX0J,EAAKC,MAAM1J,gBACX+D,EACAC,GAEF,MACF,QACE,SAv2BJyF,EAAK+b,aAAeqH,IAAMC,YAFTrjB,wEAi3BjB,IAJO,IAAAgI,EAAA5H,KAEDkjB,EAA0B,GAG1B5O,EAAI,EACRA,EAAItU,KAAKH,MAAM/G,cAAc7C,kBAAkBoC,OAC/Cic,GAAK,EAIHtU,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,YAC5C8J,KAAKH,MAAM3J,cACZ8J,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAG/d,kBAC5CC,eACDwJ,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAG/d,kBAC3CE,YAED,cADAuJ,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGhe,eAG5C,WADF0J,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGhe,gBAE9C0J,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GACxCle,yBACF4J,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAG3d,eAAe8Q,KAC5D,SAAA0b,GAAa,OACXA,EAAcjtB,cAAgB0R,EAAK/H,MAAM3J,aACzCitB,EAAchtB,kBAAoByR,EAAK/H,MAAM1J,mBAGrD+sB,EAAwB1pB,KACtB+C,EAAAC,EAAAC,cAAC2mB,GAAD,CACEjI,KAAM7G,EACNtX,QAAQ,OACRie,oBAAqBjb,KAAKib,oBAC1B/gB,6BACE8F,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,YAEhDiE,iCACE6F,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGne,gBAEhD6kB,WACEhb,KAAK7H,MAAMvB,mBAAmBmD,KAC5B,SAAAZ,GAAE,OACAA,EAAGjD,cACD0R,EAAK/H,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,aAChDiD,EAAGhD,kBACDyR,EAAK/H,MAAM/G,cAAc7C,kBAAkBqe,GACxCne,qBAQf6J,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,YAC9C8J,KAAKH,MAAM3J,aAEXgtB,EAAwB1pB,KACtB+C,EAAAC,EAAAC,cAAC2mB,GAAD,CACEjI,KAAM7G,EACNtX,QAAQ,OACRie,oBAAqBjb,KAAKib,oBAC1B/gB,6BACE8F,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,YAEhDiE,iCACE6F,KAAKH,MAAM/G,cAAc7C,kBAAkBqe,GAAGne,gBAEhD6kB,WACEhb,KAAK7H,MAAMvB,mBAAmBmD,KAC5B,SAAAZ,GAAE,OACAA,EAAGjD,cACD0R,EAAK/H,MAAM/G,cAAc7C,kBAAkBqe,GAAGpe,aAChDiD,EAAGhD,kBACDyR,EAAK/H,MAAM/G,cAAc7C,kBAAkBqe,GACxCne,qBAUnB,OACEoG,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACL2E,OAAQ,WACR4C,aAAc,OACdmP,cAAe,MACfnW,SAAU,YAEZgD,UAAWD,KAAK7H,MAAMkjB,SAAW,WAAa,MAE9C9e,EAAAC,EAAAC,cAAA,OACEwD,UAAS,kBAAAlH,OACPiH,KAAK7H,MAAM/B,uBAAyB,iBAAmB,KADhD,KAAA2C,OAGPiH,KAAK7H,MAAM9B,2BAA6B,qBAAuB,KAHxD,KAAA0C,OAKPiH,KAAK7H,MAAM5B,kBAAkBC,cAAgB,cAAgB,KALtD,KAAAuC,OAMLiH,KAAK7H,MAAM5B,kBAAkBE,UAAY,UAAY,MACzD0P,IAAKnG,KAAK2b,cAET3b,KAAK7H,MAAMkjB,SACV9e,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,WAGb,KACJ7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,eACb1D,EAAAC,EAAAC,cAAA,UACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM3J,YAA/B,OAAA6C,OACPiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,gBAHR,KAAA4C,OAIwB,cAA7BiH,KAAK7H,MAAM7B,cAAgC,SAAW,MAC1DtB,GAAG,YACH2L,QAASX,KAAKwf,qBAPhB,aAWAjjB,EAAAC,EAAAC,cAAA,UACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM3J,YAA/B,OAAA6C,OACPiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,gBAHR,KAAA4C,OAIwB,aAA7BiH,KAAK7H,MAAM7B,cAA+B,SAAW,MACzDtB,GAAG,WACH2L,QAASX,KAAKwf,qBAPhB,YAWAjjB,EAAAC,EAAAC,cAAA,UACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM3J,YAA/B,OAAA6C,OACPiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,gBAHR,KAAA4C,OAIwB,SAA7BiH,KAAK7H,MAAM7B,cAA2B,SAAW,MACrDtB,GAAG,OACH2L,QAASX,KAAKwf,qBAPhB,QAWAjjB,EAAAC,EAAAC,cAAA,UACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM3J,YAA/B,OAAA6C,OACPiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,gBAHR,KAAA4C,OAIwB,WAA7BiH,KAAK7H,MAAM7B,cAA6B,SAAW,MACvDtB,GAAG,SACH2L,QAASX,KAAKwf,qBAPhB,UAWAjjB,EAAAC,EAAAC,cAAA,UACEwD,UAAS,kBAAAlH,OAAoBiH,KAAKH,MAAM3J,YAA/B,OAAA6C,OACPiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,gBAHR,KAAA4C,OAIwB,WAA7BiH,KAAK7H,MAAM7B,cAA6B,SAAW,MACvDtB,GAAG,SACH2L,QAASX,KAAKwf,qBAPhB,WAYFjjB,EAAAC,EAAAC,cAAA,MACEwD,UAAU,aACVvD,MAAO,CACL6U,SAAU,OACVC,aAAc,MACdpQ,UAAW,MACXE,UAAW,WAGe,IAA3BtB,KAAKH,MAAM3J,YACR,QADH,QAAA6C,OAEQiH,KAAKH,MAAM3J,YAFnB,OAAA6C,OAGKiH,KAAKH,MAAMwjB,mBACPrjB,KAAKH,MAAMwjB,mBACXrjB,KAAKH,MAAM1J,kBAGK,IAA3B6J,KAAKH,MAAM3J,YAAoB,KAC9BqG,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,WAAWvD,MAAO,CAAE8U,aAAc,QAC9CjV,EAAAC,EAAAC,cAAA,KACEwD,UAAU,kBACVK,KAAK,IACLtL,GAAG,aACHoL,cAAY,WACZG,gBAAc,OACdC,gBAAc,QACd9D,MAAO,CACL4U,WAAY,MACZC,SAAU,SACVvN,YAAa,SAVjB,yBAeAzH,EAAAC,EAAAC,cAAA,OACEwD,UAAU,gBACVQ,kBAAgB,aAChB/D,MAAO,CACL0H,gBAAiB,0BACjB6S,UAAW,QACXC,UAAW,SACXC,OAAQ,oBAGT+L,IAIuB,cAA7BljB,KAAK7H,MAAM7B,cACViG,EAAAC,EAAAC,cAAC6mB,GAAD,CACEptB,YAAa8J,KAAKH,MAAM3J,YACxBC,gBAAiB6J,KAAKH,MAAM1J,gBAC5Boa,iBAAkBvQ,KAAKuQ,iBACvBC,aAAcxQ,KAAKwQ,aACnB/Z,UAAWuJ,KAAK7H,MAAM5B,kBAAkBE,UACxCD,cAAewJ,KAAK7H,MAAM5B,kBAAkBC,cAC5CJ,uBAAwB4J,KAAK7H,MAAM/B,uBACnCqa,gBAAiBzQ,KAAKyQ,gBACtBC,cAAe1Q,KAAK0Q,cACpBzB,kBACEjP,KAAKH,MAAMoP,kBACPjP,KAAKH,MAAMoP,kBACX,KAENja,GAAIgL,KAAKH,MAAM7K,GACf2B,eAAgBqJ,KAAK7H,MAAMxB,eAC3Bob,mBACE/R,KAAK7H,MAAM4Z,mBACP/R,KAAK7H,MAAM4Z,mBACX,KAEND,iBACE9R,KAAK7H,MAAM2Z,iBAAmB9R,KAAK7H,MAAM2Z,iBAAmB,KAE9DjC,qBAAsB7P,KAAKH,MAAMgQ,uBAEjC,KAC0B,aAA7B7P,KAAK7H,MAAM7B,cACViG,EAAAC,EAAAC,cAAC8mB,GAAD,CACErtB,YAAa8J,KAAKH,MAAM3J,YACxBC,gBAAiB6J,KAAKH,MAAM1J,gBAC5Bsa,gBAAiBzQ,KAAKyQ,gBACtBC,cAAe1Q,KAAK0Q,cACpBqC,kBAAmB/S,KAAK+S,kBACxB9D,kBACEjP,KAAKH,MAAMoP,kBACPjP,KAAKH,MAAMoP,kBACX,KAENja,GAAIgL,KAAKH,MAAM7K,GACf2B,eAAgBqJ,KAAK7H,MAAMxB,eAC3Bob,mBACE/R,KAAK7H,MAAM4Z,mBACP/R,KAAK7H,MAAM4Z,mBACX,KAEND,iBACE9R,KAAK7H,MAAM2Z,iBAAmB9R,KAAK7H,MAAM2Z,iBAAmB,KAE9DjC,qBAAsB7P,KAAKH,MAAMgQ,uBAEjC,KAC0B,SAA7B7P,KAAK7H,MAAM7B,cACViG,EAAAC,EAAAC,cAAC+mB,GAAD,CACEttB,YAAa8J,KAAKH,MAAM3J,YACxBC,gBAAiB6J,KAAKH,MAAM1J,gBAC5Bgf,iBAAkBnV,KAAKmV,iBACvBD,uBAAwBlV,KAAKkV,uBAC7B6B,cAAe/W,KAAK7H,MAAM5B,kBAAkBwgB,cAC5C9B,oBACEjV,KAAK7H,MAAM5B,kBAAkB0e,oBAE/BxE,gBAAiBzQ,KAAKyQ,gBACtBC,cAAe1Q,KAAK0Q,cACpBqC,kBAAmB/S,KAAK+S,kBACxBkB,cAAejU,KAAKiU,cACpBhF,kBACEjP,KAAKH,MAAMoP,kBACPjP,KAAKH,MAAMoP,kBACX,KAENja,GAAIgL,KAAKH,MAAM7K,GACf2B,eAAgBqJ,KAAK7H,MAAMxB,eAC3Bob,mBACE/R,KAAK7H,MAAM4Z,mBACP/R,KAAK7H,MAAM4Z,mBACX,KAEND,iBACE9R,KAAK7H,MAAM2Z,iBAAmB9R,KAAK7H,MAAM2Z,iBAAmB,KAE9DjC,qBAAsB7P,KAAKH,MAAMgQ,uBAEjC,KAC0B,WAA7B7P,KAAK7H,MAAM7B,cACViG,EAAAC,EAAAC,cAACgnB,GAAD,CACEvtB,YAAa8J,KAAKH,MAAM3J,YACxBC,gBAAiB6J,KAAKH,MAAM1J,gBAC5BgiB,mBAAoBnY,KAAKmY,mBACzBD,qBAAsBlY,KAAKkY,qBAC3BO,gBAAiBzY,KAAK7H,MAAM5B,kBAAkBkiB,gBAC9CC,kBAAmB1Y,KAAK7H,MAAM5B,kBAAkBmiB,kBAChDjI,gBAAiBzQ,KAAKyQ,gBACtBC,cAAe1Q,KAAK0Q,cACpBqC,kBAAmB/S,KAAK+S,kBACxB9D,kBACEjP,KAAKH,MAAMoP,kBACPjP,KAAKH,MAAMoP,kBACX,KAENja,GAAIgL,KAAKH,MAAM7K,GACf2B,eAAgBqJ,KAAK7H,MAAMxB,eAC3Bob,mBACE/R,KAAK7H,MAAM4Z,mBACP/R,KAAK7H,MAAM4Z,mBACX,KAEND,iBACE9R,KAAK7H,MAAM2Z,iBAAmB9R,KAAK7H,MAAM2Z,iBAAmB,KAE9DjC,qBAAsB7P,KAAKH,MAAMgQ,uBAEjC,KAC0B,WAA7B7P,KAAK7H,MAAM7B,cACViG,EAAAC,EAAAC,cAACinB,GAAD,CACExK,cAAelZ,KAAKkZ,cACpBhjB,YAAa8J,KAAKH,MAAM3J,YACxBC,gBAAiB6J,KAAKH,MAAM1J,gBAC5BujB,eAAgB1Z,KAAK0Z,eACrBE,oBAAqB5Z,KAAK4Z,oBAC1BE,qBAAsB9Z,KAAK8Z,qBAC3BH,YAAa3Z,KAAK7H,MAAM5B,kBAAkBojB,YAC1CE,iBAAkB7Z,KAAK7H,MAAM5B,kBAAkBsjB,iBAC/CnjB,kBAAmBsJ,KAAK7H,MAAM5B,kBAAkBG,kBAChD+Z,gBAAiBzQ,KAAKyQ,gBACtBC,cAAe1Q,KAAK0Q,cACpBzB,kBACEjP,KAAKH,MAAMoP,kBACPjP,KAAKH,MAAMoP,kBACX,KAENja,GAAIgL,KAAKH,MAAM7K,GACf2B,eAAgBqJ,KAAK7H,MAAMxB,eAC3B6iB,gBAAiBxZ,KAAK7H,MAAMqhB,gBAC5BzH,mBACE/R,KAAK7H,MAAM4Z,mBACP/R,KAAK7H,MAAM4Z,mBACX,KAEND,iBACE9R,KAAK7H,MAAM2Z,iBAAmB9R,KAAK7H,MAAM2Z,iBAAmB,KAE9DjC,qBAAsB7P,KAAKH,MAAMgQ,uBAEjC,0DA/nCoBhQ,EAAO1H,GACrC,IAAIwrB,EAAsB9jB,EAAM/G,cAAc7C,kBAAkB8D,KAC9D,SAAAZ,GAAE,OACAA,EAAGjD,cAAgB2J,EAAM3J,aACzBiD,EAAGhD,kBAAoB0J,EAAM1J,kBA2CxB,GACPwtB,GACAA,EAAoBhtB,gBACpBgtB,EAAoBhtB,eAAe0B,OAASF,EAAMxB,eAAe0B,OACjE,CACA,IAAI4nB,EAAqBvqB,OAAAkE,EAAA,EAAAlE,CAAOyC,EAAMxB,gBAMtC,OALAspB,EAAsBzmB,KACpBmqB,EAAoBhtB,eAClBgtB,EAAoBhtB,eAAe0B,OAAS,IAGzC,CACL1B,eAAgBspB,EAChB7pB,uBAAwButB,EAAoBvtB,wBAEzC,GACLutB,GACAA,EAAoBhtB,gBACpBgtB,EAAoBhtB,eAAe0B,OAASF,EAAMxB,eAAe0B,OACjE,CACA,IAAIurB,EAA0BzrB,EAAMxB,eAAe0D,UAAU,SAAAlB,GAAE,OAC7DwqB,EAAoBhtB,eAAeoD,KACjC,SAAA8M,GAAI,OAAIA,EAAK1Q,kBAAoBgD,EAAGhD,oBAIpC8pB,EAAqBvqB,OAAAkE,EAAA,EAAAlE,CAAOyC,EAAMxB,gBAGtC,OAFAspB,EAAsB1W,OAAOqa,EAAyB,GAE/C,CACLjtB,eAAgBspB,EAChB7pB,uBAAwButB,EAAoBvtB,wBAEzC,OACLutB,GACAA,EAAoB/sB,oBACpB+sB,EAAoB/sB,mBAAmByB,OAAS,EAEzC,CACLzB,mBAAoB+sB,EAAoB/sB,mBACxCP,2BACEstB,EAAoBttB,4BAGxBstB,GACkD,IAAlDA,EAAoB/sB,mBAAmByB,QACjB,IAAtBwH,EAAM3J,YAEC,CACLU,mBAAoB+sB,EAAoB/sB,mBACxCP,4BAA4B,GAGvB,YAnMWwK,aAquCTrJ,eACbwN,2BAAiB,SAAAnF,GAAK,MAAI,CACxB,CACEgE,WAAY,mBACZggB,QAAS,oBACT3d,IAAKrG,EAAMikB,YAGf/iB,kBACE,SAAA5I,GAAK,MAAK,CACRrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,cACrBmW,kBACE9W,EAAMb,UAAU4N,QAAQ+J,mBACxB9W,EAAMb,UAAU4N,QAAQ+J,kBAAkB,KAE9C,CACE6T,iBCpqC0B,SAC9B5sB,EACAC,EACA+D,EACAC,GAEA,MAAO,CACL3B,KvB1G8B,qBuB2G9ByB,iCAAkC,CAChC/D,cACAC,kBACA+D,+BACAC,sCDypCA4oB,oBCppC6B,SACjC7sB,EACAC,EACA+D,EACAC,GAEA,MAAO,CACL3B,KvB1HiC,wBuB2HjCkC,oCAAqC,CACnCxE,cACAC,kBACA+D,+BACAC,sCDyoCAsmB,2BCruCoC,SAACvqB,EAAaC,GACtD,MAAO,CACLqC,KvBpC+B,sBuBqC/BuC,sCAAuC,CACrC7E,YAAaA,EACbC,gBAAiBA,KDiuCjB2qB,uBC5tCgC,SAAC5qB,EAAaC,GAClD,MAAO,CACLqC,KvB7C0B,iBuB8C1B0C,kCAAmC,CACjChF,YAAaA,EACbC,gBAAiBA,KDwtCjB4pB,2BCzsCoC,SACxC7pB,EACAC,EACAG,GAEA,MAAO,CACLkC,KvBnE8B,qBuBoE9BlC,cAAeA,EACfkF,oCAAqC,CACnCtF,YAAaA,EACbC,gBAAiBA,KDgsCjB4tB,iCC1rC0C,SAC9C7tB,EACAC,EACA2F,EACAC,GAEA,MAAO,CACLvD,KvBnFqC,4BuBoFrCqD,0CAA2C,CACzC3F,YAAaA,EACbC,gBAAiBA,GAEnB2F,iBACAC,WD8qCE4mB,yBCrtCkC,SAACzsB,EAAaC,GACpD,MAAO,CACLqC,KvBtD4B,mBuBuD5B6C,oCAAqC,CACnCnF,YAAaA,EACbC,gBAAiBA,ODwrCRqB,CA2Bb4jB,IE/wCI4I,8MACJC,wDAAoB,SAAA9kB,EAAOxK,EAAGuvB,GAAV,IAAAC,EAAAlrB,EAAAK,EAAA8qB,EAAA9sB,EAAA+sB,EAAA3e,EAAAC,EAAAgW,EAAA2I,EAAAC,EAAAC,EAAA,OAAAllB,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZykB,EAAYrW,SAASnZ,EAAE2O,OAAOyC,aAAa,mBAAoB,MACjEnG,EAAKzH,MAAMssB,uBAAyB,GAFtB,CAAAjlB,EAAAE,KAAA,aAIdvD,OAAO6J,QAAP,+GAJc,CAAAxG,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EASRE,EAAKC,MAAM6kB,2BACf9kB,EAAKC,MAAM3J,YACXiuB,GAXY,cAAA3kB,EAAAE,KAAA,EAaRE,EAAKwD,SAAS,CAClBqhB,uBAAwB7kB,EAAKzH,MAAMssB,uBAAyB,EAC5D/b,gBAAiB9I,EAAKzH,MAAMuQ,gBAAgBxP,OAAO,SAACC,EAAIC,GACtD,OAAOA,EAAQ,IAAM+qB,MAhBX,cAoBVlrB,EAAqB2G,EAAKzH,MAAMuQ,gBAAgBxP,OAClD,SAACC,EAAIC,GACH,OAAOA,GAAS+qB,EAAY,IAI5B7qB,EAA0B,GAE9BL,EAAmBM,QAAQ,SAAAJ,GACzBG,EAAwBE,KACtBwpB,IAAM2B,aAAaxrB,EAAI,CACrBhD,gBAAiBgD,EAAG0G,MAAM1J,gBAAkB,OAK9CiuB,EAAsBxkB,EAAKzH,MAAMuQ,gBAAgBxP,OACnD,SAACC,EAAIC,GACH,OAAOA,EAAQ+qB,EAAY,IAtCjB3kB,EAAAE,KAAA,GA0CRE,EAAKwD,SAAS,CAClBsF,gBAAe,GAAA3P,OAAArD,OAAAkE,EAAA,EAAAlE,CAAM0uB,GAAwB9qB,KA3CjC,WA+CRhC,EAAcsI,EAAKC,MAAnBvI,YACJ+sB,EAA8BzkB,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACxE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAOkvB,KAjDF,CAAA1kB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAqDRpI,EAAUqQ,OACd,CACE9D,WAAY,mBACZqC,IAAKtG,EAAKC,MAAMoP,kBAAkBja,IAEpC,CACEgO,WAAY1L,EAAUsnB,WAAWC,YAC/BwF,GAEF7hB,aAAc5C,EAAKC,MAAM/G,cAAc9C,qBACvCC,kBAAmB2J,EAAKC,MAAM/G,cAAc7C,kBAC5CY,sBAAuB+I,EAAKC,MAAM/G,cAC/BjC,wBAjEO,eAwER6O,EAAU9F,EAAKC,MAAM/I,SAAS4O,UAG9BC,EAAaD,EAAQS,MACrBwV,EAAehW,EAAWS,MAAX,GAAArN,OAChB6G,EAAKC,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjB6G,EAAKC,MAAM3J,YAFM,OAAA6C,OAGborB,IA/EM3kB,EAAAE,KAAA,GAiFcic,EAAatV,UAjF3B,YAiFRie,EAjFQ9kB,EAAAsE,MAoFI8C,MAAMvO,OAAS,GAC/BisB,EAAc1d,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,aAGnCqe,EAAche,SAASjO,OAAS,GAxFtB,CAAAmH,EAAAE,KAAA,gBAyFN6kB,EAAeD,EAAche,SAAS,GAAGF,MAAM,UAzFzC5G,EAAAE,KAAA,GA2Fa6kB,EAAale,UA3F1B,eAAA7G,EAAAsE,KA6FD8C,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,WAE5Bue,EAAeF,EAAche,SAAS,GAAGF,MAAM,UA/FzC5G,EAAAE,KAAA,GAiGa8kB,EAAane,UAjG1B,QAAA7G,EAAAsE,KAmGD8C,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,WAnGtB,QAAAzG,EAAAE,KAAA,iBAuGhBvD,OAAOqL,MACL,uGAxGc,yBAAAhI,EAAAO,SAAAZ,gEA6GpBhH,MAAQ,CACNssB,uBAAwB,EACxB/b,gBAAiB,CACfnM,EAAAC,EAAAC,cAACmoB,GAAD,CACE7c,IAAK,EACL/S,GAAI6vB,KAAKC,KACT3uB,gBAAiB,EACjBD,YAAa0J,EAAKC,MAAM3J,YACxBua,gBAAiB7Q,EAAKqkB,kBACtBH,QAASlkB,EAAKC,MAAMikB,QACpBhuB,eAAgB8J,EAAKC,MAAM/J,eAAeA,eAC1C+Z,qBAAsBjQ,EAAKC,MAAMgQ,wBAGrCkV,iBAAkB,KAGpBjW,uCAAoB,SAAArJ,IAAA,IAAAuf,EAAAD,EAAAE,EAAAC,EAAAC,EAAA7Q,EAAA,OAAAhV,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,eACmBpH,IAAjCsH,EAAKC,MAAMoP,kBADG,CAAAnJ,EAAApG,KAAA,eAEZslB,EAAoBplB,EAAKC,MAAMoP,kBAAkBjM,WAAW9J,OAC9D,SAAAC,GAAE,OAAIA,EAAGjD,cAAgB0J,EAAKC,MAAM3J,eAGhBmC,OAAS,GANf,CAAAyN,EAAApG,KAAA,SAsBd,IAfIqlB,EAAmBC,EAAkB9rB,OACvC,SAAAC,GAAE,OAAsC,IAAlCA,EAAG9C,6BAIP4uB,EAAiB,GACrBD,EAAkBzrB,QAAQ,SAAAJ,GAAE,OAC1B8rB,EAAezrB,KAAKL,EAAGhD,mBAErB+uB,EAAMD,EAAeG,OAAO,SAAS5oB,EAAG6oB,GAC1C,OAAOC,KAAKJ,IAAI1oB,EAAG6oB,KAGjBF,EAA+B,GAE1B7Q,EAAI,EAAGA,GAAK4Q,EAAK5Q,IACxB6Q,EAA6B3rB,KAC3B+C,EAAAC,EAAAC,cAACmoB,GAAD,CACE7c,IAAKuM,EAAI,EACTtf,GAAI6vB,KAAKC,KACT3uB,gBAAiBme,EACjBpe,YAAa0J,EAAKC,MAAM3J,YACxBua,gBAAiB7Q,EAAKqkB,kBACtBH,QAASlkB,EAAKC,MAAMikB,QACpBhuB,eAAgB8J,EAAKC,MAAM/J,eAAeA,eAC1C+Z,qBAAsBjQ,EAAKC,MAAMgQ,wBAhCzB,OAuCdmV,EAAkBzrB,QAAQ,SAAAJ,GACxBgsB,EAA6BhsB,EAAGhD,gBAAkB,GAChDoG,EAAAC,EAAAC,cAACmoB,GAAD,CACE7c,IAAK5O,EAAGhD,gBAAkB,EAC1BnB,GAAImE,EAAGnE,GACPmB,gBAAiBgD,EAAGhD,gBACpBD,YAAaiD,EAAGjD,YAChBua,gBAAiB7Q,EAAKqkB,kBACtBH,QAASlkB,EAAKC,MAAMoP,kBAAkBja,GACtCc,eAAgB8J,EAAKC,MAAMoP,kBAAkBnZ,eAC7C+Z,qBAAsBjQ,EAAKC,MAAMgQ,yBAjDzB/J,EAAApG,KAAA,GAsDRE,EAAKwD,SAAS,CAClBqhB,uBAAwBO,EAAkB3sB,OAC1C0sB,iBAAkBA,EAAiB1sB,OACnCqQ,gBAAiByc,IAzDL,yBAAArf,EAAA/F,SAAA0F,QA+DpB8f,oCAAiB,SAAApe,IAAA,OAAA7H,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,cAAA2H,EAAA3H,KAAA,EACTE,EAAKwD,SAAS,CAClBqhB,uBAAwB7kB,EAAKzH,MAAMssB,uBAAyB,IAF/C,cAAApd,EAAA3H,KAAA,EAKTE,EAAKwD,SAAS,CAClBsF,gBAAe,GAAA3P,OAAArD,OAAAkE,EAAA,EAAAlE,CACVkK,EAAKzH,MAAMuQ,iBADD,CAEbnM,EAAAC,EAAAC,cAACmoB,GAAD,CACE7c,IAAKnI,EAAKzH,MAAMssB,uBAChBtuB,gBAAiByJ,EAAKzH,MAAMssB,uBAC5BvuB,YAAa0J,EAAKC,MAAM3J,YACxBlB,GAAI6vB,KAAKC,KACTrU,gBAAiB7Q,EAAKqkB,kBACtBH,QAASlkB,EAAKC,MAAMikB,QACpBhuB,eAAgB8J,EAAKC,MAAM/J,eAAeA,eAC1C+Z,qBAAsBjQ,EAAKC,MAAMgQ,2BAhBxB,cAAAxI,EAAA3H,KAAA,EAoBTE,EAAKC,MAAM2lB,oBACf5lB,EAAKC,MAAM3J,YACX0J,EAAKzH,MAAMssB,wBAtBE,OAyBf7kB,EAAKzG,GAAGssB,eAAe,CACrBC,SAAU,SACVC,MAAO,SACPC,OAAQ,WA5BK,wBAAAve,EAAAtH,SAAAoH,QAgCjB0e,yDAAqB,SAAA3Z,EAAMvX,GAAN,IAAA2f,EAAAhd,EAAA+sB,EAAA3e,EAAAC,EAAAgW,EAAA2I,EAAAC,EAAAC,EAAA,OAAAllB,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,UAKa,IAJT/K,EAAEwf,cAAc2L,cAAcA,cAAc1L,SAAS,GAAG0R,uBAC7E,sBAGmBztB,OALF,CAAAmU,EAAA9M,KAAA,QAMjBvD,OAAOqL,MACL,gLAPegF,EAAA9M,KAAA,oBAUjBvD,OAAO6J,QAAP,6JAViB,CAAAwG,EAAA9M,KAAA,SAcR4U,EAAI,EAdI,YAcDA,GAAK1U,EAAKzH,MAAMssB,wBAdf,CAAAjY,EAAA9M,KAAA,gBAAA8M,EAAA9M,KAAA,GAgBTE,EAAKC,MAAM6kB,2BAA2B9kB,EAAKC,MAAM3J,YAAaoe,GAhBrD,WAmBPhd,EAAcsI,EAAKC,MAAnBvI,YACJ+sB,EAA8BzkB,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KACxE,SAAAZ,GAAE,OAAIA,EAAGnE,KAAO4K,EAAKzH,MAAMuQ,gBAAgB4L,EAAI,GAAGzU,MAAM7K,MArB3C,CAAAwX,EAAA9M,KAAA,gBAAA8M,EAAA9M,KAAA,GAyBPpI,EAAUqQ,OACd,CACE9D,WAAY,mBACZqC,IAAKtG,EAAKC,MAAMoP,kBAAkBja,IAEpC,CACEgO,WAAY1L,EAAUsnB,WAAWC,YAC/BwF,KAhCO,eAwCP3e,EAAU9F,EAAKC,MAAM/I,SAAS4O,UAG9BC,EAAaD,EAAQS,MACrBwV,EAAehW,EAAWS,MAAX,GAAArN,OAChB6G,EAAKC,MAAMoP,kBAAkBja,GADb,eAAA+D,OAEjB6G,EAAKC,MAAM3J,YAFM,OAAA6C,OAGbub,IA/CK9H,EAAA9M,KAAA,GAiDeic,EAAatV,UAjD5B,YAiDPie,EAjDO9X,EAAA1I,MAoDK8C,MAAMvO,OAAS,GAC/BisB,EAAc1d,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,aAGnCqe,EAAche,SAASjO,OAAS,GAxDvB,CAAAmU,EAAA9M,KAAA,gBAyDL6kB,EAAeD,EAAche,SAAS,GAAGF,MAAM,UAzD1CoG,EAAA9M,KAAA,GA2Dc6kB,EAAale,UA3D3B,eAAAmG,EAAA1I,KA6DA8C,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,WAE5Bue,EAAeF,EAAche,SAAS,GAAGF,MAAM,UA/D1CoG,EAAA9M,KAAA,GAiEc8kB,EAAane,UAjE3B,QAAAmG,EAAA1I,KAmEA8C,MAAMrN,QAAQ,SAAAJ,GAAE,OAAIA,EAAG8M,WAnEvB,QAcuCqO,GAAK,EAd5C9H,EAAA9M,KAAA,uBAAA8M,EAAA9M,KAAA,GAwEXE,EAAKC,MAAMkmB,mBAxEA,eAAAvZ,EAAA9M,KAAA,GAyEXE,EAAKC,MAAMvI,UAAUqQ,OACzB,CACE9D,WAAY,mBACZqC,IAAKtG,EAAKC,MAAMoP,kBAAkBja,IAEpC,CACEc,eAAgB8J,EAAKC,MAAM/J,eAAeA,iBA/E7B,yBAAA0W,EAAAzM,SAAAmM,oIAwFZ,IAAAtE,EAAA5H,KACP,OACEzD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEwD,UAAU,yBACVvD,MAAO,CAAE4E,UAAW,SAAUF,UAAW,SAEzC7E,EAAAC,EAAAC,cAAA,MAAIC,MAAO,CAAEM,QAAS,eAAgBwU,aAAc,YAApD,eACexR,KAAKH,MAAM3J,aAEzB8J,KAAKH,MAAM3J,cACZ8J,KAAKH,MAAM/J,eAAeA,eAAiB,EACzCyG,EAAAC,EAAAC,cAAA,UACEC,MAAO,CACLM,QAAS,eACToH,gBAAiB,cACjB+S,OAAQ,QAEVxW,QAASX,KAAK6lB,oBAEdtpB,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,sBAEb,MAGN1D,EAAAC,EAAAC,cAAA,OACEC,MAAO,CACLspB,WAAY,SACZhpB,QAAS,OACTipB,UAAW,SAGZjmB,KAAK7H,MAAMuQ,gBACZnM,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,gBACNvD,UAAU,yBACVvD,MAAO,CAAEE,MAAO,OAAQyE,OAAQ,QAChCV,QAASX,KAAKulB,eACdpf,IAAK,SAAAhN,GACHyO,EAAKzO,GAAKA,cA9VC0H,aAuWVrJ,eACbwN,2BAAiB,SAAAnF,GAAK,MAAI,CACxB,CACEgE,WAAY,mBACZggB,QAAS,oBACT3d,IAAKrG,EAAMoP,kBAAkBja,OAGjC+L,kBAAQ,SAAA5I,GAAK,MAAK,CAChBrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5B8C,cAAeX,EAAMW,iBAXVtB,CAabwsB,ICrWIkC,8MACJ/tB,MAAQ,CACNguB,UAAW,GACXC,WAAW,EACXvW,qBAAsB,OAOxBwW,qCAAkB,SAAAlnB,IAAA,IAAAmnB,EAAA,OAAAhnB,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZ4mB,EAAevW,SAASC,eAAe,gBAD3BxQ,EAAAE,KAAA,EAGVE,EAAKC,MAAM0mB,cAAc3mB,EAAKzH,MAAMrC,gBAH1B,cAAA0J,EAAAE,KAAA,EAKVE,EAAKC,MAAM2lB,oBACf5lB,EAAKC,MAAM/J,eAAeA,eAAiB,EAC3C,GAPc,OAShB8J,EAAK4mB,eAAeF,GATJ,wBAAA9mB,EAAAO,SAAAZ,QAYlB0mB,mBAAqB,SAAAS,GACnB1mB,EAAKC,MAAM4mB,mBAAmB7mB,EAAKzH,MAAMrC,mBAI3CgZ,uCAAoB,SAAArJ,IAAA,IAAAxJ,EAAAC,EAAArD,EAAA6tB,EAAAP,EAAA,OAAA7mB,EAAA9C,EAAA+C,KAAA,SAAAuG,GAAA,cAAAA,EAAArG,KAAAqG,EAAApG,MAAA,eAEiBpH,IAAjCsH,EAAKC,MAAMoP,mBACXrP,EAAKC,MAAMoP,kBAAkBja,KAAO4K,EAAKC,MAAM8mB,MAAMC,OAAO5xB,GAH5C,CAAA8Q,EAAApG,KAAA,gBAAAoG,EAAApG,KAAA,EAKVE,EAAKwD,SAAS,CAClBtN,eAAgB8J,EAAKC,MAAMoP,kBAAkBnZ,iBAN/B,cAUZmG,EAAiC,GACrC2D,EAAKC,MAAMoP,kBAAkBhZ,kBAAkBsD,QAAQ,SAAAJ,GAAE,OACvD8C,EAA+BzC,KAA/B9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAyCyD,MAGvC+C,EAAqC,GACzC0D,EAAKC,MAAMoP,kBAAkBpY,sBAAsB0C,QAAQ,SAAAJ,GAAE,OAC3D+C,EAAmC1C,KAAnC9D,OAAA+C,EAAA,EAAA/C,CAAA,GAA6CyD,MAG3CN,EAA8B+G,EAAKC,MAAMoP,kBAC1CnZ,eArBagQ,EAAApG,KAAA,GAuBVE,EAAKC,MAAMgnB,qBACf5qB,EACAC,EACArD,GA1Bc,YA6Bd+G,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KAAK,SAAAZ,GAAE,OAAuB,IAAnBA,EAAGjD,cA7BxC,CAAA4P,EAAApG,KAAA,gBA+BRgnB,EAAoB9mB,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KAChE,SAAAZ,GAAE,OAAuB,IAAnBA,EAAGjD,cAhCG4P,EAAApG,KAAA,GAkCRE,EAAKwD,SAAS,CAClB+iB,UAAWO,EAAkB1xB,KAnCjB,QAAA8Q,EAAApG,KAAA,wBAsCRymB,EAAYtB,KAAKC,KAtCThf,EAAApG,KAAA,GAuCRE,EAAKwD,SAAS,CAAE+iB,cAvCR,eAAArgB,EAAApG,KAAA,GA0CVE,EAAKwD,SAAS,CAAEgjB,WAAW,IA1CjB,QAAAtgB,EAAApG,KAAA,wBAAAoG,EAAApG,KAAA,GA2CLE,EAAKwD,SAAS,CAAEgjB,WAAW,IA3CtB,yBAAAtgB,EAAA/F,SAAA0F,QA+CpB6J,yDAAqB,SAAAnI,EAAMoI,GAAN,IAAAtT,EAAAC,EAAArD,EAAA6tB,EAAAP,EAAA,OAAA7mB,EAAA9C,EAAA+C,KAAA,SAAA8H,GAAA,cAAAA,EAAA5H,KAAA4H,EAAA3H,MAAA,UAGjBE,EAAKC,MAAMoP,oBAAsBM,EAAUN,0BACV3W,IAAhCiX,EAAUN,mBACRM,EAAUN,kBAAkBja,IAC3Bua,EAAUN,kBAAkBja,KAAO4K,EAAKC,MAAM8mB,MAAMC,OAAO5xB,KAC/D4K,EAAKC,MAAMoP,kBAAkBja,KAAO4K,EAAKC,MAAM8mB,MAAMC,OAAO5xB,GAP3C,CAAAqS,EAAA3H,KAAA,gBAAA2H,EAAA3H,KAAA,EASXE,EAAKwD,SAAS,CAClBtN,eAAgB8J,EAAKC,MAAMoP,kBAAkBnZ,iBAV9B,cAcbmG,EAAiC,GACrC2D,EAAKC,MAAMoP,kBAAkBhZ,kBAAkBsD,QAAQ,SAAAJ,GAAE,OACvD8C,EAA+BzC,KAA/B9D,OAAA+C,EAAA,EAAA/C,CAAA,GAAyCyD,MAGvC+C,EAAqC,GACzC0D,EAAKC,MAAMoP,kBAAkBpY,sBAAsB0C,QAAQ,SAAAJ,GAAE,OAC3D+C,EAAmC1C,KAAnC9D,OAAA+C,EAAA,EAAA/C,CAAA,GAA6CyD,MAG3CN,EAA8B+G,EAAKC,MAAMoP,kBAC1CnZ,eAzBcuR,EAAA3H,KAAA,GA2BXE,EAAKC,MAAMgnB,qBACf5qB,EACAC,EACArD,GA9Be,YAiCf+G,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KAAK,SAAAZ,GAAE,OAAuB,IAAnBA,EAAGjD,cAjCvC,CAAAmR,EAAA3H,KAAA,gBAmCTgnB,EAAoB9mB,EAAKC,MAAMoP,kBAAkBjM,WAAWjJ,KAChE,SAAAZ,GAAE,OAAuB,IAAnBA,EAAGjD,cApCImR,EAAA3H,KAAA,GAsCTE,EAAKwD,SAAS,CAClB+iB,UAAWO,EAAkB1xB,KAvChB,QAAAqS,EAAA3H,KAAA,wBA0CTymB,EAAYtB,KAAKC,KA1CRzd,EAAA3H,KAAA,GA2CTE,EAAKwD,SAAS,CAAE+iB,cA3CP,eAAA9e,EAAA3H,KAAA,GA8CXE,EAAKwD,SAAS,CAAEgjB,WAAW,IA9ChB,WAkDjBxmB,EAAKC,MAAM/J,eAAeA,iBAC1ByZ,EAAUzZ,eAAeA,eAnDR,CAAAuR,EAAA3H,KAAA,gBAAA2H,EAAA3H,KAAA,GAqDXE,EAAKwD,SAAS,CAClBtN,eAAgB8J,EAAKC,MAAM/J,eAAeA,iBAtD3B,yBAAAuR,EAAAtH,SAAAoH,8DA2DrB2f,0CAAuB,SAAA5a,IAAA,OAAA5M,EAAA9C,EAAA+C,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,OACrBE,EAAKC,MAAMknB,iBADU,wBAAAva,EAAAzM,SAAAmM,QAIvB8a,yDAAqB,SAAApZ,EAAMjZ,GAAN,IAAAsyB,EAAAC,EAAAC,EAAA,OAAA7nB,EAAA9C,EAAA+C,KAAA,SAAAsO,GAAA,cAAAA,EAAApO,KAAAoO,EAAAnO,MAAA,cAAAmO,EAAAnO,KAAA,EAEbE,EAAKC,MAAMunB,oBAFE,OAKfH,EAAkClX,SAAS+V,uBAC7C,kBAE2BuB,MAAMtb,KAAKkb,GAGjBhyB,IAAI,SAAAkE,GAAE,OAAIA,EAAGmuB,UAGhCJ,EAA0B,WAC5BK,WAAWJ,EAAqB,MAI9BA,EAnBe,eAAAnU,EAAAtd,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAmBO,SAAAuG,IAAA,OAAAzN,EAAA9C,EAAA+C,KAAA,SAAA+N,GAAA,cAAAA,EAAA7N,KAAA6N,EAAA5N,MAAA,UAIsB,IAHTqQ,SAAS+V,uBAC5C,YAEiCztB,OAJX,CAAAiV,EAAA5N,KAAA,eAAA4N,EAAA5N,KAAA,EAMhBE,EAAKC,MAAMvI,UAAUqQ,OACzB,CACE9D,WAAY,mBACZqC,IAAKtG,EAAKC,MAAMoP,kBAAkBja,IAEpC,CACEiO,kBAAmB,IAZD,cAAAqK,EAAA5N,KAAA,EAgBhBE,EAAKC,MAAMunB,oBAhBK,OAiBtBjrB,OAAOqL,MAAM,wBAjBS8F,EAAA5N,KAAA,gBAkBjBwnB,IAlBiB,yBAAA5Z,EAAAvN,SAAAgN,MAnBP,yBAAAiG,EAAA/L,MAAAjH,KAAA5H,YAAA,GAyCnB8uB,EAAwBhW,KAAxBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACAunB,EAAoBjW,KAApBxb,OAAAyb,GAAA,EAAAzb,QAAAyb,GAAA,EAAAzb,CAAAkK,KACAsnB,IA3CmB,yBAAArZ,EAAA9N,SAAA6N,0IAnINtK,GACbA,EAAOmiB,eAAe,CAAEC,SAAU,4CAgL3B,IAAA9d,EAAA5H,KACP,GAAKA,KAAK7H,MAAMiuB,UAmGd,OACE7pB,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,WAtGjB,IAHA,IAAMomB,EAAc,GACdvY,EAAoBjP,KAAKH,MAAMoP,kBAE5BqF,EAAI,EAAGA,EAAItU,KAAK7H,MAAMrC,eAAgBwe,GAAK,EAClDkT,EAAYhuB,KACV+C,EAAAC,EAAAC,cAACgrB,GAAD,CACE1f,IAAKuM,EACLpe,YAAaoe,EACbkR,oBAAqBxlB,KAAKH,MAAM2lB,oBAChCd,2BAA4B1kB,KAAKH,MAAM6kB,2BACvCqB,iBAAkB/lB,KAAK6lB,mBACvB/vB,eAAgBkK,KAAK7H,MAAMrC,eAC3BmZ,kBACEjP,KAAKH,MAAMoP,kBAAoBjP,KAAKH,MAAMoP,kBAAoB,KAEhEY,qBAAsB7P,KAAK7H,MAAM0X,wBAKvC,OACEtT,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,2BACb1D,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE9xB,QAAO,gFAET2G,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEO,SAAU,aACtBV,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACLO,SAAU,WACVoE,OAAQ,OACRrE,QAAS,eACTsE,UAAW,SACXnE,KAAM,MACNC,UAAW,qBAPf,iBAYAb,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,cACNvD,UAAU,yBACVvD,MAAO,CACLE,MAAO,OACP+qB,MAAO,QACPC,YAAa,OACb5qB,QAAS,gBAEXhI,GAAG,YACH2L,QAASX,KAAKgnB,qBAEhBzqB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL4E,UAAW,SACX+X,UAAW,SACXrc,QAAS,UAGViS,EAAkBhN,QAGvB1F,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,yBAAyBvD,MAAO,CAAE0E,UAAW,SAC1D7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,iBACb1D,EAAAC,EAAAC,cAAA,OACEwD,UAAU,yBACVvD,MAAO,CAAE4E,UAAW,WAEpB/E,EAAAC,EAAAC,cAAA,4BAEFF,EAAAC,EAAAC,cAACmoB,GAAD,CACE7c,IAAK,EACL/S,GAAIgL,KAAK7H,MAAMguB,UACfjwB,YAAa,EACbC,gBAAiB,EACjB0Z,qBAAsB7P,KAAK7H,MAAM0X,uBAEnCtT,EAAAC,EAAAC,cAAA,OACEwD,UAAU,yBACVvD,MAAO,CAAE0E,UAAW,SAEnBomB,GAEHjrB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,0BACNvD,UAAU,yBACVU,QAAS,SAAAhM,GAAC,OAAIiT,EAAKye,gBAAgB1xB,IACnC+H,MAAO,CAAE0E,UAAW,OACpBpM,GAAG,4BApRM6L,aA0SZrJ,eACbwN,2BAAiB,SAAAnF,GAAK,MAAI,CACxB,CACEgE,WAAY,mBACZggB,QAAS,oBACT3d,IAAKrG,EAAM8mB,MAAMC,OAAO5xB,OAG5B+L,kBACE,SAAA5I,GAAK,MAAK,CACRrC,eAAgBqC,EAAMrC,eACtBE,qBAAsBmC,EAAMnC,qBAC5BiZ,kBACE9W,EAAMb,UAAU4N,QAAQ+J,mBACxB9W,EAAMb,UAAU4N,QAAQ+J,kBAAkB,KAE9C,CACEsX,cC7UuB,SAAA7tB,GAC3B,MAAO,CACLF,K1BL2B,kB0BM3BE,sBAAuBA,ID2UrB+tB,mBCvU4B,SAAA/tB,GAChC,MAAO,CACLF,K1BXgC,uB0BYhCE,sBAAuBA,IDqUrB8sB,oBFvU6B,SAACtvB,EAAaC,GAC/C,MAAO,CACLqC,KvBVkC,yBuBWlCQ,yBAA0B,CACxB9C,YAAaA,EACbC,gBAAiBA,EACjBI,kBAAmB,CACjBC,eAAe,EACfC,WAAW,EACXC,mBAAmB,GAErBN,wBAAwB,EACxBC,4BAA4B,EAC5BC,cAAe,YACfK,eAAgB,GAChBC,mBAAoB,MEyTpB8tB,2BFpToC,SAACxuB,EAAaC,GACtD,MAAO,CACLqC,KvB7ByC,gCuB8BzCa,4BAA6B,CAC3BnD,YAAaA,EACbC,gBAAiBA,KEgTjB0wB,qBF1M8B,SAClC5qB,EACAC,EACArD,GAEA,MAAO,CACLL,KvBnImC,0BuBoInCyD,iCACAC,qCACArD,gCEkMEkuB,eCpUwB,WAC5B,MAAO,CACLvuB,K1BL4B,qByBwU1B4uB,kBF/L2B,WAC/B,MAAO,CACL5uB,KvB1IgC,2ByBgTrBhB,CA0Bb0uB,IElVI2B,eACJ,SAAAA,EAAYhoB,GAAO,IAAAD,EAAA,OAAAlK,OAAA6Y,EAAA,EAAA7Y,CAAAsK,KAAA6nB,IACjBjoB,EAAAlK,OAAA8Y,EAAA,EAAA9Y,CAAAsK,KAAAtK,OAAA+Y,EAAA,EAAA/Y,CAAAmyB,GAAAna,KAAA1N,KAAMH,KAYR4D,SAbmB,eAAAvF,EAAAxI,OAAA6Q,EAAA,EAAA7Q,CAAA4J,EAAA9C,EAAAgK,KAaR,SAAArH,EAAMxK,GAAN,IAAAyK,EAAA9H,EAAA2X,EAAA6Y,EAAA,OAAAxoB,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACT/K,EAAEgL,iBADOP,EAGgCQ,EAAKC,MAAtCvI,EAHC8H,EAGD9H,UAAW2X,EAHV7P,EAGU6P,kBAEb6Y,EAAc,CAClB7lB,MAAOrC,EAAKmoB,WAAWC,QAAQxkB,MAC/BtB,KAAMtC,EAAKqoB,UAAUD,QAAQxkB,MAC7BrB,MAAOvC,EAAKsoB,WAAWF,QAAQxkB,MAC/BpB,MAAOxC,EAAKuoB,WAAWH,QAAQxkB,MAC/BnB,KAAMzC,EAAKwoB,UAAUJ,QAAQxkB,MAC7BlB,SAAU1C,EAAKyoB,cAAcL,QAAQxkB,MACrCjB,QAAS3C,EAAK0oB,aAAaN,QAAQxkB,MACnCd,aAAcnB,KAGhBjK,EACGqQ,OACC,CAAE9D,WAAY,mBAAoBqC,IAAK+I,EAAkBja,IACzD8yB,GAED/c,KAAK,kBAAMnL,EAAKC,MAAMkE,QAAQvK,KAAK,8BArB7B,wBAAAgG,EAAAO,SAAAZ,MAbQ,gBAAAqQ,GAAA,OAAAtR,EAAA+I,MAAAjH,KAAA5H,YAAA,GAIjBwH,EAAKmoB,WAAa/E,IAAMC,YACxBrjB,EAAKqoB,UAAYjF,IAAMC,YACvBrjB,EAAKsoB,WAAalF,IAAMC,YACxBrjB,EAAKuoB,WAAanF,IAAMC,YACxBrjB,EAAKwoB,UAAYpF,IAAMC,YACvBrjB,EAAKyoB,cAAgBrF,IAAMC,YAC3BrjB,EAAK0oB,aAAetF,IAAMC,YAVTrjB,wEAsCjB,IAAMqP,EAAoBjP,KAAKH,MAAMoP,kBAErC,OAAIA,EAEA1S,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,QACXxE,MAAO,QAGTL,EAAAC,EAAAC,cAAA,MACEC,MAAO,CACL2E,OAAQ,OACRrE,QAAS,QACTsE,UAAW,SACXuQ,WAAY,SALhB,mBAQmB,KAEnBtV,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,2BAA2BF,UAAU,MAAMjL,GAAG,cACrDuH,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,2BAA2BjL,GAAG,eAD7C,gCAKFuH,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkBhN,MAChCkB,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAK+nB,cAGdxrB,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,aAA3C,QAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,OACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB/M,KAChCiB,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKioB,cAIhB1rB,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB9M,MAChCgB,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKkoB,cAGd3rB,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,cAA3C,SAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB7M,MAChCe,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKmoB,eAIhB5rB,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CAAEsH,YAAa,OAAQC,aAAc,SAE5C1H,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,aAA3C,QAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,OACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB5M,KAChCc,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKooB,aAGd7rB,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,uBACb1D,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,iBAA3C,YAGA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,WACL7G,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB3M,SAChCa,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKqoB,kBAIhB9rB,EAAAC,EAAAC,cAAA,OACEwD,UAAU,WACVvD,MAAO,CACLsH,YAAa,OACbC,aAAc,OACdW,cAAe,SAGjBrI,EAAAC,EAAAC,cAAA,SAAOwD,UAAU,kBAAkBiE,QAAQ,QAA3C,WAGA3H,EAAAC,EAAAC,cAAA,YACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,UACLsB,UAAU,MACVC,KAAK,IACLpI,MAAO,CAAE0H,gBAAiB,sBAC1BmkB,aAActZ,EAAkB1M,QAChCY,SAAUnD,KAAKmD,SACfgD,IAAKnG,KAAKsoB,gBAGd/rB,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAQ,UACtBJ,EAAAC,EAAAC,cAAA,UACEjE,KAAK,SACLyH,UAAU,eACVvD,MAAO,CACLS,KAAM,MACNF,SAAU,WACVG,UAAW,mBACXgE,UAAW,SAPf,mCAUmC,MAGrC7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACEC,GAAE,6BAAApH,OAA+BkW,EAAkBja,IACnDiL,UAAU,eACVvD,MAAO,CACLE,MAAO,MACPyE,OAAQ,OACRrE,QAAS,QACToE,UAAW,SAPf,yBAiBJ7E,EAAAC,EAAAC,cAACH,EAAD,CACEI,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,kBAxOIP,aAmPZrJ,eACbwN,2BAAiB,SAAAnF,GAAK,MAAI,CACxB,CACEgE,WAAY,mBACZggB,QAAS,oBACT3d,IAAKrG,EAAM8mB,MAAMC,OAAO5xB,OAG5B+L,kBAAQ,SAAAtC,EAA6BoB,GAA7B,IAAgBqF,EAAhBzG,EAAGnH,UAAa4N,QAAhB,MAAwC,CAC9C+J,kBAAmB/J,EAAQ+J,mBAAqB/J,EAAQ+J,kBAAkB,MAT/DzX,CAWbqwB,yBChPaW,GApBD,SAAA3oB,GAAS,IACbjK,EAAyBiK,EAAzBjK,QAASC,EAAgBgK,EAAhBhK,YACjB,OACE0G,EAAAC,EAAAC,cAAA,OACEwD,UAAWwoB,KAAW,QAAS,CAC7BC,WAA4B,YAAhB7yB,EACZ8yB,eACkB,gBAAhB9yB,GAAiD,mBAAhBA,KAGpCD,ICLDgzB,8MACJzwB,MAAQ,CACNuI,MAAO,GACPmoB,SAAU,MAGZ1lB,SAAW,SAAAxO,GAAC,OAAIiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,WAE1DC,SAAW,SAAA9O,GACTA,EAAEgL,iBADY,IAAAP,EAEmBQ,EAAKC,MAA9B/I,EAFMsI,EAENtI,SAAUiI,EAFJK,EAEIL,WAFJ8I,EAGcjI,EAAKzH,MAAzBuI,EAHMmH,EAGNnH,MAAOmoB,EAHDhhB,EAGCghB,SACf/xB,EACGgyB,MAAM,CACLpoB,QACAmoB,aAED5d,MAAM,SAAAC,GAAG,OAAInM,EAAW,8BAA+B,0FAGnD,IAAAM,EAC0BW,KAAKH,MAAM3H,OAApCtC,EADDyJ,EACCzJ,QAASC,EADVwJ,EACUxJ,YAEjB,OACE0G,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,UAGb7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,oBACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,mBACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aACI,gBAAhBpK,EACC0G,EAAAC,EAAAC,cAACssB,GAAD,CAAOnzB,QAASA,EAASC,YAAaA,IACpC,KACJ0G,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,yBACZ1D,EAAAC,EAAAC,cAAA,QAAMwD,UAAU,kBACd1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,gBADf,WAIF1D,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,SAAOyH,QAAQ,SAAf,SACA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACLe,UAAQ,EACRd,MAAOxD,KAAK7H,MAAMuI,MAClByC,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,SAAOyH,QAAQ,YAAf,YACA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACLyH,UAAU,eACVsD,KAAK,WACLe,UAAQ,EACRd,MAAOxD,KAAK7H,MAAM0wB,SAClB1lB,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,QACNvD,UAAU,wCAxEVY,aA0FLrJ,eACbsJ,4BACAC,kBACE,SAAC5I,EAAO0H,GAAR,MAAmB,CACjB3H,OAAQC,EAAMD,SAEhB,CAAE6G,eANSvH,CAQboxB,wBClGII,8MACJ7wB,MAAQ,CACNuI,MAAO,GACPmoB,SAAU,GACVI,YAAa,MAGf9lB,SAAW,SAAAxO,GAAC,OAAIiL,EAAKwD,SAAL1N,OAAA2N,EAAA,EAAA3N,CAAA,GAAiBf,EAAE2O,OAAOC,KAAO5O,EAAE2O,OAAOE,WAC1DC,+CAAW,SAAAtE,EAAMxK,GAAN,IAAAyK,EAAAtI,EAAAiI,EAAA8I,EAAAnH,EAAAmoB,EAAAI,EAAAhoB,EAAA,OAAA3B,EAAA9C,EAAA+C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACT/K,EAAEgL,iBADOP,EAEwBQ,EAAKC,MAA9B/I,EAFCsI,EAEDtI,SAAUiI,EAFTK,EAESL,WAFT8I,EAGgCjI,EAAKzH,MAAtCuI,EAHCmH,EAGDnH,MAAOmoB,EAHNhhB,EAGMghB,SAAUI,EAHhBphB,EAGgBohB,YAHhBzpB,EAAAE,KAAA,EAKH5I,EACHoyB,WAAW,CAAExoB,QAAOmoB,aACpB5d,MAAM,SAAAC,GAAG,OAAInM,EAAW,2BAA4B,oBAP9C,cAAAS,EAAAE,KAAA,EAQQ5I,EAASsH,OAAO8C,YARxB,YAQLD,EARKzB,EAAAsE,MAAA,CAAAtE,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAUDuB,EAAKkoB,cAAc,CAAEhoB,YAAa8nB,IAVjC,QAWPrpB,EAAKC,MAAMkE,QAAQvK,KAAK,sBAXjB,yBAAAgG,EAAAO,SAAAZ,oIAeF,IAAAE,EAC0BW,KAAKH,MAAM3H,OAApCtC,EADDyJ,EACCzJ,QAASC,EADVwJ,EACUxJ,YAEjB,OACE0G,EAAAC,EAAAC,cAAA,OACEwD,UAAU,YACVvD,MAAO,CACLO,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,UAAW,wBACXgE,UAAW,UAGb7E,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,oBACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,sBACb1D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,aACI,mBAAhBpK,EACC0G,EAAAC,EAAAC,cAACssB,GAAD,CAAOnzB,QAASA,EAASC,YAAaA,IACpC,KACJ0G,EAAAC,EAAAC,cAAA,MAAIwD,UAAU,yBACZ1D,EAAAC,EAAAC,cAAA,QAAMwD,UAAU,kBACd1D,EAAAC,EAAAC,cAAA,KAAGwD,UAAU,sBADf,cAIF1D,EAAAC,EAAAC,cAAA,QAAMgH,SAAUzD,KAAKyD,UACnBlH,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,SAAOyH,QAAQ,eAAf,gBACA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,cACLe,UAAQ,EACRd,MAAOxD,KAAK7H,MAAM8wB,YAClB9lB,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,SAAOyH,QAAQ,SAAf,SACA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,OACLyH,UAAU,eACVsD,KAAK,QACLe,UAAQ,EACRd,MAAOxD,KAAK7H,MAAMuI,MAClByC,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,cACb1D,EAAAC,EAAAC,cAAA,SAAOyH,QAAQ,YAAf,YACA3H,EAAAC,EAAAC,cAAA,SACEjE,KAAK,WACLyH,UAAU,eACVsD,KAAK,WACL6lB,UAAU,IACV9kB,UAAQ,EACRd,MAAOxD,KAAK7H,MAAM0wB,SAClB1lB,SAAUnD,KAAKmD,YAGnB5G,EAAAC,EAAAC,cAAA,SACEjE,KAAK,SACLgL,MAAM,WACNvD,UAAU,wCAvFPY,aAmGvBmoB,GAASK,WAAa,CACpBvyB,SAAUwyB,KAAUC,OAAOC,WAC3BtxB,OAAQoxB,KAAUC,OAAOC,WACzBzqB,WAAYuqB,KAAUG,KAAKD,YAGdhyB,mBACbsJ,4BACAC,kBACE,SAAC5I,EAAO0H,GAAR,MAAmB,CACjB3H,OAAQC,EAAMD,SAEhB,CAAE6G,eANSvH,CAQbwxB,ICxHIU,8MACJvxB,MAAQ,CACNwxB,YAAa,KAefC,WAAa,WACXhqB,EAAKwD,SAAS,CACZumB,YAAa/pB,EAAKzH,MAAMwxB,YAAc,6EAXxC,IAFA,IAAMvV,EAAW,GAERE,EAAI,EAAGA,EAAItU,KAAK7H,MAAMwxB,YAAarV,GAAK,EAC/CF,EAAS5a,KAAK+C,EAAAC,EAAAC,cAACotB,GAAD,CAAgB9hB,IAAKuM,EAAGwV,OAAQxV,KAGhD,OACE/X,EAAAC,EAAAC,cAACstB,GAAD,CAAiBC,SAAUhqB,KAAK4pB,YAAaxV,UAbxBvT,aAwBrBopB,GAAkB,SAAApqB,GAAK,OAC3BtD,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,mBACb1D,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,KAAG6D,KAAK,IAAIK,QAASd,EAAMmqB,UAA3B,gCAIFztB,EAAAC,EAAAC,cAAA,OAAKzH,GAAG,iBAAiB6K,EAAMuU,YAI7B8V,GAAiB,SAAArqB,GAAK,OAAItD,EAAAC,EAAAC,cAAA,WAAM,cAAgBoD,EAAMiqB,SAE7CJ,MCyCAS,oLA3DX,OACE5tB,EAAAC,EAAAC,cAAC2tB,EAAA,SAAD,CAAU7yB,MAAOA,GACfgF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,KACE3D,EAAAC,EAAAC,cAAA,OAAKwD,UAAU,OACb1D,EAAAC,EAAAC,cAAC4tB,EAAD,MACA9tB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,KACEnrB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,UACLC,UAAW7rB,EAAuBiqB,MAEpCrsB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,aACLC,UAAW7rB,EAAuBqqB,MAEpCzsB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,qBACLC,UAAWhtB,EAAoBwD,KAEjCzE,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,yBACLC,UAAWhtB,EAAoB0F,KAEjC3G,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,2BACLC,UAAWhtB,EAAoB2H,KAEjC5I,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,0BACLC,UAAWhtB,EAAoB6K,MAEjC9L,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,gCACLC,UAAWhtB,EAAoB0oB,MAEjC3pB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,2BACLC,UAAWhtB,EAAoBqqB,MAEjCtrB,EAAAC,EAAAC,cAACirB,EAAA,EAAD,CACE4C,OAAK,EACLC,KAAK,gBACLC,UAAWhtB,EAAoBksB,iBAnD7B7oB,aCPE4pB,QACW,cAA7BtuB,OAAOwI,SAAS+lB,UAEe,UAA7BvuB,OAAOwI,SAAS+lB,UAEhBvuB,OAAOwI,SAAS+lB,SAAS/D,MACvB,2DCbNgE,IAASC,OAAOruB,EAAAC,EAAAC,cAACouB,GAAD,MAAS9a,SAASC,eAAe,SD4H3C,kBAAmB8a,WACrBA,UAAUC,cAAcC,MAAMjgB,KAAK,SAAAkgB,GACjCA,EAAaC","file":"static/js/main.7e9133aa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.8e9c6f69.png\";","module.exports = __webpack_public_path__ + \"static/media/notredame.6adb7e36.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dialogue-default-background.839ae3da.jpg\";","module.exports = __webpack_public_path__ + \"static/media/path-default-background.f2992f47.jpg\";","module.exports = __webpack_public_path__ + \"static/media/riddle-default-question.a3df9d75.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/combat-default-background.01ec8566.jpg\";","module.exports = __webpack_public_path__ + \"static/media/1.853053d1.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 856;","var map = {\n\t\"./1.png\": 63,\n\t\"./2.png\": 900,\n\t\"./3.png\": 901,\n\t\"./4.png\": 902,\n\t\"./5.png\": 903,\n\t\"./6.png\": 904\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 899;","module.exports = __webpack_public_path__ + \"static/media/2.8beca9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/3.ca3fbb30.png\";","module.exports = __webpack_public_path__ + \"static/media/4.d8564815.png\";","module.exports = __webpack_public_path__ + \"static/media/5.829bc12b.png\";","module.exports = __webpack_public_path__ + \"static/media/6.81b06248.png\";","var map = {\n\t\"./1.png\": 906,\n\t\"./2.png\": 907,\n\t\"./3.png\": 908\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 905;","module.exports = __webpack_public_path__ + \"static/media/1.f030e619.png\";","module.exports = __webpack_public_path__ + \"static/media/2.f83fcec0.png\";","module.exports = __webpack_public_path__ + \"static/media/3.a9361957.png\";","var map = {\n\t\"./1.png\": 910,\n\t\"./2.png\": 911,\n\t\"./3.png\": 912\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 909;","module.exports = __webpack_public_path__ + \"static/media/1.41a5c668.png\";","module.exports = __webpack_public_path__ + \"static/media/2.3e7de63b.png\";","module.exports = __webpack_public_path__ + \"static/media/3.aba8f8cf.png\";","var map = {\n\t\"./1.png\": 914,\n\t\"./2.png\": 915\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 913;","module.exports = __webpack_public_path__ + \"static/media/1.b01e5de6.png\";","module.exports = __webpack_public_path__ + \"static/media/2.adcced3f.png\";","import { NOTIFY_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  message: null,\r\n  messageType: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_USER:\r\n      return {\r\n        ...state,\r\n        message: action.message,\r\n        messageType: action.messageType\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA,\r\n  SYNC_REGISTERS_IN_REDUX\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  numDepthLevels: 1\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_DEPTH_LEVEL:\r\n      // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and adding one\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"sync with firestore\");\r\n        console.log(action.currentNumDepthLevels);\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels + 1\r\n        };\r\n      } else {\r\n        console.log(\"normal\");\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels + 1\r\n        };\r\n      }\r\n\r\n    // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and decreasing by one\r\n\r\n    case DECREASE_DEPTH_LEVEL:\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"option 1\");\r\n        console.log(action.currentNumDepthLevels);\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels - 1\r\n        };\r\n      } else {\r\n        console.log(\"option 2\");\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels - 1\r\n        };\r\n      }\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: 1\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: action.numDepthLevelsFromFirestore\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SET_TO_FINALBOSS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  CLEAR_QUEST_DATA,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isGlobalSaving: false,\r\n  paragraphNumberTotal: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_PARAGRAPH_TO_TOTAL:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal + 1,\r\n        paragraphRegister: state.paragraphRegister.concat(\r\n          action.paragraphToAddInRegister\r\n        )\r\n      };\r\n    case DECREASE_PARAGRAPH_FROM_TOTAL:\r\n      let paragraphsToUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return (\r\n          el.depthNumber === action.paragraphToDeleteInRegister.depthNumber &&\r\n          el.paragraphNumber >\r\n            action.paragraphToDeleteInRegister.paragraphNumber\r\n        );\r\n      });\r\n\r\n      let paragraphsToUpdateFinal = [];\r\n\r\n      paragraphsToUpdate.forEach(el => {\r\n        paragraphsToUpdateFinal.push({\r\n          depthNumber: action.paragraphToDeleteInRegister.depthNumber,\r\n          paragraphNumber: el.paragraphNumber - 1\r\n        });\r\n      });\r\n\r\n      // unchanged paragraphs with lower depth number or (same depth number + lower paragraph number)\r\n\r\n      let paragraphBeforeUpdate = state.paragraphRegister.filter(\r\n        (el, index) => {\r\n          return (\r\n            el.depthNumber < action.paragraphToDeleteInRegister.depthNumber ||\r\n            (el.paragraphNumber <\r\n              action.paragraphToDeleteInRegister.paragraphNumber &&\r\n              el.depthNumber === action.paragraphToDeleteInRegister.depthNumber)\r\n          );\r\n        }\r\n      );\r\n\r\n      // unchanged paragraphs with higher depth number\r\n\r\n      let paragraphAfterUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return el.depthNumber > action.paragraphToDeleteInRegister.depthNumber;\r\n      });\r\n\r\n      // combining all three arrays to have the new paragraphRegister without the deleted value and with adjusted paragraphNumbers where necessary\r\n      let paragraphRegisterWithoutDeletedParagraph = [\r\n        ...paragraphBeforeUpdate,\r\n        ...paragraphsToUpdateFinal,\r\n        ...paragraphAfterUpdate\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal - 1,\r\n        paragraphRegister: paragraphRegisterWithoutDeletedParagraph\r\n      };\r\n\r\n    case ADD_PARAGRAPH_LINK:\r\n      // shallow copies to circumvent object extensibility issues\r\n\r\n      let UpdatedParagraphRegisterWithLinks = [...state.paragraphRegister];\r\n\r\n      let childParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n        )\r\n      };\r\n      childParagraphAdd.previousParagraphs = [\r\n        ...childParagraphAdd.previousParagraphs\r\n      ];\r\n\r\n      childParagraphAdd.hasLinkToPreviousParagraph = true;\r\n      childParagraphAdd.previousParagraphs.push({\r\n        depthNumber:\r\n          action.paragraphLinkToAddInLinkRegister.depthNumberOfLinkedParagraph,\r\n        paragraphNumber:\r\n          action.paragraphLinkToAddInLinkRegister\r\n            .paragraphNumberOfLinkedParagraph\r\n      });\r\n\r\n      let originalChildIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[originalChildIndex] = childParagraphAdd;\r\n\r\n      let parentParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .depthNumberOfLinkedParagraph &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        )\r\n      };\r\n\r\n      parentParagraphAdd.nextParagraphs = [\r\n        ...parentParagraphAdd.nextParagraphs\r\n      ];\r\n\r\n      parentParagraphAdd.hasLinkToNextParagraph = true;\r\n      parentParagraphAdd.nextParagraphs.push({\r\n        depthNumber: action.paragraphLinkToAddInLinkRegister.depthNumber,\r\n        paragraphNumber: action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      });\r\n\r\n      let originalParentIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[\r\n        originalParentIndex\r\n      ] = parentParagraphAdd;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.concat(\r\n          action.paragraphLinkToAddInLinkRegister\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithLinks\r\n      };\r\n    case REMOVE_PARAGRAPH_LINK:\r\n      let UpdatedParagraphRegisterWithDeletedLinks = state.paragraphRegister;\r\n\r\n      let childParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      childParagraphRemove.previousParagraphs = childParagraphRemove.previousParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      if (childParagraphRemove.previousParagraphs.length === 0) {\r\n        childParagraphRemove.hasLinkToPreviousParagraph = false;\r\n      }\r\n\r\n      let parentParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      parentParagraphRemove.nextParagraphs = parentParagraphRemove.nextParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      if (parentParagraphRemove.nextParagraphs.length === 0) {\r\n        parentParagraphRemove.hasLinkToNextParagraph = false;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.filter(\r\n          paragraphLink =>\r\n            paragraphLink.depthNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n            paragraphLink.paragraphNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.paragraphNumber ||\r\n            paragraphLink.depthNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .depthNumberOfLinkedParagraph ||\r\n            paragraphLink.paragraphNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithDeletedLinks\r\n      };\r\n    case SET_TO_SUDDEN_DEATH:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithSuddenDeath = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n      );\r\n      // setting its sudden death value to true\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithSuddenDeath.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes.isSuddenDeath = !paragraphToUpdateWithSuddenDeath\r\n        .paragraphSubTypes.isSuddenDeath;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithSuddenDeath = state.paragraphRegister;\r\n      updatedRegisterWithSuddenDeath[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithSuddenDeath;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithSuddenDeath\r\n      };\r\n    case SET_TO_VICTORY:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithVictory = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n      );\r\n      // toggle its isVictory value\r\n      paragraphToUpdateWithVictory.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithVictory.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithVictory.paragraphSubTypes.isVictory = !paragraphToUpdateWithVictory\r\n        .paragraphSubTypes.isVictory;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithVictory = state.paragraphRegister;\r\n      updatedRegisterWithVictory[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithVictory;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithVictory\r\n      };\r\n\r\n    case SET_TO_FINALBOSS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithFinalBoss = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n      );\r\n      // setting its final boss combat value to true\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithFinalBoss.paragraphSubTypes\r\n      };\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes.isFinalBossCombat = !paragraphToUpdateWithFinalBoss.isFinalBossCombat;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithFinalBoss = state.paragraphRegister;\r\n      updatedRegisterWithFinalBoss[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithFinalBoss;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithFinalBoss\r\n      };\r\n\r\n    case SET_PARAGRAPH_TYPE:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithType = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n      );\r\n      // setting its paragraphType value\r\n      paragraphToUpdateWithType.paragraphType = action.paragraphType;\r\n\r\n      // clear the paragraph subtypes\r\n      let keys = Object.keys(paragraphToUpdateWithType.paragraphSubTypes);\r\n      let clearedParagraphSubTypes = {};\r\n\r\n      for (var j = 0; j < keys.length; j++) {\r\n        clearedParagraphSubTypes[keys[j]] = false;\r\n      }\r\n      paragraphToUpdateWithType.paragraphSubTypes = clearedParagraphSubTypes;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphType = state.paragraphRegister;\r\n      updatedRegisterWithParagraphType[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithType;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphType\r\n      };\r\n\r\n    case SET_PARAGRAPH_LINK_STATUS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithLinkStatus = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n      );\r\n      // setting its hasLinkToNextParagraph or hasLinkToPreviousParagraph value according to nextorprevious input\r\n      if (action.nextorprevious === \"next\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToNextParagraph = action.status;\r\n      } else if (action.nextorprevious === \"previous\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToPreviousParagraph =\r\n          action.status;\r\n      }\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphLinkStatus = state.paragraphRegister;\r\n      updatedRegisterWithParagraphLinkStatus[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithLinkStatus;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphLinkStatus\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        paragraphRegister: action.paragraphRegisterFromFirestore,\r\n        paragraphLinkRegister: action.paragraphLinkRegisterFromFirestore\r\n      };\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: 1,\r\n        paragraphRegister: [\r\n          {\r\n            depthNumber: 0,\r\n            paragraphNumber: 1,\r\n\r\n            hasLinkToNextParagraph: false,\r\n            hasLinkToPreviousParagraph: true,\r\n            paragraphType: \"narration\",\r\n            paragraphSubTypes: {\r\n              isSuddenDeath: false,\r\n              isVictory: false,\r\n              isFinalBossCombat: false\r\n            },\r\n            nextParagraphs: [],\r\n            previousParagraphs: []\r\n          }\r\n        ],\r\n        paragraphLinkRegister: []\r\n      };\r\n\r\n    case SET_TO_GLOBAL_SAVING:\r\n      return {\r\n        ...state,\r\n        isGlobalSaving: !state.isGlobalSaving\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, compose } from \"redux\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport { reactReduxFirebase, firebaseReducer } from \"react-redux-firebase\";\r\nimport { reduxFirestore, firestoreReducer } from \"redux-firestore\";\r\nimport \"firebase/functions\";\r\n\r\n// Reducers\r\nimport notifyReducer from \"../reducers/notifyReducer\";\r\nimport depthLevelReducer from \"../reducers/depthLevelReducer\";\r\nimport paragraphReducer from \"../reducers/paragraphReducer\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAb4GBXr2OHnzMnvBrZlfWqyQt0crnmgAg\",\r\n  authDomain: \"delendaproto.firebaseapp.com\",\r\n  databaseURL: \"https://delendaproto.firebaseio.com\",\r\n  projectId: \"delendaproto\",\r\n  storageBucket: \"delendaproto.appspot.com\",\r\n  messagingSenderId: \"598525885409\"\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true // Firestore for Profile instead of Realtime DB\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Initialize firestore\r\nfirebase.firestore();\r\n\r\n// Add reactReduxFirebase enhancer when making store creator\r\nconst createStoreWithFirebase = compose(\r\n  reactReduxFirebase(firebase, rrfConfig), // firebase instance as first argument\r\n  reduxFirestore(firebase) // <- needed if using firestore\r\n)(createStore);\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer, // <- needed if using firestore\r\n  notify: notifyReducer,\r\n  numDepthLevels: depthLevelReducer,\r\n  paragraphData: paragraphReducer\r\n});\r\n\r\n// create initial state\r\nconst initialState = {};\r\nconst store = createStoreWithFirebase(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    reactReduxFirebase(firebase),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n          window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f\r\n  )\r\n);\r\n\r\nexport default store;\r\n","export const NOTIFY_USER = \"NOTIFY_USER\";\r\nexport const ALLOW_REGISTRATION = \"ALLOW_REGISTRATION\";\r\n\r\nexport const ADD_DEPTH_LEVEL = \"ADD_DEPTH_LEVEL\";\r\nexport const DECREASE_DEPTH_LEVEL = \"DECREASE_DEPTH_LEVEL\";\r\n\r\nexport const ADD_PARAGRAPH_TO_TOTAL = \"ADD_PARAGRAPH_TO_TOTAL\";\r\nexport const DECREASE_PARAGRAPH_FROM_TOTAL = \"DECREASE_PARAGRAPH_FROM_TOTAL\";\r\nexport const ADD_PARAGRAPH_LINK = \"ADD_PARAGRAPH_LINK\";\r\nexport const REMOVE_PARAGRAPH_LINK = \"REMOVE_PARAGRAPH_LINK\";\r\nexport const SET_TO_SUDDEN_DEATH = \"SET_TO_SUDDEN_DEATH\";\r\nexport const SET_TO_VICTORY = \"SET_TO_VICTORY\";\r\nexport const SET_TO_FINALBOSS = \"SET_TO_FINALBOSS\";\r\nexport const SET_PARAGRAPH_TYPE = \"SET_PARAGRAPH_TYPE\";\r\nexport const SET_PARAGRAPH_LINK_STATUS = \"SET_PARAGRAPH_LINK_STATUS\";\r\n\r\nexport const SYNC_REGISTERS_IN_REDUX = \"SYNC_REGISTERS_IN_REDUX\";\r\nexport const CLEAR_QUEST_DATA = \"CLEAR_QUEST_DATA\";\r\nexport const SET_TO_GLOBAL_SAVING = \"SET_TO_GLOBAL_SAVING\";\r\n","import React from \"react\";\r\nimport spinner from \"./spinner.png\";\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div style={{ height: \"100%\", width: \"100%\" }}>\r\n      <img\r\n        src={spinner}\r\n        alt=\"Loading...\"\r\n        style={{\r\n          height: \"100px\",\r\n          width: \"100px\",\r\n          display: \"block\",\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          zIndex: 2\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\n// import createHistory from \"history/createBrowserHistory\";\r\nimport LoadingScreen from \"../components/layout/Spinner\"; // change it to your custom component\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\n//const history = createHistory();\r\n\r\nexport const UserIsAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: true,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/login\",\r\n  authenticatingSelector: ({ firebase: { auth, profile, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && !auth.isEmpty\r\n});\r\n\r\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsNotAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: false,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/questeditor/menu/\",\r\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && auth.isEmpty\r\n});\r\n","import { NOTIFY_USER } from \"./types\";\r\n\r\nexport const notifyUser = (message, messageType) => {\r\n  return {\r\n    type: NOTIFY_USER,\r\n    message,\r\n    messageType\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\n\r\nclass AppNavbar extends Component {\r\n  state = {\r\n    isAuthenticated: false\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { auth } = props;\r\n    if (auth.uid) {\r\n      return { isAuthenticated: true };\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  }\r\n\r\n  onLogoutClick = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { message, messageType } = this.props.notify;\r\n    if (message || messageType) {\r\n      await notifyUser(null, null);\r\n    }\r\n    firebase.logout();\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.state;\r\n    const { auth } = this.props;\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md bg-dark mb-2\">\r\n          <div className=\"container\">\r\n            <Link to=\"/home\" className=\"navbar-brand text-light\">\r\n              Home\r\n            </Link>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarMain\"\r\n            >\r\n              <span className=\"navbar-toggler-icon\" />\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n              <ul className=\"navbar-nav mr-auto\">\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Players\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/playerprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/playerranking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/playerforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Scribes\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/questeditor/menu/\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Quest Editor\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scribeprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scriberanking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/scribeforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <Link to=\"/marketplace\" className=\"nav-link text-light\">\r\n                    Marketplace\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n\r\n              {isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <a href=\"#!\" className=\"nav-link text-light\">\r\n                      {auth.email}\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      href=\"#!\"\r\n                      className=\"nav-link text-light\"\r\n                      onClick={this.onLogoutClick}\r\n                    >\r\n                      Logout\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n              {!isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/login\" className=\"nav-link text-light\">\r\n                      Login\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/register\" className=\"nav-link text-light\">\r\n                      Register\r\n                    </Link>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAppNavbar.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      auth: state.firebase.auth,\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(AppNavbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\n\r\nclass QuestEditorMenu extends Component {\r\n  render() {\r\n    var user = this.props.firebase.auth().currentUser;\r\n    if (!user.displayName) {\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {`Welcome, ${user.displayName} !`}\r\n          </h1>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/newquest/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            New Quest\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/inprogress/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests In Progress\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/submitted/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests Submitted\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default firebaseConnect()(QuestEditorMenu);\r\n","var curday = function() {\r\n  var today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1; //As January is 0.\r\n  var yyyy = today.getFullYear();\r\n\r\n  if (dd < 10) dd = \"0\" + dd;\r\n  if (mm < 10) mm = \"0\" + mm;\r\n  return `${dd}/${mm}/${yyyy}`;\r\n};\r\n\r\nexport default curday;\r\n","const QuestTemplate = {\r\n  Title: \"\",\r\n  Tags: \"\",\r\n  Price: 0,\r\n  Level: 1,\r\n  Link: \"\",\r\n  Location: [],\r\n  Summary: \"\",\r\n  NbParagraphs: 1,\r\n  numDepthLevels: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: [],\r\n  CreationDate: \"\",\r\n  LastEditDate: \"\",\r\n  SubmissionDate: \"\",\r\n  Status: \"In Progress\",\r\n  ScribeID: \"\",\r\n  ScribeName: \"\",\r\n  ScribeEmail: \"\",\r\n  Paragraphs: [],\r\n  globalSaveCounter: 0\r\n};\r\n\r\nexport default QuestTemplate;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport curday from \"./CurrentDay\";\r\nimport QuestTemplate from \"./questbuilder/QuestTemplate\";\r\n\r\nclass NewQuest extends Component {\r\n  state = QuestTemplate;\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    var user = this.props.firebase.auth().currentUser;\r\n    var ScribeID = user.uid;\r\n    var ScribeName = user.displayName;\r\n    var ScribeEmail = user.email;\r\n\r\n    await this.setState({\r\n      CreationDate: curday(),\r\n      LastEditDate: curday(),\r\n      ScribeID,\r\n      ScribeName,\r\n      ScribeEmail\r\n    });\r\n    const newQuest = this.state;\r\n    const { firestore } = this.props;\r\n    const result = await firestore.add(\r\n      { collection: \"QuestsInProgress\" },\r\n      newQuest\r\n    );\r\n\r\n    this.props.history.push(`/questeditor/questbuilder/${result.id}`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\",\r\n          width: \"60%\"\r\n        }}\r\n      >\r\n        <h1\r\n          style={{\r\n            margin: \"auto\",\r\n            display: \"block\",\r\n            textAlign: \"center\"\r\n          }}\r\n        >\r\n          Quest Parameters{\" \"}\r\n        </h1>\r\n        <div style={{ height: \"30px\" }} />\r\n        <div className=\"row\">\r\n          <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n            <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n            Menu\r\n          </Link>\r\n        </div>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                Title\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Title\"\r\n                placeholder=\"Into the Abyss\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.title}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                Tags\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Tags\"\r\n                placeholder=\"#horror #riddle #dark\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.tags}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                Price\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Price\"\r\n                placeholder=\"2000\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.price}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                Level\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Level\"\r\n                placeholder=\"1\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.level}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                Link\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Link\"\r\n                placeholder=\"Linked to Quest sg7uwerh3 : Wandering In The Desert\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.link}\r\n                onChange={this.onChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                Location\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Location\"\r\n                placeholder=\"GPS coordinates -22.5834697346\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.location}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{\r\n              paddingLeft: \"10px\",\r\n              paddingRight: \"10px\",\r\n              paddingBottom: \"10px\"\r\n            }}\r\n          >\r\n            <label className=\"label-parameter\" htmlFor=\"Text\">\r\n              Summary\r\n            </label>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"Summary\"\r\n              maxLength=\"100\"\r\n              placeholder=\"You will enter the Abyss of Agamazos, where many heroes have perished. Fire demons and the Crystal Magician await you there...\"\r\n              rows=\"2\"\r\n              required\r\n              style={{\r\n                backgroundColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }}\r\n              value={this.state.summary}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div style={{ height: \"10px\" }} />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-dark\"\r\n            style={{\r\n              left: \"50%\",\r\n              position: \"absolute\",\r\n              transform: \"translateX(-50%)\",\r\n              marginTop: \"15px\"\r\n            }}\r\n          >\r\n            Save and start creating{\" \"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNewQuest.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(NewQuest);\r\n","// Admin rights for Axel, Eric & Evariste --> find better implementation via Firebase (Admin SDK, user profiles ?)\r\nconst Admins = [\"88ghIWMAMIOxmF5VQ6PP50QqnKO2\"];\r\n\r\n// Maximum of 10 quests in progress per user --> to be implemented in Firebase security rules\r\n\r\n// Maximum of 5 quests submitted per user --> to be implemented in Firebase security rules\r\n\r\n// One user per email address --> already implemented in Firebase settings\r\n\r\n// Authentication via email + email confirmation + password recovery --> to be implemented in Firebase settings\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestsInProgress extends Component {\r\n  state = {\r\n    questsInProgressTotal: null,\r\n    questsInProgressFromScribeTotal: null,\r\n    questsInProgressFromScribe: null\r\n  };\r\n\r\n  // Filter quests in progress by ScribeID and determine total number of quests in progress from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsInProgress = props.questsInProgress;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsInProgress) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsInProgressFromScribe = questsInProgress;\r\n      } else {\r\n        questsInProgressFromScribe = questsInProgress.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsInProgressFromScribeTotal: questsInProgressFromScribe.length,\r\n        questsInProgressFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // delete quest in progress\r\n  onDeleteClick = async e => {\r\n    const { firestore } = this.props;\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    const title = e.target.getAttribute(\"data-title\");\r\n\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete the Quest \"${title}\" ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      // deleting data from Firestore\r\n\r\n      await firestore.delete({\r\n        collection: \"QuestsInProgress\",\r\n        doc: id\r\n      });\r\n      // deleting files from Storage\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      let storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      let storageRef = storage.ref();\r\n\r\n      let questRef = storageRef.child(`${id}`);\r\n      const questParagraphList = await questRef.listAll();\r\n\r\n      await questParagraphList.prefixes.forEach(async el => {\r\n        let startingSoundAndImageFiles = await el.listAll();\r\n        await startingSoundAndImageFiles.items.forEach(elem => elem.delete());\r\n\r\n        let outcomeSoundsFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Sounds\")\r\n          .listAll();\r\n        await outcomeSoundsFiles.items.forEach(soundFile => soundFile.delete());\r\n\r\n        let outcomeImagesFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Images\")\r\n          .listAll();\r\n        await outcomeImagesFiles.items.forEach(imageFile => imageFile.delete());\r\n      });\r\n    }\r\n  };\r\n\r\n  onSubmitClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questInProgress = {\r\n      ...this.props.questsInProgress.find(el => el.id === id)\r\n    };\r\n    console.log(JSON.stringify(questInProgress));\r\n\r\n    if (questInProgress.globalSaveCounter !== 1) {\r\n      window.alert(\r\n        \"You must do a Global Save before you can submit this Quest.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isVictory === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Victory Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Final Boss Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el => el.hasLinkToPreviousParagraph === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one previous Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el =>\r\n          el.hasLinkToNextParagraph === true ||\r\n          el.paragraphSubTypes.isVictory === true ||\r\n          el.paragraphSubTypes.isSuddenDeath === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one next Paragraph or be of Victory or Sudden Death type. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to submit the Quest '${\r\n            questInProgress.Title\r\n          }'?`\r\n        )\r\n      ) {\r\n        questInProgress.Status = \"Submitted\";\r\n        questInProgress.SubmissionDate = curday();\r\n\r\n        const result = await this.props.firestore.add(\r\n          { collection: \"QuestsSubmitted\" },\r\n          questInProgress\r\n        );\r\n        await this.props.firestore.update(\r\n          { collection: \"QuestsSubmitted\", doc: result.id },\r\n          {\r\n            id: result.id\r\n          }\r\n        );\r\n        await this.props.firestore.delete({\r\n          collection: \"QuestsInProgress\",\r\n          doc: id\r\n        });\r\n        window.alert(\r\n          `Your Quest has been properly submitted and will now be reviewed by the Team.`\r\n        );\r\n        this.props.history.push(`/questeditor/submitted/`);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsInProgressFromScribe,\r\n      questsInProgressFromScribeTotal\r\n    } = this.state;\r\n\r\n    if (questsInProgressFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests In Progress : <span>{questsInProgressFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of creation</th>\r\n                <th>Date of last edit</th>\r\n                <th>Nb of paragraphs</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsInProgressFromScribe.map(questInProgressFromScribe => (\r\n                <tr key={questInProgressFromScribe.id}>\r\n                  <td>{questInProgressFromScribe.Title}</td>\r\n                  <td>{questInProgressFromScribe.CreationDate}</td>\r\n                  <td>{questInProgressFromScribe.LastEditDate}</td>\r\n                  <td>{questInProgressFromScribe.NbParagraphs}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={`/questeditor/details/${\r\n                        questInProgressFromScribe.id\r\n                      }`}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-right\" /> Edit\r\n                    </Link>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onDeleteClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-ban\" /> Delete\r\n                    </button>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onSubmitClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-up\" /> Submit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsInProgress.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsInProgress: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(QuestsInProgress);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport Web3 from \"C:/Users/AXlHT/AppData/Roaming/npm/node_modules/web3/src/index\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\n\r\nconst firebase = require(\"firebase\");\r\n// Required for side-effects\r\nrequire(\"firebase/functions\");\r\n\r\nclass QuestsSubmitted extends Component {\r\n  state = {\r\n    questsSubmittedTotal: null,\r\n    questsSubmittedFromScribeTotal: null\r\n  };\r\n\r\n  // Filter quests submitted by ScribeID and determine total number of quests submitted from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsSubmitted = props.questsSubmitted;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsSubmitted) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsSubmittedFromScribe = questsSubmitted;\r\n      } else {\r\n        questsSubmittedFromScribe = questsSubmitted.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsSubmittedFromScribeTotal: questsSubmittedFromScribe.length,\r\n        questsSubmittedFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  onGenerateVerifier = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    // get Paragraphs Array\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n    let paragraphsArray = questSubmitted.Paragraphs;\r\n\r\n    // create paragraphsMapping and outcomeArrayLengths out of Paragraphs Array\r\n\r\n    let orderedParagraphsArray = [];\r\n    paragraphsArray.forEach(el => {\r\n      let indexOfNextParagraph = orderedParagraphsArray.findIndex(\r\n        elem =>\r\n          elem.depthNumber > el.depthNumber ||\r\n          (elem.depthNumber === el.depthNumber &&\r\n            elem.paragraphNumber > el.paragraphNumber)\r\n      );\r\n      if (indexOfNextParagraph === -1) {\r\n        orderedParagraphsArray.push(el);\r\n      } else if (indexOfNextParagraph === 0) {\r\n        orderedParagraphsArray.unshift(el);\r\n      } else {\r\n        orderedParagraphsArray.splice(indexOfNextParagraph, 0, el);\r\n      }\r\n    });\r\n\r\n    let paragraphsMapping = [];\r\n\r\n    //added for new circuit\r\n    paragraphsMapping[orderedParagraphsArray.length] = [\r\n      orderedParagraphsArray.length\r\n    ];\r\n    paragraphsMapping[orderedParagraphsArray.length + 1] = [\r\n      orderedParagraphsArray.length + 1\r\n    ];\r\n    // end of addition\r\n\r\n    orderedParagraphsArray.forEach((el, index) => {\r\n      let outcomeArray = [];\r\n      if (el.nextParagraphs.length > 0) {\r\n        el.nextParagraphs.forEach(elem => {\r\n          let indexInParagraphsArray = orderedParagraphsArray.findIndex(\r\n            parag =>\r\n              elem.paragraphNumber === parag.paragraphNumber &&\r\n              elem.depthNumber === parag.depthNumber\r\n          );\r\n          outcomeArray.push(indexInParagraphsArray);\r\n        });\r\n      } else if (el.paragraphSubTypes.isSuddenDeath === true) {\r\n        outcomeArray = [orderedParagraphsArray.length];\r\n      } else if (el.paragraphSubTypes.isVictory === true) {\r\n        outcomeArray = [orderedParagraphsArray.length + 1];\r\n      } else window.alert(\"Error in creating paragraphsMapping.\");\r\n\r\n      paragraphsMapping[index] = outcomeArray;\r\n    });\r\n\r\n    let outcomeArrayLengths = [];\r\n    paragraphsMapping.forEach(el => outcomeArrayLengths.push(el.length));\r\n    let paragraphsMappingString = \"\";\r\n    paragraphsMapping.forEach(\r\n      el =>\r\n        (paragraphsMappingString = paragraphsMappingString.concat(`,[${el}]`))\r\n    );\r\n    paragraphsMappingString = paragraphsMappingString.substring(1);\r\n\r\n    await this.setState({\r\n      paragraphsMapping: `[${paragraphsMappingString}]`,\r\n      mappingLength: paragraphsMapping.length\r\n    });\r\n\r\n    // create circuit.circom file in local storage and save in Firebase storage\r\n\r\n    const firebase = this.props.firebase;\r\n    /*\r\n    let circuit = `include \"../srv/node_modules/circomlib/circuits/gates.circom\";\r\n    include \"../srv/node_modules/circomlib/circuits/comparators.circom\";\r\n    \r\n    template Quest(n) {\r\n        signal private input moves[n];\r\n        signal victory;\r\n        signal alive;\r\n        signal pathcheck;\r\n        signal output outcome;\r\n       \r\n    \r\n        var paragraphsMapping = [${paragraphsMappingString}];\r\n        //var paragraphsMappingLength = 11;\r\n        var outcomeArrayLengths = [${outcomeArrayLengths}];\r\n       // var outcomeExists = 0;\r\n        //var victoryVar = 0;\r\n        //var aliveVar = 1;\r\n    \r\n    \r\n       var countercheck = 0;\r\n       var movesnumber = 0;\r\n    \r\n        for (var j=0; j<n; j++) {\r\n    \r\n            if(moves[j] > 0) {\r\n                movesnumber++;\r\n    \r\n                for (var k=0 ; k < outcomeArrayLengths[j]; k++ ) {\r\n                    \r\n                    if (moves[j] == paragraphsMapping[j][k]) {\r\n                        countercheck++;\r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        pathcheck <-- (countercheck == movesnumber);\r\n        pathcheck === 1;\r\n    \r\n    \r\n    \r\n    //check if player reached victory or sudden death paragraph\r\n        for (var i = 0; i < n; i++) {\r\n           if( moves[i] > 0 && paragraphsMapping[i][0] == 777) {\r\n               victory <-- 1;\r\n               alive <-- 1;\r\n           } \r\n    \r\n            if( moves[i] > 0 && paragraphsMapping[i][0] == 666) {\r\n               alive <-- 0;\r\n               victory <-- 0;\r\n           }  \r\n        }\r\n    \r\n     \r\n    \r\n        component and1 = AND();\r\n        and1.a <-- alive;\r\n        and1.b <-- victory;\r\n        outcome <-- and1.out;\r\n    \r\n        outcome === 1;\r\n    \r\n    }\r\n    \r\n    component main = Quest(${paragraphsMapping.length});`;\r\n*/\r\n\r\n    let circuit = `\r\n    \r\n    template Quest(n) {\r\n        signal private input moves[n];\r\n        signal output outcome;\r\n       \r\n    \r\n        var paragraphsMapping = [${paragraphsMappingString}];\r\n        var outcomeArrayLengths = [${outcomeArrayLengths}];    \r\n\r\n        var movesnumber = 0;\r\n        var j = 0;\r\n        var i;\r\n        var k;\r\n\r\n    for (i=0; i<n; i++) {\r\n\r\n        movesnumber++;\r\n\r\n                for (k = 0 ; k < outcomeArrayLengths[j]; k++ ) {\r\n                \r\n                    if (moves[i] == paragraphsMapping[j][k]) {\r\n                        movesnumber--;\r\n                        j = moves[i];\r\n\r\n                        if (j == ${orderedParagraphsArray.length +\r\n                          1} && movesnumber == 0) {\r\n                            i = n;\r\n                            outcome <-- 1;\r\n                    }\r\n                }                    \r\n            }       \r\n    }\r\n\r\n\r\n        // check that player has reached a victory paragraph as his last move\r\n        outcome === 1;\r\n\r\n    }\r\n    \r\n    component main = Quest(${paragraphsMapping.length});`;\r\n\r\n    let generateAndDeployVerifierCF = firebase\r\n      .functions()\r\n      .httpsCallable(\"generateAndDeployVerifier\");\r\n    let response = await generateAndDeployVerifierCF(circuit);\r\n\r\n    console.log(response.data);\r\n\r\n    var file1 = new File([response.data.verifierCode], \"verifier.sol\");\r\n    firebase.uploadFile(id, file1, null, {\r\n      name: \"verifier.sol\"\r\n    });\r\n\r\n    var file2 = new File([circuit], \"circuit.circom\");\r\n    firebase.uploadFile(id, file2, null, {\r\n      name: \"circuit.circom\"\r\n    });\r\n\r\n    await this.setState({\r\n      cirDef: response.data.cirDef,\r\n      verifierCode: response.data.verifierCode,\r\n      provingKey: response.data.provingKey,\r\n      verificationKey: response.data.verificationKey\r\n    });\r\n    window.alert(\"Verifier contract created and saved !\");\r\n  };\r\n\r\n  onDeployVerifier = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    // check if Verifier contract already deployed for this Quest, if yes show alert with address of existing contract\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n\r\n    if (questSubmitted.verifierContractAddress != undefined) {\r\n      if (\r\n        !window.confirm(\r\n          `A Verifier contract has already been deployed at the address ${questSubmitted.verifierContractAddress}. Are you sure you want to deploy a Verifier contract again for this Quest ?`\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // fetch verifier.sol from Firebase Storage and throw error if no file is found\r\n\r\n    const storage = this.props.firebase.storage();\r\n    let storageRef = storage.ref();\r\n\r\n    let verifierRef = storageRef.child(`${id}/verifier.sol`);\r\n\r\n    verifierRef\r\n      .getDownloadURL()\r\n      .then(url => console.log(url))\r\n      .catch(err => {\r\n        console.log(err);\r\n        window.alert(\"No verifier.sol file was found !\");\r\n        return;\r\n      });\r\n\r\n    // compile verifier.sol, get account, deploy contract and return contract address\r\n\r\n    let deployVerifierContract = firebase\r\n      .functions()\r\n      .httpsCallable(\"deployVerifierContract\");\r\n    let compilation = await deployVerifierContract(this.state.verifierCode);\r\n\r\n    await this.setState({ contractInterface: compilation.data.interface });\r\n\r\n    const web3 = new Web3(window.web3.currentProvider);\r\n\r\n    // get account, deploy contract and save address\r\n\r\n    const deploy = async () => {\r\n      const accounts = await web3.eth.getAccounts();\r\n      console.log(accounts);\r\n\r\n      console.log(\"Attempting to deploy from account \", accounts[0]);\r\n\r\n      const result = await new web3.eth.Contract(\r\n        JSON.parse(compilation.data.interface)\r\n      )\r\n        .deploy({ data: compilation.data.bytecode })\r\n        .send({ gas: \"2000000\", from: accounts[0] });\r\n\r\n      console.log(\"Contract deployed to \", result.options.address);\r\n      return result.options.address;\r\n    };\r\n\r\n    let address = await deploy();\r\n\r\n    // save contract address in Firestore and success message\r\n\r\n    await this.props.firestore.update(\r\n      { collection: \"QuestsSubmitted\", doc: id },\r\n      {\r\n        verifierContractAddress: address\r\n      }\r\n    );\r\n\r\n    window.alert(`Contract deployed at address ${address} !`);\r\n  };\r\n\r\n  onGenerateInputProofAndVerify = async e => {\r\n    // fetch user input of paragraph plays\r\n\r\n    let userInput = window.prompt(\r\n      `The paragraphs mapping is ${this.state.paragraphsMapping} Please enter the paragraph plays to test.`\r\n    );\r\n    userInput = userInput.toString();\r\n    let movesArray = [];\r\n\r\n    /* if (\r\n        userInput.substring(i, i + 1) === \"6\" &&\r\n        userInput.substring(i + 1, i + 2) === \"6\" &&\r\n        userInput.substring(i + 2, i + 3) === \"6\"\r\n      ) {\r\n        movesArray.push(\"666\");\r\n        i = i + 2;\r\n      } else if (\r\n        userInput.substring(i, i + 1) === \"7\" &&\r\n        userInput.substring(i + 1, i + 2) === \"7\" &&\r\n        userInput.substring(i + 2, i + 3) === \"7\"\r\n      ) {\r\n        movesArray.push(\"777\");\r\n        i = i + 2;\r\n      } else*/ movesArray = userInput.split(\r\n      \" \"\r\n    );\r\n\r\n    let gap = this.state.mappingLength - movesArray.length;\r\n\r\n    for (var j = 0; j < gap; j++) {\r\n      movesArray.push(\"0\");\r\n    }\r\n\r\n    let inputJSON = `{ \"moves\": [${movesArray}] }`;\r\n\r\n    // generate input.json from user input and save it in Firebase storage of the Quest\r\n    // use snarkjs library to calculate the witness from input.json and save witness.json in Firebase storage of the Quest\r\n    // use snarkjs library to create the proof from witness.json and proving_key.json and save proof.json and public.json in Firebase storage of the Quest\r\n    // run verification via snarkjs verify from verification_key.json, proof.json and public.json and do a window.alert with the result\r\n\r\n    let generateInputProofAndVerify = firebase\r\n      .functions()\r\n      .httpsCallable(\"generateInputProofAndVerify\");\r\n\r\n    let data = {};\r\n    data.cirDef = this.state.cirDef;\r\n    data.provingKey = this.state.provingKey;\r\n    data.inputJSON = inputJSON;\r\n    data.verificationKey = this.state.verificationKey;\r\n\r\n    let response = await generateInputProofAndVerify(data);\r\n\r\n    await this.setState({\r\n      proofJSONresponse: response.data.proofJSONresponse,\r\n      publicJSONresponse: response.data.publicJSONresponse\r\n    });\r\n\r\n    window.alert(response.data.message);\r\n  };\r\n\r\n  onTestVerifierContract = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n\r\n    // use snarkjs library to generate call\r\n\r\n    let data = {};\r\n    data.publicJSONresponse = this.state.publicJSONresponse;\r\n    data.proofJSONresponse = this.state.proofJSONresponse;\r\n\r\n    let testVerifierContract = firebase\r\n      .functions()\r\n      .httpsCallable(\"testVerifierContract\");\r\n\r\n    let response = await testVerifierContract(data);\r\n\r\n    console.log(response);\r\n\r\n    // get Verifier contract address from Firebase database then send call to it\r\n\r\n    let address = questSubmitted.verifierContractAddress;\r\n    const web3 = new Web3(window.web3.currentProvider);\r\n\r\n    let verifierContract = await new web3.eth.Contract(\r\n      JSON.parse(this.state.contractInterface),\r\n      address\r\n    );\r\n    verifierContract.setProvider(window.web3.currentProvider);\r\n\r\n    // return result and show it in window.alert\r\n\r\n    let argumentsForCall = JSON.parse(\"[\" + response.data + \"]\");\r\n    console.log(...argumentsForCall);\r\n\r\n    const check = await verifierContract.methods\r\n      .verifyProof(...argumentsForCall)\r\n      .call();\r\n\r\n    window.alert(check);\r\n\r\n    // clear state\r\n  };\r\n\r\n  onWithdrawClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === parseInt(id, 10))\r\n    };\r\n\r\n    if (questSubmitted.Status !== \"Submitted\") {\r\n      window.alert(\"You cannot withdraw this Quest.\");\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to withdraw the Quest '${questSubmitted.Title}' ?`\r\n      )\r\n    ) {\r\n      questSubmitted.Status = \"Withdrawn\";\r\n      questSubmitted.SubmissionDate = \"\";\r\n\r\n      const result = await this.props.firestore.add(\r\n        { collection: \"QuestsInProgress\" },\r\n        questSubmitted\r\n      );\r\n      await this.props.firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: result.id },\r\n        {\r\n          id: result.id\r\n        }\r\n      );\r\n      await this.props.firestore.delete({\r\n        collection: \"QuestsSubmitted\",\r\n        doc: id\r\n      });\r\n      window.alert(\r\n        \"Your Quest has been properly withdrawn and you can now access it in the Quest Editor.\"\r\n      );\r\n      this.props.history.push(`/questeditor/inprogress/`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsSubmittedFromScribe,\r\n      questsSubmittedFromScribeTotal\r\n    } = this.state;\r\n\r\n    // get authorization to connect to user wallet and instantiate web3\r\n\r\n    const getProvider = async () => {\r\n      await window.web3.currentProvider.enable(); // request authentication\r\n    };\r\n    getProvider();\r\n\r\n    if (questsSubmittedFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests Submitted : <span>{questsSubmittedFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of submission</th>\r\n                <th>Status</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsSubmittedFromScribe.map(questSubmittedFromScribe => (\r\n                <tr key={questSubmittedFromScribe.id}>\r\n                  <td>{questSubmittedFromScribe.Title}</td>\r\n                  <td>{questSubmittedFromScribe.SubmissionDate}</td>\r\n                  <td>{questSubmittedFromScribe.Status}</td>\r\n                  {questSubmittedFromScribe.Status === \"Submitted\" ? (\r\n                    <td>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onWithdrawClick}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        <i className=\"fas fa-arrow-circle-down\" /> Withdraw\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onGenerateVerifier}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Generate Verifier\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onDeployVerifier}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Deploy Verifier\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onGenerateInputProofAndVerify}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Test Proof\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onTestVerifierContract}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Test Verifier\r\n                      </button>\r\n                    </td>\r\n                  ) : (\r\n                    <td> </td>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsSubmitted.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsSubmitted: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsSubmitted\" }]),\r\n  connect((state, props) => ({\r\n    questsSubmitted: state.firestore.ordered.QuestsSubmitted\r\n  }))\r\n)(QuestsSubmitted);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultBackground from \"../../../notredame.jpg\";\r\n\r\nclass NarrationInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    narrationInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToSuddenDeath = () => {\r\n    this.props.setToSuddenDeath();\r\n  };\r\n\r\n  setToVictory = e => {\r\n    this.props.setToVictory(e.target);\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.narrationInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <h4\r\n                style={{\r\n                  fontSize: \"0.8rem\",\r\n                  display: \"inline-block\",\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                Ending Sound\r\n              </h4>{\" \"}\r\n              <input\r\n                type=\"file\"\r\n                accept=\"audio/wav\"\r\n                name=\"endingsound\"\r\n                id={`endingsound ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${followingParagraph.length}`}\r\n                style={{ display: \"none\" }}\r\n                rankinnextparagraphs={followingParagraph.length}\r\n                onChange={this.loadOutcomeSound}\r\n              />\r\n              <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                <label\r\n                  className=\"label-upload\"\r\n                  htmlFor={`endingsound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                  style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n                >\r\n                  (Upload Sound)\r\n                </label>\r\n              </p>\r\n              {this.state.outcomeSoundArray[followingParagraph.length] ? (\r\n                <audio\r\n                  controls\r\n                  src={\r\n                    this.state.outcomeSoundArray[followingParagraph.length]\r\n                      .outcomeSoundURL\r\n                      ? this.state.outcomeSoundArray[followingParagraph.length]\r\n                          .outcomeSoundURL\r\n                      : null\r\n                  }\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    width: \"140px\",\r\n                    height: \"15px\",\r\n                    paddingTop: \"3px\",\r\n                    paddingLeft: \"5px\"\r\n                  }}\r\n                  id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                >\r\n                  Your browser does not support the\r\n                  <code>audio</code> element.\r\n                </audio>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\", zIndex: 1 }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"narrationInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your narration here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.narrationInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n              {this.props.depthNumber === 0 ? null : (\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  {!this.props.isVictory &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Sudden Death</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isSuddenDeath}\r\n                        name=\"suddendeath\"\r\n                        onChange={this.setToSuddenDeath}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                  {!this.props.isSuddenDeath &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Victory</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isVictory}\r\n                        name=\"victory\"\r\n                        onChange={this.setToVictory}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              )}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(NarrationInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DialogueDefaultBackground from \"../../../image assets/dialogue-default-background.jpg\";\r\n\r\nclass DialogueInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    dialogueInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.dialogueInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    const paragraphOutcomes = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        paragraphOutcomes.push(\r\n          <div style={{ marginTop: \"5px\" }}>\r\n            <label\r\n              style={{\r\n                fontWeight: \"400\",\r\n                fontSize: \"0.6rem\",\r\n                lineHeight: \"0.8rem\",\r\n                paddingLeft: \"5px\",\r\n                display: \"inline-block\",\r\n                verticalAlign: \"top\"\r\n              }}\r\n            >\r\n              {`Answer leading to ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  width: \"60%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name={`paragraphOutcomeText${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                  maxLength=\"150\"\r\n                  placeholder={`Write your answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }...`}\r\n                  rows=\"1\"\r\n                  required\r\n                  onChange={this.onChangeOutcomeText}\r\n                  value={\r\n                    this.state.nextParagraphs[paragraphOutcomes.length]\r\n                      ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          .outcomeText\r\n                      : \"\"\r\n                  }\r\n                  data-depnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }\r\n                  data-parnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }\r\n                  style={{\r\n                    fontSize: \"0.6rem\",\r\n                    resize: \"none\",\r\n                    width: \"100%\",\r\n                    top: 0\r\n                  }}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  overflowWrap: \"break-word\",\r\n                  width: \"40%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"audio/wav\"\r\n                  name=\"outcomesound\"\r\n                  id={`outcomesound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${j + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeSound}\r\n                  //  index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />\r\n                <p\r\n                  style={{\r\n                    marginBottom: 0,\r\n                    display: \"inline-block\",\r\n                    paddingLeft: \"5px\",\r\n                    lineHeight: \"0.8\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${j + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.65rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    (Upload Sound)\r\n                  </label>\r\n                </p>\r\n                {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                  <audio\r\n                    controls\r\n                    src={\r\n                      this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                        .outcomeSoundURL\r\n                        ? this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                        : null\r\n                    }\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"140px\",\r\n                      height: \"15px\",\r\n                      paddingBottom: \"3px\",\r\n                      paddingLeft: \"5px\"\r\n                    }}\r\n                    id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${paragraphOutcomes.length}`}\r\n                  >\r\n                    Your browser does not support the\r\n                    <code>audio</code> element.\r\n                  </audio>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DialogueDefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"dialogueInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your dialogue line here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.dialogueInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(DialogueInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Pointers catalogue`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class PointersCatalogue extends Component {\r\n  state = {\r\n    pointerArray: [\r\n      { id: 1, isSelected: true },\r\n      { id: 2, isSelected: false },\r\n      { id: 3, isSelected: false },\r\n      { id: 4, isSelected: false },\r\n      { id: 5, isSelected: false },\r\n      { id: 6, isSelected: false }\r\n    ]\r\n  };\r\n\r\n  selectPointer = e => {\r\n    let pointerArrayWithSelection = this.state.pointerArray;\r\n    pointerArrayWithSelection.forEach(el => (el.isSelected = false));\r\n    pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    this.setState({\r\n      pointerArray: pointerArrayWithSelection\r\n    });\r\n\r\n    this.props.selectPointer(\r\n      this.props.rankinnextparagraphs,\r\n      e.currentTarget.children[0].src\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let pointersCatalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      pointersCatalogue.push(\r\n        <div\r\n          className={`pointer-selection ${\r\n            this.state.pointerArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\" }}\r\n          onClick={this.selectPointer}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"pointer-img\"\r\n            alt=\"pointer\"\r\n            style={{\r\n              height: \"45px\",\r\n              width: \"45px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return <div>{pointersCatalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PointersCatalogue from \"./PointersCatalogue\";\r\n\r\nimport DefaultPathBackground from \"../../../image assets/path-default-background.jpg\";\r\nimport DefaultPointer from \"../../../image assets/Pointers catalogue/1.png\";\r\n\r\nclass PathInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n\r\n  state = {\r\n    pathInputText: \"\",\r\n    selectedPointers: [],\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.nextParagraphs.length !== prevProps.nextParagraphs.length &&\r\n      this.props.isPointAndClickPath === true\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      if (this.props.nextParagraphs.length > prevProps.nextParagraphs.length) {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      }\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = this.props.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n\r\n        updatedSelectedPointers.splice(indexOfDeletedNextParagraph, 1);\r\n      }\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === true &&\r\n      prevProps.isPointAndClickPath === false\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      this.props.nextParagraphs.forEach(() => {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      });\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === false &&\r\n      prevProps.isPointAndClickPath === true\r\n    ) {\r\n      await this.setState({ selectedPointers: [] });\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n\r\n      // adjusting outcomeSoundArray according to the number of next paragraphs\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n        let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n        newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n        this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToPointAndClickPath = () => {\r\n    this.props.setToPointAndClickPath();\r\n  };\r\n\r\n  setToTextualPath = () => {\r\n    this.props.setToTextualPath();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.pathInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectPointer = async (rankInNextParagraphs, imageSRC) => {\r\n    let updatedSelectedPointers = this.state.selectedPointers;\r\n    updatedSelectedPointers[rankInNextParagraphs] = {\r\n      image: imageSRC,\r\n      top: 0,\r\n      left: 0\r\n    };\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointers\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointers);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var pointerInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      pointerInMovement: pointerInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n    pointerInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    pointerInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 50x50 pointer image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      pointerInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 274) {\r\n      pointerInMovement.style.left = 274 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      pointerInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 160) {\r\n      pointerInMovement.style.top = 160 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let rankInNextParagraphs = pointerInMovement.getAttribute(\r\n      \"rankinnextparagraphs\"\r\n    );\r\n    let updatedSelectedPointersWithCoordinates = [];\r\n    this.state.selectedPointers.forEach(el =>\r\n      updatedSelectedPointersWithCoordinates.push({ ...el })\r\n    );\r\n\r\n    updatedSelectedPointersWithCoordinates[\r\n      rankInNextParagraphs\r\n    ].left = parseInt(pointerInMovement.style.left, 10);\r\n    updatedSelectedPointersWithCoordinates[rankInNextParagraphs].top = parseInt(\r\n      pointerInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointersWithCoordinates\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointersWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n    let draggablePointers = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualPath:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Choice leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your path choice to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isPointAndClickPath:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\", position: \"relative\" }}>\r\n                <li className=\"dropdown\">\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    {`Pointer leading to ${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .depthNumber\r\n                    }-${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .paragraphNumber\r\n                    }`}\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                    id={k}\r\n                  >\r\n                    {\r\n                      <PointersCatalogue\r\n                        //  index in the nextParagraphs array --> -1 not included due to different timing in calculation of props value (?)\r\n                        rankinnextparagraphs={paragraphOutcomes.length}\r\n                        selectPointer={this.selectPointer}\r\n                      />\r\n                    }\r\n                  </div>\r\n                </li>\r\n                <img\r\n                  src={\r\n                    this.state.selectedPointers[paragraphOutcomes.length]\r\n                      ? this.state.selectedPointers[paragraphOutcomes.length]\r\n                          .image\r\n                      : DefaultPointer\r\n                  }\r\n                  className=\"card-img-top\"\r\n                  alt=\"Answer by default\"\r\n                  style={{ maxHeight: \"50px\", maxWidth: \"50px\" }}\r\n                  id={`answerIMG ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                />\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    overflowWrap: \"break-word\",\r\n                    width: \"40%\",\r\n                    verticalAlign: \"top\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"audio/wav\"\r\n                    name=\"outcomesound\"\r\n                    id={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{ display: \"none\" }}\r\n                    // index in the nextParagraphs array\r\n                    rankinnextparagraphs={paragraphOutcomes.length}\r\n                    onChange={this.loadOutcomeSound}\r\n                  />\r\n                  <p\r\n                    style={{\r\n                      marginBottom: 0,\r\n                      display: \"inline-block\",\r\n                      paddingLeft: \"5px\",\r\n                      lineHeight: \"0.8rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <label\r\n                      className=\"label-upload\"\r\n                      htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        marginBottom: 0,\r\n                        fontSize: \"0.65rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      (Upload Sound)\r\n                    </label>\r\n                  </p>\r\n                  {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                    <audio\r\n                      controls\r\n                      src={\r\n                        this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                          .outcomeSoundURL\r\n                          ? this.state.outcomeSoundArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeSoundURL\r\n                          : null\r\n                      }\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                        width: \"140px\",\r\n                        height: \"15px\",\r\n                        paddingBottom: \"3px\",\r\n                        paddingLeft: \"5px\"\r\n                      }}\r\n                      id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${paragraphOutcomes.length}`}\r\n                    >\r\n                      Your browser does not support the\r\n                      <code>audio</code> element.\r\n                    </audio>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            );\r\n\r\n            draggablePointers.push(\r\n              <img\r\n                src={\r\n                  this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                    ? this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                        .image\r\n                    : DefaultPointer\r\n                }\r\n                className=\"card-img-top-pointer\"\r\n                alt=\"Answer by default\"\r\n                draggable=\"true\"\r\n                style={{\r\n                  maxHeight: \"50px\",\r\n                  maxWidth: \"50px\",\r\n                  position: \"absolute\",\r\n                  top: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].top\r\n                      : 0\r\n                  }px`,\r\n                  left: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].left\r\n                      : 0\r\n                  }px`\r\n                }}\r\n                id={`draggableIMG ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${k}`}\r\n                onDragStart={this.drag_start}\r\n                // index in the nextParagraphs array\r\n                rankinnextparagraphs={paragraphOutcomes.length - 1}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultPathBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            {draggablePointers}\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"pathInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your path choice description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.pathInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isPointAndClickPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualPath}\r\n                      name=\"textualpath\"\r\n                      onChange={this.setToTextualPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Point & Click</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isPointAndClickPath}\r\n                      name=\"pointandclickpath\"\r\n                      onChange={this.setToPointAndClickPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(PathInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultRiddleQuestion from \"../../../image assets/riddle-default-question.jpg\";\r\nimport DefaultAnswer from \"../../../image assets/riddle-default-answer.jpg\";\r\n\r\nclass RiddleInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeImage = this.loadOutcomeImage.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    riddleInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    outcomeImageArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeImageURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeImageArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeImageURL !== undefined) {\r\n              syncedOutcomeImageArray[index] = {\r\n                outcomeImageCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeImageURL: elem.outcomeImageURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeImageArray: syncedOutcomeImageArray });\r\n        }\r\n      }\r\n    }\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray and outcomeImageArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      newOutcomeImageArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeImageArray: newOutcomeImageArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadOutcomeImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let outcomeImageURL = URL.createObjectURL(e.target.files[0]);\r\n\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      newOutcomeImageArray[rankInNextParagraphs] = {\r\n        outcomeImage: e.target.files[0],\r\n        outcomeImageCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeImageURL\r\n      };\r\n\r\n      this.setState({\r\n        outcomeImageArray: newOutcomeImageArray\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToGraphicalRiddle = () => {\r\n    this.props.setToGraphicalRiddle();\r\n  };\r\n\r\n  setToTextualRiddle = () => {\r\n    this.props.setToTextualRiddle();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.riddleInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArraySounds = [];\r\n    this.state.outcomeSoundArray.forEach(el =>\r\n      inputArraySounds.push({ ...el })\r\n    );\r\n    inputs.push(inputArraySounds);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArrayImages = [];\r\n    this.state.outcomeImageArray.forEach(el =>\r\n      inputArrayImages.push({ ...el })\r\n    );\r\n    inputs.push(inputArrayImages);\r\n\r\n    let resetOutcomeImageArray = this.state.outcomeImageArray;\r\n    resetOutcomeImageArray.map(el => (el.outcomeImageCounter = 0));\r\n    await this.setState({ outcomeImageArray: resetOutcomeImageArray });\r\n\r\n    // pass on inputs to paragraph component\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualRiddle:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your answer leading to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      onChange={this.loadOutcomeSound}\r\n                      // index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isGraphicalRiddle:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <h4\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\",\r\n                    marginBottom: 0\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </h4>\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg, image/png\"\r\n                  name=\"image\"\r\n                  id={`answerimage ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeImage}\r\n                  // index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />{\" \"}\r\n                <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`answerimage ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.6rem\",\r\n                      verticalAlign: \"top\",\r\n                      lineHeight: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    (Upload Image)\r\n                  </label>\r\n                </p>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={\r\n                        this.state.outcomeImageArray[\r\n                          paragraphOutcomes.length\r\n                        ] &&\r\n                        this.state.outcomeImageArray[paragraphOutcomes.length]\r\n                          .outcomeImageURL\r\n                          ? this.state.outcomeImageArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeImageURL\r\n                          : DefaultAnswer\r\n                      }\r\n                      className=\"card-img-top\"\r\n                      alt=\"Answer by default\"\r\n                      style={{ width: \"100%\", maxHeight: \"30px\" }}\r\n                      id={`answerIMG ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${k + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultRiddleQuestion\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"riddleInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your riddle description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.riddleInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isGraphicalRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualRiddle}\r\n                      name=\"textualriddle\"\r\n                      onChange={this.setToTextualRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Graphical</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isGraphicalRiddle}\r\n                      name=\"graphicalriddle\"\r\n                      onChange={this.setToGraphicalRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(RiddleInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Holoween\",\r\n        attackPoints: 6,\r\n        defensePoints: 4,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Nightlyskelly\",\r\n        attackPoints: 8,\r\n        defensePoints: 7,\r\n        healthPoints: 7,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Treep\",\r\n        attackPoints: 7,\r\n        defensePoints: 9,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/elite mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Oger\",\r\n        attackPoints: 10,\r\n        defensePoints: 8,\r\n        healthPoints: 14\r\n      },\r\n      {\r\n        name: \"Kongo\",\r\n        attackPoints: 9,\r\n        defensePoints: 9,\r\n        healthPoints: 13\r\n      },\r\n      {\r\n        name: \"Zoidborg\",\r\n        attackPoints: 7,\r\n        defensePoints: 11,\r\n        healthPoints: 12\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/final bosses`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Ragnarosito\",\r\n        attackPoints: 15,\r\n        defensePoints: 12,\r\n        healthPoints: 20\r\n      },\r\n      {\r\n        name: \"The Beakster\",\r\n        attackPoints: 18,\r\n        defensePoints: 10,\r\n        healthPoints: 16\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport MobMonsterCatalogue from \"./MobMonsterCatalogue\";\r\nimport EliteMobMonsterCatalogue from \"./EliteMobMonsterCatalogue\";\r\nimport FinalBossMonsterCatalogue from \"./FinalBossMonsterCatalogue\";\r\n\r\nimport DefaultCombatBackground from \"../../../image assets/combat-default-background.jpg\";\r\n\r\nclass CombatInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n  }\r\n  state = {\r\n    selectedMonster: {},\r\n    combatInputText: \"\",\r\n    backgroundImageCounter: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.state.selectedMonster !== this.props.selectedMonster) {\r\n      await this.setState({ selectedMonster: this.props.selectedMonster });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage = async e => {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      await this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  };\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  setToMobCombat = async () => {\r\n    if (this.props.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToMobCombat();\r\n  };\r\n  setToEliteMobCombat = async () => {\r\n    if (this.props.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToEliteMobCombat();\r\n  };\r\n  setToFinalBossCombat = async () => {\r\n    if (\r\n      this.props.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and must be of 'Final Boss' type. If you want to change the type of mob, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else {\r\n      if (this.props.isFinalBossCombat) {\r\n        await this.setState({ selectedMonster: {} });\r\n      }\r\n      await this.props.setToFinalBossCombat();\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.combatInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectMonster = async (monsterArray, monsterImage) => {\r\n    let updatedSelectedMonster = { ...this.state.selectedMonster };\r\n    updatedSelectedMonster.characteristics = monsterArray;\r\n    updatedSelectedMonster.image = monsterImage;\r\n    updatedSelectedMonster.left = 0;\r\n    updatedSelectedMonster.top = 0;\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonster\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonster);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var monsterInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      monsterInMovement: monsterInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n    monsterInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    monsterInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 135x135 monster image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      monsterInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 189) {\r\n      monsterInMovement.style.left = 189 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      monsterInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 75) {\r\n      monsterInMovement.style.top = 75 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let updatedSelectedMonsterWithCoordinates = {\r\n      ...this.state.selectedMonster\r\n    };\r\n    updatedSelectedMonsterWithCoordinates.left = parseInt(\r\n      monsterInMovement.style.left,\r\n      10\r\n    );\r\n    updatedSelectedMonsterWithCoordinates.top = parseInt(\r\n      monsterInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonsterWithCoordinates\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonsterWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    let MonsterSelection = [];\r\n\r\n    switch (true) {\r\n      case this.props.isMobCombat:\r\n        MonsterSelection.push(\r\n          <MobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n      case this.props.isEliteMobCombat:\r\n        MonsterSelection.push(\r\n          <EliteMobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      case this.props.isFinalBossCombat:\r\n        MonsterSelection.push(\r\n          <FinalBossMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      default:\r\n        MonsterSelection = [];\r\n    }\r\n\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultCombatBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            <img\r\n              src={this.state.selectedMonster.image}\r\n              className={`card-img-top-monster ${\r\n                this.state.selectedMonster.image ? null : \"hide\"\r\n              }`}\r\n              draggable=\"true\"\r\n              alt=\"monster\"\r\n              style={{\r\n                height: \"135px\",\r\n                width: \"135px\",\r\n                top: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.top\r\n                    : 0\r\n                }px`,\r\n                left: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.left\r\n                    : 0\r\n                }px`\r\n              }}\r\n              onDragStart={this.drag_start}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"combatInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your combat introduction text here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.combatInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                {!this.props.isEliteMobCombat &&\r\n                !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isMobCombat}\r\n                      name=\"mobcombat\"\r\n                      onChange={this.setToMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Elite Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isEliteMobCombat}\r\n                      name=\"elitemobcombat\"\r\n                      onChange={this.setToEliteMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isEliteMobCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Final Boss</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isFinalBossCombat}\r\n                      name=\"finalbosscombat\"\r\n                      onChange={this.setToFinalBossCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n              {this.props.isMobCombat ||\r\n              this.props.isEliteMobCombat ||\r\n              this.props.isFinalBossCombat ? (\r\n                <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    Monster Selection\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                  >\r\n                    {MonsterSelection}\r\n                  </div>\r\n                </li>\r\n              ) : null}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(CombatInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass LinkSelection extends Component {\r\n  state = {\r\n    isLinked: false\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.isLinked) {\r\n      await this.setState({ isLinked: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (prevProps.isLinked !== this.props.isLinked) {\r\n      await this.setState({ isLinked: this.props.isLinked });\r\n    }\r\n  };\r\n\r\n  toggleParagraphLink = async e => {\r\n    let parentNode = e.target.parentNode;\r\n    await this.setState({\r\n      isLinked: !this.state.isLinked\r\n    });\r\n    let result = await this.props.toggleParagraphLink(\r\n      parentNode,\r\n      this.props.depthNumberOfLinkedParagraph,\r\n      this.props.paragraphNumberOfLinkedParagraph,\r\n      this.state.isLinked\r\n    );\r\n    // revert change of state if this.props.toggleParagraphLink indicated that this link cannot be toggled\r\n    if (result === \"unlink\") {\r\n      await this.setState({\r\n        isLinked: !this.state.isLinked\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <h5\r\n        className={`paragraph-link ${this.props.display} ${\r\n          this.state.isLinked ? \"linked\" : \"\"\r\n        }`}\r\n        onClick={this.toggleParagraphLink}\r\n      >\r\n        {this.props.paragraphData.paragraphRegister[this.props.rank]\r\n          .depthNumber === 0\r\n          ? \"START\"\r\n          : `Paragraph ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .depthNumber\r\n            } - ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .paragraphNumber\r\n            }`}\r\n      </h5>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(LinkSelection);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport NarrationInput from \"./NarrationInput\";\r\nimport DialogueInput from \"./DialogueInput\";\r\nimport PathInput from \"./PathInput\";\r\nimport RiddleInput from \"./RiddleInput\";\r\nimport CombatInput from \"./CombatInput\";\r\nimport LinkSelection from \"./LinkSelection\";\r\nimport Spinner from \"../../layout/Spinner\";\r\n\r\nimport {\r\n  addParagraphLink,\r\n  removeParagraphLink,\r\n  setToSuddenDeathInRegister,\r\n  setToVictoryInRegister,\r\n  setParagraphTypeInRegister,\r\n  setParagraphLinkStatusInRegister,\r\n  setToFinalBossInRegister\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass Paragraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.paragraphRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    isSaving: false,\r\n    paragraphType: \"narration\",\r\n    paragraphSubTypes: {\r\n      isSuddenDeath: false,\r\n      isVictory: false,\r\n      isTextualRiddle: false,\r\n      isGraphicalRiddle: false,\r\n      isPointAndClickPath: false,\r\n      isTextualPath: false,\r\n      isMobCombat: false,\r\n      isEliteMobCombat: false,\r\n      isFinalBossCombat: false\r\n    },\r\n    hasLinkToPreviousParagraph: false,\r\n    hasLinkToNextParagraph: false,\r\n    nextParagraphs: [],\r\n    previousParagraphs: [],\r\n    selectedMonster: {},\r\n    backgroundImageURL: \"\",\r\n    startingSoundURL: \"\"\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition\r\n      // && this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.depthNumber === 0) {\r\n      await this.setState({ hasLinkToPreviousParagraph: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (\r\n      this.props.id !== prevProps.id &&\r\n      this.props.QuestUnderEdition\r\n      //&& this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // update paragraph if paragraph link is detected from Redux store\r\n  static getDerivedStateFromProps(props, state) {\r\n    let paragraphInRegister = props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === props.depthNumber &&\r\n        el.paragraphNumber === props.paragraphNumber\r\n    );\r\n    // check if one of the outcomeTexts of the paragraph has been changed\r\n    /*if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs.length > 0 &&\r\n      paragraphInRegister.nextParagraphs.length === state.nextParagraphs.length\r\n    ) {\r\n      let comparisonArray = [];\r\n      var checkOutcomeTexts;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.outcomeText !== elem.outcomeText) {\r\n            comparisonArray.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray.length > 0\r\n        ? (checkOutcomeTexts = true)\r\n        : (checkOutcomeTexts = false);\r\n\r\n      // check if a pointer has been added to a nextParagraph (path paragraph of point & click sub-type)\r\n\r\n      let comparisonArray2 = [];\r\n      var checkSelectedPointers;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.selectedPointer !== elem.selectedPointer) {\r\n            comparisonArray2.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray2.length > 0\r\n        ? (checkSelectedPointers = true)\r\n        : (checkSelectedPointers = false);\r\n    }\r\n\r\n    if (checkOutcomeTexts === true || checkSelectedPointers === true) {\r\n      return null;\r\n    } else*/ if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length > state.nextParagraphs.length\r\n    ) {\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.push(\r\n        paragraphInRegister.nextParagraphs[\r\n          paragraphInRegister.nextParagraphs.length - 1\r\n        ]\r\n      );\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length < state.nextParagraphs.length\r\n    ) {\r\n      let indexOfDeletedParagraph = state.nextParagraphs.findIndex(el =>\r\n        paragraphInRegister.nextParagraphs.find(\r\n          elem => elem.paragraphNumber !== el.paragraphNumber\r\n        )\r\n      );\r\n\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.splice(indexOfDeletedParagraph, 1);\r\n\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs &&\r\n      paragraphInRegister.previousParagraphs.length > 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph:\r\n          paragraphInRegister.hasLinkToPreviousParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs.length === 0 &&\r\n      props.depthNumber !== 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph: false\r\n      };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  deleteParagraph = e => {\r\n    if (this.props.depthNumber === 0) {\r\n      window.alert(\"You cannot delete the starting paragraph.\");\r\n    } else if (\r\n      this.state.hasLinkToNextParagraph ||\r\n      this.state.hasLinkToPreviousParagraph\r\n    ) {\r\n      window.alert(\r\n        \"You cannot delete a paragraph that has links to previous or next paragraphs. You must remove these links first.\"\r\n      );\r\n    } else if (this.state.isSaving) {\r\n      window.alert(\"You cannot delete a paragraph while it is saving.\");\r\n    } else {\r\n      this.props.deleteParagraph(e, this.props.id);\r\n    }\r\n  };\r\n\r\n  saveParagraph = async (\r\n    inputText = null,\r\n    backgroundImage = null,\r\n    startingSound = null,\r\n    outcomeSoundArray = null,\r\n    outcomeImageArray = null\r\n  ) => {\r\n    if (this.state.isSaving) {\r\n      window.alert(\r\n        \"You must wait for the current save to finish before you can save again.\"\r\n      );\r\n    } else {\r\n      await this.setState({ isSaving: true });\r\n      const { firestore, QuestUnderEdition } = this.props;\r\n\r\n      const {\r\n        paragraphType,\r\n        paragraphSubTypes,\r\n        hasLinkToPreviousParagraph,\r\n        hasLinkToNextParagraph,\r\n        nextParagraphs,\r\n        previousParagraphs\r\n      } = this.state;\r\n      const { depthNumber, paragraphNumber, id } = this.props;\r\n\r\n      // shallow copy needed for data synced from Firestore\r\n      let nextParagraphsCopy = [];\r\n      [...this.state.nextParagraphs].forEach(el =>\r\n        nextParagraphsCopy.push({ ...el })\r\n      );\r\n\r\n      const paragraphData = {\r\n        depthNumber,\r\n        paragraphNumber,\r\n        id,\r\n        hasLinkToNextParagraph,\r\n        hasLinkToPreviousParagraph,\r\n        nextParagraphs: nextParagraphsCopy,\r\n        previousParagraphs,\r\n        paragraphSubTypes,\r\n        paragraphType\r\n      };\r\n\r\n      if (inputText) {\r\n        paragraphData.inputText = inputText;\r\n      }\r\n\r\n      if (this.state.paragraphType === \"combat\" && this.state.selectedMonster) {\r\n        paragraphData.selectedMonster = this.state.selectedMonster;\r\n      }\r\n\r\n      if (this.state.backgroundImageURL) {\r\n        paragraphData.backgroundImageURL = this.state.backgroundImageURL;\r\n      }\r\n\r\n      if (this.state.startingSoundURL) {\r\n        paragraphData.startingSoundURL = this.state.startingSoundURL;\r\n      }\r\n\r\n      let paragraphAlreadyInDatabase = QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === id\r\n      );\r\n\r\n      if (paragraphAlreadyInDatabase) {\r\n        (async function() {\r\n          await firestore.update(\r\n            { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphAlreadyInDatabase\r\n              )\r\n            }\r\n          );\r\n        })();\r\n      }\r\n\r\n      // uploading files to Firebase Storage if new files selected, delete existing paragraph files if they are not part of the last save\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      const storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      const storageRef = storage.ref();\r\n      const paragraphRef = storageRef.child(\r\n        `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n          this.props.depthNumber\r\n        } - ${this.props.paragraphNumber}`\r\n      );\r\n      //const paragraphList = await paragraphRef.listAll();\r\n\r\n      if (backgroundImage && backgroundImage !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${this.props.paragraphNumber}`,\r\n          backgroundImage,\r\n          null,\r\n          {\r\n            name: `backgroundImage${backgroundImage.name.substring(\r\n              backgroundImage.name.lastIndexOf(\".\")\r\n            )}`\r\n          }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n            snapshot.uploadTaskSnapshot.metadata.fullPath\r\n          }`\r\n        );\r\n        let backgroundImageURL = await gsReference.getDownloadURL();\r\n        paragraphData.backgroundImageURL = backgroundImageURL;\r\n      } /*else if (\r\n      !backgroundImage &&\r\n      paragraphList.items.find(el => el.fullPath.includes(\"backgroundImage\"))\r\n    ) {\r\n      paragraphRef.child(\"backgroundImage\").delete();\r\n    }*/\r\n\r\n      if (startingSound && startingSound !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${this.props.paragraphNumber}`,\r\n          startingSound,\r\n          null,\r\n          {\r\n            name: `startingSound${startingSound.name.substring(\r\n              startingSound.name.lastIndexOf(\".\")\r\n            )}`\r\n          }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n            snapshot.uploadTaskSnapshot.metadata.fullPath\r\n          }`\r\n        );\r\n\r\n        let startingSoundURL = await gsReference.getDownloadURL();\r\n        paragraphData.startingSoundURL = startingSoundURL;\r\n      } /*else if (\r\n      !startingSound &&\r\n      paragraphList.items.find(el => el.fullPath.includes(\"startingSound\"))\r\n    ) {\r\n      paragraphRef.child(\"startingSound\").delete();\r\n    }*/\r\n\r\n      let outcomeSoundsFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Sounds\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeSound uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeSounds(outcomeSounds) {\r\n        async function processOutcomeSound(outcomeSound) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${this.props.paragraphNumber}/Outcomes/Sounds`,\r\n            outcomeSound.outcomeSound,\r\n            null,\r\n            {\r\n              name: `outcomeSound_${\r\n                outcomeSound.rankInNextParagraphs\r\n              }${outcomeSound.outcomeSound.name.substring(\r\n                outcomeSound.outcomeSound.name.lastIndexOf(\".\")\r\n              )}`\r\n            }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n              snapshot.uploadTaskSnapshot.metadata.fullPath\r\n            }`\r\n          );\r\n          let outcomeSoundURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeSounds.indexOf(outcomeSound)\r\n          ].outcomeSoundURL = outcomeSoundURL;\r\n        }\r\n        let boundedprocessOutcomeSound = processOutcomeSound.bind(this);\r\n        const promises = outcomeSounds.map(boundedprocessOutcomeSound);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeSounds = processOutcomeSounds.bind(this);\r\n\r\n      if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length === 0 &&\r\n        outcomeSoundsFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length > 0 &&\r\n        outcomeSoundsFiles.items.length > outcomeSoundArray.length\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome sounds with a counter of 0\r\n        await boundedprocessOutcomeSounds(outcomeSoundArray);\r\n      } else if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length > 0 &&\r\n        outcomeSoundArray.some(el => el.outcomeSoundCounter === 1)\r\n      ) {\r\n        //filter outcome sounds with a counter of 1\r\n        let outcomeSoundsToUpdate = outcomeSoundArray.filter(\r\n          el => el.outcomeSoundCounter === 1\r\n        );\r\n        // upload only these outcome sounds\r\n        await boundedprocessOutcomeSounds(outcomeSoundsToUpdate);\r\n      }\r\n\r\n      let outcomeImagesFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Images\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeImage uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeImages(outcomeImages) {\r\n        async function processOutcomeImage(outcomeImage) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${this.props.paragraphNumber}/Outcomes/Images`,\r\n            outcomeImage.outcomeImage,\r\n            null,\r\n            {\r\n              name: `outcomeImage_${\r\n                outcomeImage.rankInNextParagraphs\r\n              }${outcomeImage.outcomeImage.name.substring(\r\n                outcomeImage.outcomeImage.name.lastIndexOf(\".\")\r\n              )}`\r\n            }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${\r\n              snapshot.uploadTaskSnapshot.metadata.fullPath\r\n            }`\r\n          );\r\n          let outcomeImageURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeImages.indexOf(outcomeImage)\r\n          ].outcomeImageURL = outcomeImageURL;\r\n        }\r\n        let boundedprocessOutcomeImage = processOutcomeImage.bind(this);\r\n        const promises = outcomeImages.map(boundedprocessOutcomeImage);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeImages = processOutcomeImages.bind(this);\r\n\r\n      if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length === 0 &&\r\n        outcomeImagesFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length > 0 &&\r\n        outcomeImagesFiles.items.length > outcomeImageArray.length\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome images with a counter of 0\r\n        await boundedprocessOutcomeImages(outcomeImageArray);\r\n      } else if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length > 0 &&\r\n        outcomeImageArray.some(el => el.outcomeImageCounter === 1)\r\n      ) {\r\n        //filter outcome images with a counter of 1\r\n        let outcomeImagesToUpdate = outcomeImageArray.filter(\r\n          el => el.outcomeImageCounter === 1\r\n        );\r\n        // upload only these outcome images\r\n        await boundedprocessOutcomeImages(outcomeImagesToUpdate);\r\n      }\r\n\r\n      await firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        {\r\n          Paragraphs: firestore.FieldValue.arrayUnion(paragraphData),\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels,\r\n          NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n      await this.setState({ isSaving: false });\r\n\r\n      // reset the globalSaveCounter every time a Paragraph Save is done\r\n      if (\r\n        this.props.QuestUnderEdition.globalSaveCounter === 1 &&\r\n        !this.props.paragraphData.isGlobalSaving\r\n      ) {\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 0\r\n          }\r\n        );\r\n      }\r\n\r\n      if (!this.props.paragraphData.isGlobalSaving) {\r\n        window.alert(\"Paragraph data has been saved !\");\r\n      }\r\n    }\r\n  };\r\n\r\n  changeParagraphType = e => {\r\n    // check if paragraph is linked to a previous final boss paragraph, if yes paragraph type cannot be changed\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      e.currentTarget.id !== \"narration\" &&\r\n      prevParagraphsInRegister.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A Paragraph linked from a 'Final Boss' Paragraph can only be of 'Narration' type.\"\r\n      );\r\n    } else if (\r\n      this.state.paragraphSubTypes.isFinalBossCombat === true &&\r\n      this.state.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and of 'Final Boss' type. If you want to change the paragraph type, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else if (\r\n      (e.currentTarget.id === \"narration\" || e.currentTarget.id === \"combat\") &&\r\n      this.state.nextParagraphs.length > 1\r\n    ) {\r\n      window.alert(\r\n        \"A paragraph of 'narration' or 'combat' type can only have one next paragraph. You must remove links to next paragraphs.\"\r\n      );\r\n    } else if (\r\n      e.currentTarget.id !== this.state.paragraphType &&\r\n      window.confirm(\r\n        `Are you sure you want to change the Paragraph Type ? \\n \\n All content from the current Paragraph inputs will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      {\r\n        // clear the state from paragraph subtypes\r\n        let keys = Object.keys({ ...this.state.paragraphSubTypes });\r\n        let stateWithClearedParagraphSubtypes = {};\r\n\r\n        for (var j = 0; j < keys.length; j++) {\r\n          stateWithClearedParagraphSubtypes[keys[j]] = false;\r\n        }\r\n\r\n        this.setState({\r\n          paragraphSubTypes: stateWithClearedParagraphSubtypes\r\n        });\r\n\r\n        // clear existing outcome texts/sounds/images\r\n        let clearedNextParagraphs = [];\r\n        [...this.state.nextParagraphs].forEach(el =>\r\n          clearedNextParagraphs.push({ ...el })\r\n        );\r\n        clearedNextParagraphs.map(el => {\r\n          delete el.outcomeText;\r\n          delete el.outcomeSoundURL;\r\n          delete el.outcomeImageURL;\r\n        });\r\n        this.setState({\r\n          nextParagraphs: clearedNextParagraphs\r\n        });\r\n\r\n        // clear selected Monster\r\n        if (this.state.selectedMonster !== {}) {\r\n          this.setState({ selectedMonster: {} });\r\n        }\r\n\r\n        var tabs = e.currentTarget.parentElement.children;\r\n        for (var k = 0; k < tabs.length; k++) {\r\n          tabs[k].className = tabs[k].className.replace(\" active\", \"\");\r\n        }\r\n        e.currentTarget.className += \" active\";\r\n\r\n        this.setState({ paragraphType: e.currentTarget.id });\r\n\r\n        this.props.setParagraphTypeInRegister(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          e.currentTarget.id\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  changeOutcomeText = async (depthNumber, paragraphNumber, outcomeText) => {\r\n    let updatedNextParagraph = {\r\n      ...this.state.nextParagraphs.find(\r\n        el =>\r\n          el.depthNumber === depthNumber &&\r\n          el.paragraphNumber === paragraphNumber\r\n      )\r\n    };\r\n\r\n    updatedNextParagraph.outcomeText = outcomeText;\r\n    let updatedNextParagraphs = [...this.state.nextParagraphs];\r\n\r\n    let index = updatedNextParagraphs.findIndex(\r\n      el =>\r\n        el.depthNumber === depthNumber && el.paragraphNumber === paragraphNumber\r\n    );\r\n\r\n    updatedNextParagraphs[index] = updatedNextParagraph;\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectPointer = async selectedPointers => {\r\n    let updatedNextParagraphs = [];\r\n\r\n    this.state.nextParagraphs.forEach(el =>\r\n      updatedNextParagraphs.push({ ...el })\r\n    );\r\n\r\n    updatedNextParagraphs.map((el, index) => {\r\n      el.selectedPointer = selectedPointers[index];\r\n    });\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectMonster = async selectedMonster => {\r\n    await this.setState({\r\n      selectedMonster: selectedMonster\r\n    });\r\n  };\r\n\r\n  setToSuddenDeath = async e => {\r\n    await this.props.setToSuddenDeathInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isSuddenDeath = !updatedStateSubTypes.isSuddenDeath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToVictory = async target => {\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      prevParagraphsInRegister.length === 0 ||\r\n      !prevParagraphsInRegister.every(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A 'victory' paragraph can only be linked from a 'final boss' paragraph.\"\r\n      );\r\n      target.checked = false;\r\n    } else {\r\n      await this.props.setToVictoryInRegister(\r\n        this.props.depthNumber,\r\n        this.props.paragraphNumber\r\n      );\r\n      let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n      updatedStateSubTypes.isVictory = !updatedStateSubTypes.isVictory;\r\n      await this.setState({\r\n        paragraphSubTypes: updatedStateSubTypes\r\n      });\r\n    }\r\n  };\r\n\r\n  setToTextualRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualRiddle = !updatedStateSubTypes.isTextualRiddle;\r\n\r\n    if (!updatedStateSubTypes.isTextualRiddle) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToGraphicalRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isGraphicalRiddle = !updatedStateSubTypes.isGraphicalRiddle;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToTextualPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualPath = !updatedStateSubTypes.isTextualPath;\r\n\r\n    if (!updatedStateSubTypes.isTextualPath) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToPointAndClickPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isPointAndClickPath = !updatedStateSubTypes.isPointAndClickPath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isMobCombat = !updatedStateSubTypes.isMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToEliteMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isEliteMobCombat = !updatedStateSubTypes.isEliteMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToFinalBossCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isFinalBossCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isFinalBossCombat = !updatedStateSubTypes.isFinalBossCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n    await this.props.setToFinalBossInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n  };\r\n\r\n  toggleParagraphLink = (\r\n    parentNode,\r\n    depthNumberOfLinkedParagraph,\r\n    paragraphNumberOfLinkedParagraph,\r\n    isLinked\r\n  ) => {\r\n    let prevParagraph = this.props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === depthNumberOfLinkedParagraph &&\r\n        el.paragraphNumber === paragraphNumberOfLinkedParagraph\r\n    );\r\n\r\n    switch (true) {\r\n      // if link is made from a Final Boss Paragraph, alert that Paragraph Type must be set to Narration\r\n\r\n      case isLinked &&\r\n        prevParagraph.paragraphSubTypes.isFinalBossCombat &&\r\n        this.state.paragraphType !== \"narration\":\r\n        alert(\r\n          \"Only a Paragraph of 'Narration' Type can be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      // if Paragraph is already set to Victory Type, it can be linked only from previous Final Boss Paragraphs\r\n\r\n      case this.state.paragraphSubTypes.isVictory &&\r\n        !prevParagraph.paragraphSubTypes.isFinalBossCombat:\r\n        alert(\r\n          \"A Paragraph of 'Victory' Type can only be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      case isLinked:\r\n        this.props.addParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        this.setState({\r\n          hasLinkToPreviousParagraph: true\r\n        });\r\n        break;\r\n      case !isLinked:\r\n        this.props.removeParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    // create dropdown list of previous paragraphs that can be potential links to the paragraph\r\n    const paragraphLinksSelection = [];\r\n\r\n    for (\r\n      var i = 0;\r\n      i < this.props.paragraphData.paragraphRegister.length;\r\n      i += 1\r\n    ) {\r\n      // printing all paragraphs from lower depth levels, but hiding \"sudden death\", \"victory\" and already-linked narration or combat paragraphs (only visible for the paragraph linked next)\r\n      if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n          this.props.depthNumber &&\r\n        (this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n          .isSuddenDeath ||\r\n          this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n            .isVictory ||\r\n          ((this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n            \"narration\" ||\r\n            this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n              \"combat\") &&\r\n            this.props.paragraphData.paragraphRegister[i]\r\n              .hasLinkToNextParagraph &&\r\n            !this.props.paragraphData.paragraphRegister[i].nextParagraphs.some(\r\n              nextParagraph =>\r\n                nextParagraph.depthNumber === this.props.depthNumber &&\r\n                nextParagraph.paragraphNumber === this.props.paragraphNumber\r\n            )))\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"hide\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      } else if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n        this.props.depthNumber\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"show\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          margin: \"0px auto\",\r\n          paddingRight: \"20px\",\r\n          verticalAlign: \"top\",\r\n          position: \"relative\"\r\n        }}\r\n        className={this.state.isSaving ? \"isSaving\" : null}\r\n      >\r\n        <div\r\n          className={`card paragraph ${\r\n            this.state.hasLinkToNextParagraph ? \"linked-to-next\" : null\r\n          } ${\r\n            this.state.hasLinkToPreviousParagraph ? \"linked-to-previous\" : null\r\n          } ${\r\n            this.state.paragraphSubTypes.isSuddenDeath ? \"suddendeath\" : null\r\n          } ${this.state.paragraphSubTypes.isVictory ? \"victory\" : null}`}\r\n          ref={this.paragraphRef}\r\n        >\r\n          {this.state.isSaving ? (\r\n            <Spinner\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -40%)\",\r\n                marginTop: \"-50px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <div className=\"card-header\">\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"narration\" ? \"active\" : null}`}\r\n              id=\"narration\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Narration\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"dialogue\" ? \"active\" : null}`}\r\n              id=\"dialogue\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Dialogue\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"path\" ? \"active\" : null}`}\r\n              id=\"path\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Path\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"riddle\" ? \"active\" : null}`}\r\n              id=\"riddle\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Riddle\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"combat\" ? \"active\" : null}`}\r\n              id=\"combat\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Combat\r\n            </button>\r\n          </div>\r\n          <h3\r\n            className=\"card-title\"\r\n            style={{\r\n              fontSize: \"1rem\",\r\n              marginBottom: \"5px\",\r\n              marginTop: \"5px\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {this.props.depthNumber === 0\r\n              ? \"START\"\r\n              : ` ${this.props.depthNumber} - ${\r\n                  this.props.newParagraphNumber\r\n                    ? this.props.newParagraphNumber\r\n                    : this.props.paragraphNumber\r\n                }`}\r\n          </h3>\r\n          {this.props.depthNumber === 0 ? null : (\r\n            <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n              <a\r\n                className=\"dropdown-toggle\"\r\n                href=\"#\"\r\n                id=\"dropdown03\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  paddingLeft: \"10px\"\r\n                }}\r\n              >\r\n                Paragraph linked from\r\n              </a>\r\n              <div\r\n                className=\"dropdown-menu\"\r\n                aria-labelledby=\"dropdown03\"\r\n                style={{\r\n                  backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                  maxHeight: \"150px\",\r\n                  overflowY: \"scroll\",\r\n                  border: \"2px solid black\"\r\n                }}\r\n              >\r\n                {paragraphLinksSelection}\r\n              </div>\r\n            </li>\r\n          )}\r\n          {this.state.paragraphType === \"narration\" ? (\r\n            <NarrationInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToSuddenDeath={this.setToSuddenDeath}\r\n              setToVictory={this.setToVictory}\r\n              isVictory={this.state.paragraphSubTypes.isVictory}\r\n              isSuddenDeath={this.state.paragraphSubTypes.isSuddenDeath}\r\n              hasLinkToNextParagraph={this.state.hasLinkToNextParagraph}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"dialogue\" ? (\r\n            <DialogueInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"path\" ? (\r\n            <PathInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualPath={this.setToTextualPath}\r\n              setToPointAndClickPath={this.setToPointAndClickPath}\r\n              isTextualPath={this.state.paragraphSubTypes.isTextualPath}\r\n              isPointAndClickPath={\r\n                this.state.paragraphSubTypes.isPointAndClickPath\r\n              }\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              selectPointer={this.selectPointer}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"riddle\" ? (\r\n            <RiddleInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualRiddle={this.setToTextualRiddle}\r\n              setToGraphicalRiddle={this.setToGraphicalRiddle}\r\n              isTextualRiddle={this.state.paragraphSubTypes.isTextualRiddle}\r\n              isGraphicalRiddle={this.state.paragraphSubTypes.isGraphicalRiddle}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"combat\" ? (\r\n            <CombatInput\r\n              selectMonster={this.selectMonster}\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToMobCombat={this.setToMobCombat}\r\n              setToEliteMobCombat={this.setToEliteMobCombat}\r\n              setToFinalBossCombat={this.setToFinalBossCombat}\r\n              isMobCombat={this.state.paragraphSubTypes.isMobCombat}\r\n              isEliteMobCombat={this.state.paragraphSubTypes.isEliteMobCombat}\r\n              isFinalBossCombat={this.state.paragraphSubTypes.isFinalBossCombat}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              selectedMonster={this.state.selectedMonster}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.questID\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      paragraphData: state.paragraphData,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addParagraphLink,\r\n      removeParagraphLink,\r\n      setToSuddenDeathInRegister,\r\n      setToVictoryInRegister,\r\n      setParagraphTypeInRegister,\r\n      setParagraphLinkStatusInRegister,\r\n      setToFinalBossInRegister\r\n    }\r\n  )\r\n)(Paragraph);\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_TO_FINALBOSS,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"./types\";\r\n\r\nexport const addParagraphToTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_TO_TOTAL,\r\n    paragraphToAddInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber,\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: false,\r\n      paragraphType: \"narration\",\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  };\r\n};\r\n\r\nexport const decreaseParagraphFromTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: DECREASE_PARAGRAPH_FROM_TOTAL,\r\n    paragraphToDeleteInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToSuddenDeathInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_SUDDEN_DEATH,\r\n    paragraphToSetToSuddenDeathInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToVictoryInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_VICTORY,\r\n    paragraphToSetToVictoryInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToFinalBossInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_FINALBOSS,\r\n    paragraphToSetToFinalBossInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setParagraphTypeInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  paragraphType\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_TYPE,\r\n    paragraphType: paragraphType,\r\n    paragraphToUpdateInRegisterWithType: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\n// single function to handle update of hasLinkToNextParagraph and hasLinkToPreviousParagraph\r\nexport const setParagraphLinkStatusInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  nextorprevious,\r\n  status\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_LINK_STATUS,\r\n    paragraphToUpdateInRegisterWithLinkStatus: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    },\r\n    nextorprevious,\r\n    status\r\n  };\r\n};\r\n\r\nexport const addParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_LINK,\r\n    paragraphLinkToAddInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: REMOVE_PARAGRAPH_LINK,\r\n    paragraphLinkToRemoveInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const syncRegistersInRedux = (\r\n  paragraphRegisterFromFirestore,\r\n  paragraphLinkRegisterFromFirestore,\r\n  numDepthLevelsFromFirestore\r\n) => {\r\n  return {\r\n    type: SYNC_REGISTERS_IN_REDUX,\r\n    paragraphRegisterFromFirestore,\r\n    paragraphLinkRegisterFromFirestore,\r\n    numDepthLevelsFromFirestore\r\n  };\r\n};\r\n\r\nexport const setToGlobalSaving = () => {\r\n  return {\r\n    type: SET_TO_GLOBAL_SAVING\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Paragraph from \"./Paragraph\";\r\n\r\nclass DepthLevel extends Component {\r\n  onDeleteParagraph = async (e, paragraphID) => {\r\n    const parNumber = parseInt(e.target.getAttribute(\"paragraphnumber\"), 10);\r\n    if (this.state.paragraphsInDepthLevel > 1) {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to delete this paragraph ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n        )\r\n      ) {\r\n        // removing paragraph in state, then filling the empty slot by cloning the next paragraphs and decreasing their paragraph number\r\n        await this.props.decreaseParagraphFromTotal(\r\n          this.props.depthNumber,\r\n          parNumber\r\n        );\r\n        await this.setState({\r\n          paragraphsInDepthLevel: this.state.paragraphsInDepthLevel - 1,\r\n          paragraphsArray: this.state.paragraphsArray.filter((el, index) => {\r\n            return index + 1 !== parNumber;\r\n          })\r\n        });\r\n\r\n        let paragraphsToUpdate = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index >= parNumber - 1;\r\n          }\r\n        );\r\n\r\n        let paragraphsToUpdateFinal = [];\r\n\r\n        paragraphsToUpdate.forEach(el => {\r\n          paragraphsToUpdateFinal.push(\r\n            React.cloneElement(el, {\r\n              paragraphNumber: el.props.paragraphNumber - 1\r\n            })\r\n          );\r\n        });\r\n\r\n        let paragraphsUnchanged = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index < parNumber - 1;\r\n          }\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphsArray: [...paragraphsUnchanged, ...paragraphsToUpdateFinal]\r\n        });\r\n      }\r\n      // delete in Firestore database if paragraph has already been saved + update paragraphRegister and paragraphLinkRegister\r\n      const { firestore } = this.props;\r\n      let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === paragraphID\r\n      );\r\n\r\n      if (paragraphToDeleteInDatabase) {\r\n        await firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            Paragraphs: firestore.FieldValue.arrayRemove(\r\n              paragraphToDeleteInDatabase\r\n            ),\r\n            NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n            paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n            paragraphLinkRegister: this.props.paragraphData\r\n              .paragraphLinkRegister\r\n          }\r\n        );\r\n\r\n        // delete files in Firebase Storage if existing\r\n\r\n        // Get a reference to the storage service, which is used to create references in your storage bucket\r\n        const storage = this.props.firebase.storage();\r\n\r\n        // Create a storage reference from our storage service\r\n        const storageRef = storage.ref();\r\n        const paragraphRef = storageRef.child(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${parNumber}`\r\n        );\r\n        const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n        // delete startingSound and backgroundImage\r\n        if (paragraphList.items.length > 0) {\r\n          paragraphList.items.forEach(el => el.delete());\r\n        }\r\n        // delete outcome sounds and images if present\r\n        if (paragraphList.prefixes.length > 0) {\r\n          const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n          const soundsList = await soundsFolder.listAll();\r\n\r\n          soundsList.items.forEach(el => el.delete());\r\n\r\n          const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n          const imagesList = await imagesFolder.listAll();\r\n\r\n          imagesList.items.forEach(el => el.delete());\r\n        }\r\n      }\r\n    } else {\r\n      window.alert(\r\n        \"You cannot delete this paragraph, because there must be at least one paragraph in each depth level.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  state = {\r\n    paragraphsInDepthLevel: 1,\r\n    paragraphsArray: [\r\n      <Paragraph\r\n        key={1}\r\n        id={uuid.v4()}\r\n        paragraphNumber={1}\r\n        depthNumber={this.props.depthNumber}\r\n        deleteParagraph={this.onDeleteParagraph}\r\n        questID={this.props.questID}\r\n        numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n        bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n      />\r\n    ],\r\n    linkedParagraphs: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      let paragraphsToPrint = this.props.QuestUnderEdition.Paragraphs.filter(\r\n        el => el.depthNumber === this.props.depthNumber\r\n      );\r\n\r\n      if (paragraphsToPrint.length > 0) {\r\n        let linkedParagraphs = paragraphsToPrint.filter(\r\n          el => el.hasLinkToPreviousParagraph === true\r\n        );\r\n\r\n        // finding out the highest paragraph number among the saved paragraphs, then filling the paragraphsArrayFromFirestore Array with default paragraphs\r\n        let parNumberArray = [];\r\n        paragraphsToPrint.forEach(el =>\r\n          parNumberArray.push(el.paragraphNumber)\r\n        );\r\n        let max = parNumberArray.reduce(function(a, b) {\r\n          return Math.max(a, b);\r\n        });\r\n\r\n        let paragraphsArrayFromFirestore = [];\r\n\r\n        for (var i = 1; i <= max; i++) {\r\n          paragraphsArrayFromFirestore.push(\r\n            <Paragraph\r\n              key={i - 1}\r\n              id={uuid.v4()}\r\n              paragraphNumber={i}\r\n              depthNumber={this.props.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.questID}\r\n              numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        }\r\n\r\n        // replacing default paragraphs with saved paragraphs\r\n\r\n        paragraphsToPrint.forEach(el => {\r\n          paragraphsArrayFromFirestore[el.paragraphNumber - 1] = (\r\n            <Paragraph\r\n              key={el.paragraphNumber - 1}\r\n              id={el.id}\r\n              paragraphNumber={el.paragraphNumber}\r\n              depthNumber={el.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.QuestUnderEdition.id}\r\n              numDepthLevels={this.props.QuestUnderEdition.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        });\r\n\r\n        await this.setState({\r\n          paragraphsInDepthLevel: paragraphsToPrint.length,\r\n          linkedParagraphs: linkedParagraphs.length,\r\n          paragraphsArray: paragraphsArrayFromFirestore\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onAddParagraph = async () => {\r\n    await this.setState({\r\n      paragraphsInDepthLevel: this.state.paragraphsInDepthLevel + 1\r\n    });\r\n\r\n    await this.setState({\r\n      paragraphsArray: [\r\n        ...this.state.paragraphsArray,\r\n        <Paragraph\r\n          key={this.state.paragraphsInDepthLevel}\r\n          paragraphNumber={this.state.paragraphsInDepthLevel}\r\n          depthNumber={this.props.depthNumber}\r\n          id={uuid.v4()}\r\n          deleteParagraph={this.onDeleteParagraph}\r\n          questID={this.props.questID}\r\n          numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n          bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n        />\r\n      ]\r\n    });\r\n    await this.props.addParagraphToTotal(\r\n      this.props.depthNumber,\r\n      this.state.paragraphsInDepthLevel\r\n    );\r\n\r\n    this.el.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"center\",\r\n      inline: \"center\"\r\n    });\r\n  };\r\n\r\n  onDeleteDepthLevel = async e => {\r\n    let linkedParagraphs = e.currentTarget.parentElement.parentElement.children[1].getElementsByClassName(\r\n      \"linked-to-previous\"\r\n    );\r\n\r\n    if (linkedParagraphs.length !== 0) {\r\n      window.alert(\r\n        \"This depth level contains paragraphs that are linked to next or previous paragraphs. You must remove these links before you can delete these paragraphs and the depth level.\"\r\n      );\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to delete this depth level ? \\n \\n All content from the paragraphs inside this depth level will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      for (var i = 1; i <= this.state.paragraphsInDepthLevel; i += 1) {\r\n        // delete paragraph in Redux store\r\n        await this.props.decreaseParagraphFromTotal(this.props.depthNumber, i);\r\n\r\n        // delete paragraph in Firestore database and Firebase Storage if present\r\n        const { firestore } = this.props;\r\n        let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.state.paragraphsArray[i - 1].props.id\r\n        );\r\n\r\n        if (paragraphToDeleteInDatabase) {\r\n          await firestore.update(\r\n            {\r\n              collection: \"QuestsInProgress\",\r\n              doc: this.props.QuestUnderEdition.id\r\n            },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphToDeleteInDatabase\r\n              )\r\n            }\r\n          );\r\n\r\n          // delete files in Firebase Storage if existing\r\n\r\n          // Get a reference to the storage service, which is used to create references in your storage bucket\r\n          const storage = this.props.firebase.storage();\r\n\r\n          // Create a storage reference from our storage service\r\n          const storageRef = storage.ref();\r\n          const paragraphRef = storageRef.child(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${i}`\r\n          );\r\n          const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n          // delete startingSound and backgroundImage\r\n          if (paragraphList.items.length > 0) {\r\n            paragraphList.items.forEach(el => el.delete());\r\n          }\r\n          // delete outcome sounds and images if present\r\n          if (paragraphList.prefixes.length > 0) {\r\n            const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n            const soundsList = await soundsFolder.listAll();\r\n\r\n            soundsList.items.forEach(el => el.delete());\r\n\r\n            const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n            const imagesList = await imagesFolder.listAll();\r\n\r\n            imagesList.items.forEach(el => el.delete());\r\n          }\r\n        }\r\n      }\r\n\r\n      await this.props.deleteDepthLevel();\r\n      await this.props.firestore.update(\r\n        {\r\n          collection: \"QuestsInProgress\",\r\n          doc: this.props.QuestUnderEdition.id\r\n        },\r\n        {\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n          //NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          // paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          // paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          className=\"level-depth-separation\"\r\n          style={{ textAlign: \"center\", marginTop: \"10px\" }}\r\n        >\r\n          <h5 style={{ display: \"inline-block\", marginBottom: \"0.25rem\" }}>\r\n            Depth Level {this.props.depthNumber}\r\n          </h5>\r\n          {this.props.depthNumber ===\r\n          this.props.numDepthLevels.numDepthLevels - 1 ? (\r\n            <button\r\n              style={{\r\n                display: \"inline-block\",\r\n                backgroundColor: \"transparent\",\r\n                border: \"none\"\r\n              }}\r\n              onClick={this.onDeleteDepthLevel}\r\n            >\r\n              <i className=\"fas fa-trash-alt\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            display: \"flex\",\r\n            overflowX: \"auto\"\r\n          }}\r\n        >\r\n          {this.state.paragraphsArray}\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Add Paragraph\"\r\n            className=\"btn btn-dark btn-block\"\r\n            style={{ width: \"auto\", margin: \"auto\" }}\r\n            onClick={this.onAddParagraph}\r\n            ref={el => {\r\n              this.el = el;\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.QuestUnderEdition.id\r\n    }\r\n  ]),\r\n  connect(state => ({\r\n    numDepthLevels: state.numDepthLevels,\r\n    paragraphNumberTotal: state.paragraphNumberTotal,\r\n    paragraphData: state.paragraphData\r\n  }))\r\n)(DepthLevel);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { Prompt } from \"react-router-dom\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport Paragraph from \"./Paragraph\";\r\nimport DepthLevel from \"./DepthLevel\";\r\n\r\nimport {\r\n  addDepthLevel,\r\n  decreaseDepthLevel,\r\n  clearQuestData\r\n} from \"../../../actions/depthLevelActions\";\r\nimport {\r\n  addParagraphToTotal,\r\n  decreaseParagraphFromTotal,\r\n  syncRegistersInRedux,\r\n  setToGlobalSaving\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass QuestBuilder extends Component {\r\n  state = {\r\n    initialID: \"\",\r\n    isLoading: true,\r\n    bytesLimitForUploads: 5000000\r\n  };\r\n\r\n  scrollToTarget(target) {\r\n    target.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  onAddDepthLevel = async () => {\r\n    let targetScroll = document.getElementById(\"targetscroll\");\r\n\r\n    await this.props.addDepthLevel(this.state.numDepthLevels);\r\n\r\n    await this.props.addParagraphToTotal(\r\n      this.props.numDepthLevels.numDepthLevels - 1,\r\n      1\r\n    );\r\n    this.scrollToTarget(targetScroll);\r\n  };\r\n\r\n  onDeleteDepthLevel = targetScroll => {\r\n    this.props.decreaseDepthLevel(this.state.numDepthLevels);\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition !== undefined &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies, also adjusting numDepthLevels in Redux\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    } else await this.setState({ isLoading: true });\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidUpdate = async prevProps => {\r\n    // sync only if change of QuestUnderEdition props while previous QuestUnderEdition props is undefined or has a different id and new QuestUnderEdition.id props match the id in the route\r\n    if (\r\n      this.props.QuestUnderEdition !== prevProps.QuestUnderEdition &&\r\n      (prevProps.QuestUnderEdition === undefined ||\r\n        (prevProps.QuestUnderEdition.id &&\r\n          prevProps.QuestUnderEdition.id !== this.props.match.params.id)) &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    }\r\n\r\n    if (\r\n      this.props.numDepthLevels.numDepthLevels !==\r\n      prevProps.numDepthLevels.numDepthLevels\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount = async () => {\r\n    this.props.clearQuestData();\r\n  };\r\n\r\n  onSaveUnderEdition = async e => {\r\n    // inform all paragraphs that a global save is ongoing to stop the normal \"paragraph data has been saved\" message\r\n    await this.props.setToGlobalSaving();\r\n\r\n    // getting HMTLCollection then array of all \"Save Paragraph\" buttons\r\n    let saveInputElementsHTMLCollection = document.getElementsByClassName(\r\n      \"paragraph-save\"\r\n    );\r\n    let saveInputElementsArray = Array.from(saveInputElementsHTMLCollection);\r\n\r\n    // programmatically click on all of them\r\n    saveInputElementsArray.map(el => el.click());\r\n\r\n    // leave 1 second so Paragraphs have the state of \"isSaving\" as true after clicking on them\r\n    let checkIfSavingIsFinished = () => {\r\n      setTimeout(checkHTMLCollection, 2000);\r\n    };\r\n\r\n    // loop until all paragraphs have the state of \"isSaving\" as false\r\n    let checkHTMLCollection = async () => {\r\n      let paragraphsSavingHTMLCollection = document.getElementsByClassName(\r\n        \"isSaving\"\r\n      );\r\n      if (paragraphsSavingHTMLCollection.length === 0) {\r\n        // mark the QuestUnderEdition as having gone through a Global Save\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 1\r\n          }\r\n        );\r\n        // remove isGlobalSaving in Redux\r\n        await this.props.setToGlobalSaving();\r\n        window.alert(\"Full save complete !\");\r\n      } else checkIfSavingIsFinished();\r\n    };\r\n\r\n    // this bindings to access this.props and function execution\r\n    checkIfSavingIsFinished.bind(this);\r\n    checkHTMLCollection.bind(this);\r\n    checkIfSavingIsFinished();\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoading) {\r\n      const depthLevels = [];\r\n      const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n      for (var i = 1; i < this.state.numDepthLevels; i += 1) {\r\n        depthLevels.push(\r\n          <DepthLevel\r\n            key={i}\r\n            depthNumber={i}\r\n            addParagraphToTotal={this.props.addParagraphToTotal}\r\n            decreaseParagraphFromTotal={this.props.decreaseParagraphFromTotal}\r\n            deleteDepthLevel={this.onDeleteDepthLevel}\r\n            numDepthLevels={this.state.numDepthLevels}\r\n            QuestUnderEdition={\r\n              this.props.QuestUnderEdition ? this.props.QuestUnderEdition : null\r\n            }\r\n            bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n          />\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div className=\"quest-builder-container\">\r\n          <Prompt\r\n            message={`Are you sure you want to leave the page ? All unsaved changes will be lost.`}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n            <h2\r\n              style={{\r\n                position: \"relative\",\r\n                margin: \"auto\",\r\n                display: \"inline-block\",\r\n                textAlign: \"center\",\r\n                left: \"50%\",\r\n                transform: \"translateX(-50%)\"\r\n              }}\r\n            >\r\n              Quest Builder\r\n            </h2>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Global Save\"\r\n              className=\"btn btn-dark btn-block\"\r\n              style={{\r\n                width: \"auto\",\r\n                float: \"right\",\r\n                marginRight: \"20px\",\r\n                display: \"inline-block\"\r\n              }}\r\n              id=\"savequest\"\r\n              onClick={this.onSaveUnderEdition}\r\n            />\r\n            <hr />\r\n            <h3\r\n              style={{\r\n                textAlign: \"center\",\r\n                fontStyle: \"italic\",\r\n                display: \"block\"\r\n              }}\r\n            >\r\n              {QuestUnderEdition.Title}\r\n            </h3>\r\n          </div>\r\n          <div className=\"depth-levels-container\" style={{ marginTop: \"10px\" }}>\r\n            <div className=\"depth-level-0\">\r\n              <div\r\n                className=\"level-depth-separation\"\r\n                style={{ textAlign: \"center\" }}\r\n              >\r\n                <h5>Depth Level 0</h5>\r\n              </div>\r\n              <Paragraph\r\n                key={1}\r\n                id={this.state.initialID}\r\n                depthNumber={0}\r\n                paragraphNumber={1}\r\n                bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n              />\r\n              <div\r\n                className=\"depth-level-additional\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                {depthLevels}\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Add Another Depth Level\"\r\n                  className=\"btn btn-dark btn-block\"\r\n                  onClick={e => this.onAddDepthLevel(e)}\r\n                  style={{ marginTop: \"5px\" }}\r\n                  id=\"targetscroll\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addDepthLevel,\r\n      decreaseDepthLevel,\r\n      addParagraphToTotal,\r\n      decreaseParagraphFromTotal,\r\n      syncRegistersInRedux,\r\n      clearQuestData,\r\n      setToGlobalSaving\r\n    }\r\n  )\r\n)(QuestBuilder);\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA\r\n} from \"./types\";\r\n\r\nexport const addDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: ADD_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const decreaseDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: DECREASE_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const clearQuestData = () => {\r\n  return {\r\n    type: CLEAR_QUEST_DATA\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // create refs\r\n    this.TitleInput = React.createRef();\r\n    this.TagsInput = React.createRef();\r\n    this.PriceInput = React.createRef();\r\n    this.LevelInput = React.createRef();\r\n    this.LinkInput = React.createRef();\r\n    this.LocationInput = React.createRef();\r\n    this.SummaryInput = React.createRef();\r\n  }\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, QuestUnderEdition } = this.props;\r\n\r\n    const questUpdate = {\r\n      Title: this.TitleInput.current.value,\r\n      Tags: this.TagsInput.current.value,\r\n      Price: this.PriceInput.current.value,\r\n      Level: this.LevelInput.current.value,\r\n      Link: this.LinkInput.current.value,\r\n      Location: this.LocationInput.current.value,\r\n      Summary: this.SummaryInput.current.value,\r\n      LastEditDate: curday()\r\n    };\r\n\r\n    firestore\r\n      .update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        questUpdate\r\n      )\r\n      .then(() => this.props.history.push(\"/questeditor/inprogress/\"));\r\n  };\r\n\r\n  render() {\r\n    const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n    if (QuestUnderEdition) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\",\r\n            width: \"60%\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\",\r\n              paddingTop: \"15px\"\r\n            }}\r\n          >\r\n            Quest Parameters{\" \"}\r\n          </h1>\r\n          <div style={{ height: \"15px\" }} />\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/inprogress/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Quests in Progress\r\n            </Link>\r\n          </div>\r\n          <form onSubmit={this.onSubmit}>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Title\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Title}\r\n                  onChange={this.onChange}\r\n                  ref={this.TitleInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                  Tags\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Tags\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Tags}\r\n                  onChange={this.onChange}\r\n                  ref={this.TagsInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                  Price\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Price\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Price}\r\n                  onChange={this.onChange}\r\n                  ref={this.PriceInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                  Level\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Level\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Level}\r\n                  onChange={this.onChange}\r\n                  ref={this.LevelInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                  Link\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Link\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Link}\r\n                  onChange={this.onChange}\r\n                  ref={this.LinkInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                  Location\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Location\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Location}\r\n                  onChange={this.onChange}\r\n                  ref={this.LocationInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{\r\n                paddingLeft: \"10px\",\r\n                paddingRight: \"10px\",\r\n                paddingBottom: \"10px\"\r\n              }}\r\n            >\r\n              <label className=\"label-parameter\" htmlFor=\"Text\">\r\n                Summary\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Summary\"\r\n                maxLength=\"100\"\r\n                rows=\"2\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                defaultValue={QuestUnderEdition.Summary}\r\n                onChange={this.onChange}\r\n                ref={this.SummaryInput}\r\n              />\r\n            </div>\r\n            <div style={{ height: \"10px\" }} />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                left: \"50%\",\r\n                position: \"absolute\",\r\n                transform: \"translateX(-50%)\",\r\n                marginTop: \"15px\"\r\n              }}\r\n            >\r\n              Save and update quest parameters{\" \"}\r\n            </button>\r\n          </form>\r\n          <div className=\"row\">\r\n            <Link\r\n              to={`/questeditor/questbuilder/${QuestUnderEdition.id}`}\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                width: \"25%\",\r\n                margin: \"auto\",\r\n                display: \"block\",\r\n                marginTop: \"65px\"\r\n              }}\r\n            >\r\n              Go to Quest Builder\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestDetails.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    QuestUnderEdition: ordered.QuestUnderEdition && ordered.QuestUnderEdition[0]\r\n  }))\r\n)(QuestDetails);\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Alert = props => {\r\n  const { message, messageType } = props;\r\n  return (\r\n    <div\r\n      className={classnames(\"alert\", {\r\n        \"alert-ok\": messageType === \"success\",\r\n        \"alert-failed\":\r\n          messageType === \"error-login\" || messageType === \"error-register\"\r\n      })}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nAlert.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n  messageType: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Alert;\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n    firebase\r\n      .login({\r\n        email,\r\n        password\r\n      })\r\n      .catch(err => notifyUser(\"Invalid Login Credentials !\", \"error-login\"));\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-login\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-login\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fas fa-lock\" /> Login\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Login\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Login);\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    accountName: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password, accountName } = this.state;\r\n    //Register with firebase\r\n    await firebase\r\n      .createUser({ email, password })\r\n      .catch(err => notifyUser(\"That User Already Exists\", \"error-register\"));\r\n    var user = await firebase.auth().currentUser;\r\n    if (user) {\r\n      await user.updateProfile({ displayName: accountName });\r\n      this.props.history.push(\"/questeditor/menu/\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-register\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-register\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fa fa-user-circle\" /> Register\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"accountName\">Account Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"accountName\"\r\n                      required\r\n                      value={this.state.accountName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      minLength=\"6\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Register\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTyopes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Register);\r\n","import React, { Component } from \"react\";\r\n\r\nclass AppComponent extends Component {\r\n  state = {\r\n    numChildren: 0\r\n  };\r\n\r\n  render() {\r\n    const children = [];\r\n\r\n    for (var i = 0; i < this.state.numChildren; i += 1) {\r\n      children.push(<ChildComponent key={i} number={i} />);\r\n    }\r\n\r\n    return (\r\n      <ParentComponent addChild={this.onAddChild}>{children}</ParentComponent>\r\n    );\r\n  }\r\n\r\n  onAddChild = () => {\r\n    this.setState({\r\n      numChildren: this.state.numChildren + 1\r\n    });\r\n  };\r\n}\r\n\r\nconst ParentComponent = props => (\r\n  <div className=\"card calculator\">\r\n    <p>\r\n      <a href=\"#\" onClick={props.addChild}>\r\n        Add Another Child Component\r\n      </a>\r\n    </p>\r\n    <div id=\"children-pane\">{props.children}</div>\r\n  </div>\r\n);\r\n\r\nconst ChildComponent = props => <div>{\"I am child \" + props.number}</div>;\r\n\r\nexport default AppComponent;\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./components/store\";\nimport { UserIsAuthenticated, UserIsNotAuthenticated } from \"./helpers/auth\";\n\nimport \"./App.css\";\n\nimport AppNavbar from \"./components/layout/AppNavbar\";\nimport QuestEditorMenu from \"./components/questeditor/QuestEditorMenu\";\nimport NewQuest from \"./components/questeditor/NewQuest\";\nimport QuestsInProgress from \"./components/questeditor/QuestsInProgress\";\nimport QuestsSubmitted from \"./components/questeditor/QuestsSubmitted\";\nimport QuestBuilder from \"./components/questeditor/questbuilder/QuestBuilder\";\nimport QuestDetails from \"./components/questeditor/QuestDetails\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport AppComponent from \"./components/TestChildClick\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <AppNavbar />\n            <Switch>\n              <Route\n                exact\n                path=\"/login/\"\n                component={UserIsNotAuthenticated(Login)}\n              />\n              <Route\n                exact\n                path=\"/register/\"\n                component={UserIsNotAuthenticated(Register)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/menu/\"\n                component={UserIsAuthenticated(QuestEditorMenu)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/newquest/\"\n                component={UserIsAuthenticated(NewQuest)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/inprogress/\"\n                component={UserIsAuthenticated(QuestsInProgress)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/submitted/\"\n                component={UserIsAuthenticated(QuestsSubmitted)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/questbuilder/:id\"\n                component={UserIsAuthenticated(QuestBuilder)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/details/:id\"\n                component={UserIsAuthenticated(QuestDetails)}\n              />\n              <Route\n                exact\n                path=\"/appcomponent\"\n                component={UserIsAuthenticated(AppComponent)}\n              />\n            </Switch>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}