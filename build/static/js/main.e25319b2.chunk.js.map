{"version":3,"sources":["image assets/Pointers catalogue/1.png","../node_modules/shelljs/src sync /^/.*$","image assets/Pointers catalogue sync nonrecursive /.(png|jpe?g|svg)$","image assets/Pointers catalogue/2.png","image assets/Pointers catalogue/3.png","image assets/Pointers catalogue/4.png","image assets/Pointers catalogue/5.png","image assets/Pointers catalogue/6.png","image assets/Monsters catalogue/mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/mobs/1.png","image assets/Monsters catalogue/mobs/2.png","image assets/Monsters catalogue/mobs/3.png","image assets/Monsters catalogue/elite mobs sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/elite mobs/1.png","image assets/Monsters catalogue/elite mobs/2.png","image assets/Monsters catalogue/elite mobs/3.png","image assets/Monsters catalogue/final bosses sync nonrecursive /.(png|jpe?g|svg)$","image assets/Monsters catalogue/final bosses/1.png","image assets/Monsters catalogue/final bosses/2.png","reducers/notifyReducer.js","reducers/depthLevelReducer.js","reducers/paragraphReducer.js","components/store.js","actions/types.js","components/layout/Spinner.js","helpers/auth.js","actions/notifyActions.js","components/layout/AppNavbar.js","components/questeditor/QuestEditorMenu.js","components/questeditor/CurrentDay.js","components/questeditor/questbuilder/QuestTemplate.js","components/questeditor/NewQuest.js","components/auth/Admin.js","components/questeditor/QuestsInProgress.js","components/questeditor/QuestsSubmitted.js","components/questeditor/questbuilder/NarrationInput.js","components/questeditor/questbuilder/DialogueInput.js","components/questeditor/questbuilder/PointersCatalogue.js","components/questeditor/questbuilder/PathInput.js","components/questeditor/questbuilder/RiddleInput.js","components/questeditor/questbuilder/MobMonsterCatalogue.js","components/questeditor/questbuilder/EliteMobMonsterCatalogue.js","components/questeditor/questbuilder/FinalBossMonsterCatalogue.js","components/questeditor/questbuilder/CombatInput.js","components/questeditor/questbuilder/LinkSelection.js","components/questeditor/questbuilder/Paragraph.js","actions/paragraphActions.js","components/questeditor/questbuilder/DepthLevel.js","components/questeditor/questbuilder/QuestBuilder.js","actions/depthLevelActions.js","components/questeditor/QuestDetails.js","components/layout/Alert.js","components/auth/Login.js","components/auth/Register.js","App.js","serviceWorker.js","index.js","components/layout/spinner.png","notredame.jpg","image assets/dialogue-default-background.jpg","image assets/path-default-background.jpg","image assets/riddle-default-question.jpg","image assets/riddle-default-answer.jpg","image assets/combat-default-background.jpg"],"names":["module","exports","__webpack_require__","p","map","./cat","./cat.js","./cd","./cd.js","./chmod","./chmod.js","./common","./common.js","./cp","./cp.js","./dirs","./dirs.js","./echo","./echo.js","./error","./error.js","./exec","./exec-child","./exec-child.js","./exec.js","./find","./find.js","./grep","./grep.js","./head","./head.js","./ln","./ln.js","./ls","./ls.js","./mkdir","./mkdir.js","./mv","./mv.js","./popd","./popd.js","./pushd","./pushd.js","./pwd","./pwd.js","./rm","./rm.js","./sed","./sed.js","./set","./set.js","./sort","./sort.js","./tail","./tail.js","./tempdir","./tempdir.js","./test","./test.js","./to","./to.js","./toEnd","./toEnd.js","./touch","./touch.js","./uniq","./uniq.js","./which","./which.js","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","Object","resolve","./1.png","./2.png","./3.png","./4.png","./5.png","./6.png","initialState","message","messageType","numDepthLevels","isGlobalSaving","paragraphNumberTotal","paragraphRegister","depthNumber","paragraphNumber","hasLinkToNextParagraph","hasLinkToPreviousParagraph","paragraphType","paragraphSubTypes","isSuddenDeath","isVictory","isFinalBossCombat","nextParagraphs","previousParagraphs","paragraphLinkRegister","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firestore","store","compose","reactReduxFirebase","userProfile","useFirestoreForProfile","reduxFirestore","createStore","createStoreWithFirebase","combineReducers","firebaseReducer","firestoreReducer","notify","state","arguments","length","undefined","action","type","objectSpread","currentNumDepthLevels","console","log","numDepthLevelsFromFirestore","paragraphData","concat","paragraphToAddInRegister","paragraphsToUpdate","filter","el","index","paragraphToDeleteInRegister","paragraphsToUpdateFinal","forEach","push","paragraphBeforeUpdate","paragraphAfterUpdate","paragraphRegisterWithoutDeletedParagraph","toConsumableArray","UpdatedParagraphRegisterWithLinks","childParagraphAdd","find","paragraph","paragraphLinkToAddInLinkRegister","depthNumberOfLinkedParagraph","paragraphNumberOfLinkedParagraph","originalChildIndex","findIndex","parentParagraphAdd","originalParentIndex","UpdatedParagraphRegisterWithDeletedLinks","childParagraphRemove","paragraphLinkToRemoveInLinkRegister","previousParagraph","parentParagraphRemove","paragraphLink","paragraphToUpdateWithSuddenDeath","paragraphToSetToSuddenDeathInRegister","updatedRegisterWithSuddenDeath","paragraphToUpdateWithVictory","paragraphToSetToVictoryInRegister","updatedRegisterWithVictory","paragraphToUpdateWithFinalBoss","paragraphToSetToFinalBossInRegister","updatedRegisterWithFinalBoss","paragraphToUpdateWithType","paragraphToUpdateInRegisterWithType","clearedParagraphSubTypes","j","updatedRegisterWithParagraphType","paragraphToUpdateWithLinkStatus","paragraphToUpdateInRegisterWithLinkStatus","nextorprevious","status","updatedRegisterWithParagraphLinkStatus","paragraphRegisterFromFirestore","paragraphLinkRegisterFromFirestore","window","__REDUX_DEVTOOLS_EXTENSION__","f","Spinner","react_default","a","createElement","style","height","width","src","spinner","alt","display","position","top","left","transform","zIndex","locationHelper","locationHelperBuilder","UserIsAuthenticated","connectedRouterRedirect","wrapperDisplayName","AuthenticatingComponent","LoadingScreen","allowRedirectBack","redirectPath","ownProps","getRedirectQueryParam","authenticatingSelector","_ref","_ref$firebase","auth","isInitializing","profile","isLoaded","authenticatedSelector","_ref2","isEmpty","UserIsNotAuthenticated","_ref3","_ref3$firebase","_ref4","notifyUser","AppNavbar","isAuthenticated","onLogoutClick","_callee","_this$props","_this$props$notify","regenerator_default","wrap","_context","prev","next","preventDefault","_this","props","logout","stop","this","className","react_router_dom","to","data-toggle","data-target","href","aria-haspopup","aria-expanded","aria-labelledby","email","onClick","uid","Component","firebaseConnect","connect","QuestEditorMenu","user","currentUser","displayName","marginTop","margin","textAlign","curday","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","QuestTemplate","Title","Tags","Price","Level","Link","Location","Summary","NbParagraphs","CreationDate","LastEditDate","SubmissionDate","Status","ScribeID","ScribeName","ScribeEmail","Paragraphs","globalSaveCounter","NewQuest","onChange","setState","defineProperty","target","name","value","onSubmit","newQuest","result","add","collection","sent","history","paddingLeft","paddingRight","htmlFor","placeholder","backgroundColor","title","required","tags","price","level","link","location","paddingBottom","maxLength","rows","summary","firestoreConnect","questsInProgress","ordered","QuestsInProgress","Admins","questsInProgressTotal","questsInProgressFromScribeTotal","questsInProgressFromScribe","onDeleteClick","_callee2","storage","storageRef","questRef","questParagraphList","_context2","getAttribute","confirm","delete","doc","ref","child","listAll","prefixes","asyncToGenerator","mark","startingSoundAndImageFiles","outcomeSoundsFiles","outcomeImagesFiles","items","elem","soundFile","imageFile","_x2","apply","onSubmitClick","_callee3","questInProgress","_context3","JSON","stringify","alert","some","every","update","_this2","_this$state","questInProgressFromScribe","key","data-id","data-title","includes","quest","require","QuestsSubmitted","questsSubmittedTotal","questsSubmittedFromScribeTotal","loom","counter","pending","web3js","chainId","writeUrl","readUrl","networkId","callerChainId","ethAddress","client","loomProvider","contract","publicKey","onGenerateVerifier","questSubmitted","paragraphsArray","orderedParagraphsArray","paragraphsMapping","outcomeArrayLengths","paragraphsMappingString","circuit","generateAndDeployVerifierCF","response","file1","file2","questsSubmitted","indexOfNextParagraph","unshift","splice","outcomeArray","indexInParagraphsArray","parag","substring","mappingLength","functions","httpsCallable","data","File","verifierCode","uploadFile","cirDef","provingKey","verificationKey","onDeployVerifier","deployVerifierContract","compilation","web3","accounts","address","verifierContractAddress","abrupt","getDownloadURL","then","url","catch","err","contractInterface","interface","Web3","eth","Contract","parse","setProvider","getAccounts","deploy","bytecode","send","from","options","onGenerateInputProofAndVerify","userInput","movesArray","gap","inputJSON","generateInputProofAndVerify","prompt","toString","split","proofJSONresponse","publicJSONresponse","onTestVerifierContract","_callee4","_console","_verifierContract$met","testVerifierContract","verifierContract","argumentsForCall","check","_context4","methods","verifyProof","call","onWithdrawClick","_callee5","_context5","parseInt","ethereum","enable","currentProvider","newLoom","privateKey","CryptoUtils","generatePrivateKey","newLoom2","publicKeyFromPrivateKey","Client","newLoom3","ethersProvider","ethers","providers","Web3Provider","signer","getSigner","getAddress","newLoom4","Address","LocalAddress","fromHexString","fromPublicKey","txMiddleware","createDefaultTxMiddleware","newLoom5","Contracts","AddressMapper","createAsync","addressMapper","hasMappingAsync","ethersSigner","EthersSigner","addIdentityMappingAsync","newLoom6","LoomProvider","newLoom7","setMiddlewaresForAddress","local","NonceTxMiddleware","SignedEthTxMiddleware","questsSubmittedFromScribe","questSubmittedFromScribe","NarrationInput","classCallCheck","possibleConstructorReturn","getPrototypeOf","narrationInputText","backgroundImageCounter","startingSoundCounter","outcomeSoundArray","componentDidMount","paragraphInFirestore","syncedOutcomeSoundArray","QuestUnderEdition","inputText","outcomeSoundURL","outcomeSoundCounter","rankInNextParagraphs","componentDidUpdate","prevProps","_x","loadStartingSound","file","files","size","bytesLimitForUploads","startingSound","document","getElementById","URL","createObjectURL","loadOutcomeSound","newOutcomeSoundArray","outcomeSound","_x3","setToSuddenDeath","setToVictory","deleteParagraph","saveParagraph","_ref5","inputs","inputArray","resetOutcomeSoundArray","backgroundImage","_x4","loadBackgroundImage","bind","assertThisInitialized","selector","followingParagraph","fontWeight","fontSize","marginBottom","accept","rankinnextparagraphs","cursor","controls","paddingTop","startingSoundURL","backgroundImageURL","DefaultBackground","resize","justifyContent","checked","paragraphnumber","DialogueInput","dialogueInputText","indexOfDeletedNextParagraph","onChangeInputText","onChangeOutcomeText","outcomeDepthNumber","outcomeParagraphNumber","nextParagraphsUpdated","nextParagraphToUpdate","outcomeText","changeOutcomeText","_ref6","_callee6","_context6","_x5","paragraphOutcomes","lineHeight","verticalAlign","data-depnum","data-parnum","overflowWrap","DialogueDefaultBackground","images","r","item","replace","importAll","PointersCatalogue","pointerArray","isSelected","selectPointer","pointerArrayWithSelection","currentTarget","children","pointersCatalogue","i","PathInput","pathInputText","selectedPointers","selectedPointersFromFirestore","selectedPointer","image","DefaultPointer","updatedSelectedPointers","_updatedSelectedPointers","_indexOfDeletedNextParagraph","isPointAndClickPath","setToPointAndClickPath","setToTextualPath","_ref7","_callee7","imageSRC","_context7","_x6","_x7","drag_start","_ref8","_callee8","event","pointerInMovement","offset_data","_context8","getComputedStyle","getPropertyValue","clientX","clientY","dataTransfer","setData","_x8","drag_over","offset","getData","drop","_ref9","_callee9","updatedSelectedPointersWithCoordinates","_context9","_x9","draggablePointers","isTextualPath","k","maxHeight","overflowY","border","PointersCatalogue_PointersCatalogue","maxWidth","draggable","onDragStart","onDragOver","onDrop","DefaultPathBackground","RiddleInput","riddleInputText","outcomeImageArray","syncedOutcomeImageArray","outcomeImageURL","outcomeImageCounter","newOutcomeImageArray","setToGraphicalRiddle","setToTextualRiddle","inputArraySounds","inputArrayImages","resetOutcomeImageArray","loadOutcomeImage","outcomeImage","isTextualRiddle","isGraphicalRiddle","DefaultAnswer","DefaultRiddleQuestion","MobMonsterCatalogue","monsterArray","attackPoints","defensePoints","healthPoints","selectMonster","monsterArrayWithSelection","catalogue","fontStyle","marginLeft","CombatInput","selectedMonster","combatInputText","setToMobCombat","isMobCombat","setToEliteMobCombat","isEliteMobCombat","setToFinalBossCombat","monsterImage","updatedSelectedMonster","characteristics","_ref10","_callee10","monsterInMovement","_context10","_ref11","_callee11","updatedSelectedMonsterWithCoordinates","_context11","MonsterSelection","MobMonsterCatalogue_MobMonsterCatalogue","EliteMobMonsterCatalogue_MobMonsterCatalogue","FinalBossMonsterCatalogue_MobMonsterCatalogue","DefaultCombatBackground","LinkSelection","isLinked","toggleParagraphLink","parentNode","rank","Paragraph","isSaving","processOutcomeSounds","processOutcomeImages","_this$props2","nextParagraphsCopy","paragraphAlreadyInDatabase","ipfs","paragraphRef","snapshot","gsReference","resultsBackgroundImage","hashBackgroundImage","backgroundImageURLonIPFS","_snapshot","_gsReference","resultsStartingSound","hashStartingSound","startingSoundURLonIPFS","boundedprocessOutcomeSounds","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_el","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","resultsOutcomeSound","hashOutcomeSound","outcomeSoundURLonIPFS","boundedprocessOutcomeImages","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","_el2","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_el3","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","resultsOutcomeImage","hashOutcomeImage","outcomeImageURLonIPFS","_args8","outcomeSounds","_processOutcomeSound","boundedprocessOutcomeSound","promises","lastIndexOf","refFromURL","uploadTaskSnapshot","metadata","bucket","fullPath","Promise","all","outcomeImages","_processOutcomeImage","boundedprocessOutcomeImage","indexOf","ipfsClient","protocol","hash","Symbol","iterator","done","t0","return","finish","t1","t2","t3","t4","t5","FieldValue","arrayRemove","arrayUnion","changeParagraphType","prevParagraphsInRegister","prevParagraphInRegister","stateWithClearedParagraphSubtypes","clearedNextParagraphs","tabs","parentElement","setParagraphTypeInRegister","updatedNextParagraph","updatedNextParagraphs","_ref12","_ref13","_x10","_ref14","_callee12","updatedStateSubTypes","_context12","setToSuddenDeathInRegister","_x11","_ref15","_callee13","_context13","setToVictoryInRegister","_x12","_ref16","_callee14","_context14","_x13","_ref17","_callee15","_context15","_x14","_ref18","_callee16","_context16","_x15","_ref19","_callee17","_context17","_x16","_ref20","_callee18","_context18","_x17","_ref21","_callee19","_context19","_x18","_ref22","_callee20","_context20","setToFinalBossInRegister","_x19","prevParagraph","addParagraphLink","removeParagraphLink","React","createRef","paragraphLinksSelection","nextParagraph","questbuilder_LinkSelection","newParagraphNumber","questbuilder_NarrationInput","questbuilder_DialogueInput","questbuilder_PathInput","questbuilder_RiddleInput","questbuilder_CombatInput","paragraphInRegister","indexOfDeletedParagraph","storeAs","questID","setParagraphLinkStatusInRegister","DepthLevel","onDeleteParagraph","paragraphID","parNumber","paragraphsUnchanged","paragraphToDeleteInDatabase","paragraphList","soundsFolder","imagesFolder","paragraphsInDepthLevel","decreaseParagraphFromTotal","cloneElement","questbuilder_Paragraph","uuid","v4","linkedParagraphs","paragraphsToPrint","parNumberArray","max","paragraphsArrayFromFirestore","reduce","b","Math","onAddParagraph","addParagraphToTotal","scrollIntoView","behavior","block","inline","onDeleteDepthLevel","getElementsByClassName","deleteDepthLevel","alignItems","overflowX","QuestBuilder","initialID","isLoading","onAddDepthLevel","targetScroll","addDepthLevel","scrollToTarget","decreaseDepthLevel","startingParagraph","match","params","syncRegistersInRedux","componentWillUnmount","clearQuestData","onSaveUnderEdition","saveInputElementsHTMLCollection","checkIfSavingIsFinished","checkHTMLCollection","setToGlobalSaving","Array","click","setTimeout","depthLevels","questbuilder_DepthLevel","react_router","float","marginRight","QuestDetails","questUpdate","TitleInput","current","TagsInput","PriceInput","LevelInput","LinkInput","LocationInput","SummaryInput","defaultValue","Alert","classnames","alert-ok","alert-failed","Login","password","login","layout_Alert","Register","accountName","createUser","updateProfile","minLength","propTyopes","PropTypes","object","isRequired","func","App","es","layout_AppNavbar","exact","path","component","Boolean","hostname","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e25319b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1.853053d1.png\";","var map = {\n\t\"./cat\": 580,\n\t\"./cat.js\": 580,\n\t\"./cd\": 333,\n\t\"./cd.js\": 333,\n\t\"./chmod\": 581,\n\t\"./chmod.js\": 581,\n\t\"./common\": 26,\n\t\"./common.js\": 26,\n\t\"./cp\": 334,\n\t\"./cp.js\": 334,\n\t\"./dirs\": 582,\n\t\"./dirs.js\": 582,\n\t\"./echo\": 583,\n\t\"./echo.js\": 583,\n\t\"./error\": 335,\n\t\"./error.js\": 335,\n\t\"./exec\": 584,\n\t\"./exec-child\": 585,\n\t\"./exec-child.js\": 585,\n\t\"./exec.js\": 584,\n\t\"./find\": 586,\n\t\"./find.js\": 586,\n\t\"./grep\": 587,\n\t\"./grep.js\": 587,\n\t\"./head\": 588,\n\t\"./head.js\": 588,\n\t\"./ln\": 589,\n\t\"./ln.js\": 589,\n\t\"./ls\": 338,\n\t\"./ls.js\": 338,\n\t\"./mkdir\": 590,\n\t\"./mkdir.js\": 590,\n\t\"./mv\": 591,\n\t\"./mv.js\": 591,\n\t\"./popd\": 592,\n\t\"./popd.js\": 592,\n\t\"./pushd\": 593,\n\t\"./pushd.js\": 593,\n\t\"./pwd\": 337,\n\t\"./pwd.js\": 337,\n\t\"./rm\": 339,\n\t\"./rm.js\": 339,\n\t\"./sed\": 594,\n\t\"./sed.js\": 594,\n\t\"./set\": 595,\n\t\"./set.js\": 595,\n\t\"./sort\": 596,\n\t\"./sort.js\": 596,\n\t\"./tail\": 597,\n\t\"./tail.js\": 597,\n\t\"./tempdir\": 336,\n\t\"./tempdir.js\": 336,\n\t\"./test\": 598,\n\t\"./test.js\": 598,\n\t\"./to\": 599,\n\t\"./to.js\": 599,\n\t\"./toEnd\": 600,\n\t\"./toEnd.js\": 600,\n\t\"./touch\": 601,\n\t\"./touch.js\": 601,\n\t\"./uniq\": 602,\n\t\"./uniq.js\": 602,\n\t\"./which\": 603,\n\t\"./which.js\": 603\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1283;","var map = {\n\t\"./1.png\": 105,\n\t\"./2.png\": 1632,\n\t\"./3.png\": 1633,\n\t\"./4.png\": 1634,\n\t\"./5.png\": 1635,\n\t\"./6.png\": 1636\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1631;","module.exports = __webpack_public_path__ + \"static/media/2.8beca9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/3.ca3fbb30.png\";","module.exports = __webpack_public_path__ + \"static/media/4.d8564815.png\";","module.exports = __webpack_public_path__ + \"static/media/5.829bc12b.png\";","module.exports = __webpack_public_path__ + \"static/media/6.81b06248.png\";","var map = {\n\t\"./1.png\": 1638,\n\t\"./2.png\": 1639,\n\t\"./3.png\": 1640\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1637;","module.exports = __webpack_public_path__ + \"static/media/1.f030e619.png\";","module.exports = __webpack_public_path__ + \"static/media/2.f83fcec0.png\";","module.exports = __webpack_public_path__ + \"static/media/3.a9361957.png\";","var map = {\n\t\"./1.png\": 1642,\n\t\"./2.png\": 1643,\n\t\"./3.png\": 1644\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1641;","module.exports = __webpack_public_path__ + \"static/media/1.41a5c668.png\";","module.exports = __webpack_public_path__ + \"static/media/2.3e7de63b.png\";","module.exports = __webpack_public_path__ + \"static/media/3.aba8f8cf.png\";","var map = {\n\t\"./1.png\": 1646,\n\t\"./2.png\": 1647\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1645;","module.exports = __webpack_public_path__ + \"static/media/1.b01e5de6.png\";","module.exports = __webpack_public_path__ + \"static/media/2.adcced3f.png\";","import { NOTIFY_USER } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  message: null,\r\n  messageType: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFY_USER:\r\n      return {\r\n        ...state,\r\n        message: action.message,\r\n        messageType: action.messageType\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA,\r\n  SYNC_REGISTERS_IN_REDUX\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  numDepthLevels: 1\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_DEPTH_LEVEL:\r\n      // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and adding one\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"sync with firestore\");\r\n        console.log(action.currentNumDepthLevels);\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels + 1\r\n        };\r\n      } else {\r\n        console.log(\"normal\");\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels + 1\r\n        };\r\n      }\r\n\r\n    // setting the numDepthLevels of Redux store to the value of numDepthLevels from firestore and decreasing by one\r\n\r\n    case DECREASE_DEPTH_LEVEL:\r\n      if (action.currentNumDepthLevels !== state.numDepthLevels) {\r\n        console.log(\"option 1\");\r\n        console.log(action.currentNumDepthLevels);\r\n\r\n        return {\r\n          ...state,\r\n          numDepthLevels: action.currentNumDepthLevels - 1\r\n        };\r\n      } else {\r\n        console.log(\"option 2\");\r\n        console.log(state.numDepthLevels);\r\n        return {\r\n          ...state,\r\n          numDepthLevels: state.numDepthLevels - 1\r\n        };\r\n      }\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: 1\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        numDepthLevels: action.numDepthLevelsFromFirestore\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SET_TO_FINALBOSS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  CLEAR_QUEST_DATA,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isGlobalSaving: false,\r\n  paragraphNumberTotal: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_PARAGRAPH_TO_TOTAL:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal + 1,\r\n        paragraphRegister: state.paragraphRegister.concat(\r\n          action.paragraphToAddInRegister\r\n        )\r\n      };\r\n    case DECREASE_PARAGRAPH_FROM_TOTAL:\r\n      let paragraphsToUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return (\r\n          el.depthNumber === action.paragraphToDeleteInRegister.depthNumber &&\r\n          el.paragraphNumber >\r\n            action.paragraphToDeleteInRegister.paragraphNumber\r\n        );\r\n      });\r\n\r\n      let paragraphsToUpdateFinal = [];\r\n\r\n      paragraphsToUpdate.forEach(el => {\r\n        paragraphsToUpdateFinal.push({\r\n          depthNumber: action.paragraphToDeleteInRegister.depthNumber,\r\n          paragraphNumber: el.paragraphNumber - 1\r\n        });\r\n      });\r\n\r\n      // unchanged paragraphs with lower depth number or (same depth number + lower paragraph number)\r\n\r\n      let paragraphBeforeUpdate = state.paragraphRegister.filter(\r\n        (el, index) => {\r\n          return (\r\n            el.depthNumber < action.paragraphToDeleteInRegister.depthNumber ||\r\n            (el.paragraphNumber <\r\n              action.paragraphToDeleteInRegister.paragraphNumber &&\r\n              el.depthNumber === action.paragraphToDeleteInRegister.depthNumber)\r\n          );\r\n        }\r\n      );\r\n\r\n      // unchanged paragraphs with higher depth number\r\n\r\n      let paragraphAfterUpdate = state.paragraphRegister.filter((el, index) => {\r\n        return el.depthNumber > action.paragraphToDeleteInRegister.depthNumber;\r\n      });\r\n\r\n      // combining all three arrays to have the new paragraphRegister without the deleted value and with adjusted paragraphNumbers where necessary\r\n      let paragraphRegisterWithoutDeletedParagraph = [\r\n        ...paragraphBeforeUpdate,\r\n        ...paragraphsToUpdateFinal,\r\n        ...paragraphAfterUpdate\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: state.paragraphNumberTotal - 1,\r\n        paragraphRegister: paragraphRegisterWithoutDeletedParagraph\r\n      };\r\n\r\n    case ADD_PARAGRAPH_LINK:\r\n      // shallow copies to circumvent object extensibility issues\r\n\r\n      let UpdatedParagraphRegisterWithLinks = [...state.paragraphRegister];\r\n\r\n      let childParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n        )\r\n      };\r\n      childParagraphAdd.previousParagraphs = [\r\n        ...childParagraphAdd.previousParagraphs\r\n      ];\r\n\r\n      childParagraphAdd.hasLinkToPreviousParagraph = true;\r\n      childParagraphAdd.previousParagraphs.push({\r\n        depthNumber:\r\n          action.paragraphLinkToAddInLinkRegister.depthNumberOfLinkedParagraph,\r\n        paragraphNumber:\r\n          action.paragraphLinkToAddInLinkRegister\r\n            .paragraphNumberOfLinkedParagraph\r\n      });\r\n\r\n      let originalChildIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[originalChildIndex] = childParagraphAdd;\r\n\r\n      let parentParagraphAdd = {\r\n        ...UpdatedParagraphRegisterWithLinks.find(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .depthNumberOfLinkedParagraph &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphLinkToAddInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        )\r\n      };\r\n\r\n      parentParagraphAdd.nextParagraphs = [\r\n        ...parentParagraphAdd.nextParagraphs\r\n      ];\r\n\r\n      parentParagraphAdd.hasLinkToNextParagraph = true;\r\n      parentParagraphAdd.nextParagraphs.push({\r\n        depthNumber: action.paragraphLinkToAddInLinkRegister.depthNumber,\r\n        paragraphNumber: action.paragraphLinkToAddInLinkRegister.paragraphNumber\r\n      });\r\n\r\n      let originalParentIndex = UpdatedParagraphRegisterWithLinks.findIndex(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToAddInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n\r\n      UpdatedParagraphRegisterWithLinks[\r\n        originalParentIndex\r\n      ] = parentParagraphAdd;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.concat(\r\n          action.paragraphLinkToAddInLinkRegister\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithLinks\r\n      };\r\n    case REMOVE_PARAGRAPH_LINK:\r\n      let UpdatedParagraphRegisterWithDeletedLinks = state.paragraphRegister;\r\n\r\n      let childParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      childParagraphRemove.previousParagraphs = childParagraphRemove.previousParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      if (childParagraphRemove.previousParagraphs.length === 0) {\r\n        childParagraphRemove.hasLinkToPreviousParagraph = false;\r\n      }\r\n\r\n      let parentParagraphRemove = UpdatedParagraphRegisterWithDeletedLinks.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .depthNumberOfLinkedParagraph &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphLinkToRemoveInLinkRegister\r\n              .paragraphNumberOfLinkedParagraph\r\n      );\r\n      parentParagraphRemove.nextParagraphs = parentParagraphRemove.nextParagraphs.filter(\r\n        previousParagraph =>\r\n          previousParagraph.depthNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n          previousParagraph.paragraphNumber !==\r\n            action.paragraphLinkToRemoveInLinkRegister.paragraphNumber\r\n      );\r\n      if (parentParagraphRemove.nextParagraphs.length === 0) {\r\n        parentParagraphRemove.hasLinkToNextParagraph = false;\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        paragraphLinkRegister: state.paragraphLinkRegister.filter(\r\n          paragraphLink =>\r\n            paragraphLink.depthNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.depthNumber ||\r\n            paragraphLink.paragraphNumber !==\r\n              action.paragraphLinkToRemoveInLinkRegister.paragraphNumber ||\r\n            paragraphLink.depthNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .depthNumberOfLinkedParagraph ||\r\n            paragraphLink.paragraphNumberOfLinkedParagraph !==\r\n              action.paragraphLinkToRemoveInLinkRegister\r\n                .paragraphNumberOfLinkedParagraph\r\n        ),\r\n        paragraphRegister: UpdatedParagraphRegisterWithDeletedLinks\r\n      };\r\n    case SET_TO_SUDDEN_DEATH:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithSuddenDeath = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n      );\r\n      // setting its sudden death value to true\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithSuddenDeath.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithSuddenDeath.paragraphSubTypes.isSuddenDeath = !paragraphToUpdateWithSuddenDeath\r\n        .paragraphSubTypes.isSuddenDeath;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithSuddenDeath = state.paragraphRegister;\r\n      updatedRegisterWithSuddenDeath[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToSuddenDeathInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithSuddenDeath;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithSuddenDeath\r\n      };\r\n    case SET_TO_VICTORY:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithVictory = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n      );\r\n      // toggle its isVictory value\r\n      paragraphToUpdateWithVictory.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithVictory.paragraphSubTypes\r\n      };\r\n\r\n      paragraphToUpdateWithVictory.paragraphSubTypes.isVictory = !paragraphToUpdateWithVictory\r\n        .paragraphSubTypes.isVictory;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithVictory = state.paragraphRegister;\r\n      updatedRegisterWithVictory[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToVictoryInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToVictoryInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithVictory;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithVictory\r\n      };\r\n\r\n    case SET_TO_FINALBOSS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithFinalBoss = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n      );\r\n      // setting its final boss combat value to true\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes = {\r\n        ...paragraphToUpdateWithFinalBoss.paragraphSubTypes\r\n      };\r\n      paragraphToUpdateWithFinalBoss.paragraphSubTypes.isFinalBossCombat = !paragraphToUpdateWithFinalBoss.isFinalBossCombat;\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithFinalBoss = state.paragraphRegister;\r\n      updatedRegisterWithFinalBoss[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToSetToFinalBossInRegister.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithFinalBoss;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithFinalBoss\r\n      };\r\n\r\n    case SET_PARAGRAPH_TYPE:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithType = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n      );\r\n      // setting its paragraphType value\r\n      paragraphToUpdateWithType.paragraphType = action.paragraphType;\r\n\r\n      // clear the paragraph subtypes\r\n      let keys = Object.keys(paragraphToUpdateWithType.paragraphSubTypes);\r\n      let clearedParagraphSubTypes = {};\r\n\r\n      for (var j = 0; j < keys.length; j++) {\r\n        clearedParagraphSubTypes[keys[j]] = false;\r\n      }\r\n      paragraphToUpdateWithType.paragraphSubTypes = clearedParagraphSubTypes;\r\n\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphType = state.paragraphRegister;\r\n      updatedRegisterWithParagraphType[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithType.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithType;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphType\r\n      };\r\n\r\n    case SET_PARAGRAPH_LINK_STATUS:\r\n      // finding the paragraph to update in the register\r\n      let paragraphToUpdateWithLinkStatus = state.paragraphRegister.find(\r\n        paragraph =>\r\n          paragraph.depthNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n          paragraph.paragraphNumber ===\r\n            action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n      );\r\n      // setting its hasLinkToNextParagraph or hasLinkToPreviousParagraph value according to nextorprevious input\r\n      if (action.nextorprevious === \"next\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToNextParagraph = action.status;\r\n      } else if (action.nextorprevious === \"previous\") {\r\n        paragraphToUpdateWithLinkStatus.hasLinkToPreviousParagraph =\r\n          action.status;\r\n      }\r\n      // replacing the paragraph object in the original register with the updated paragraph object\r\n      let updatedRegisterWithParagraphLinkStatus = state.paragraphRegister;\r\n      updatedRegisterWithParagraphLinkStatus[\r\n        state.paragraphRegister.findIndex(\r\n          paragraph =>\r\n            paragraph.depthNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.depthNumber &&\r\n            paragraph.paragraphNumber ===\r\n              action.paragraphToUpdateInRegisterWithLinkStatus.paragraphNumber\r\n        )\r\n      ] = paragraphToUpdateWithLinkStatus;\r\n\r\n      return {\r\n        ...state,\r\n        paragraphRegister: updatedRegisterWithParagraphLinkStatus\r\n      };\r\n\r\n    case SYNC_REGISTERS_IN_REDUX:\r\n      return {\r\n        ...state,\r\n        paragraphRegister: action.paragraphRegisterFromFirestore,\r\n        paragraphLinkRegister: action.paragraphLinkRegisterFromFirestore\r\n      };\r\n\r\n    case CLEAR_QUEST_DATA:\r\n      return {\r\n        ...state,\r\n        paragraphNumberTotal: 1,\r\n        paragraphRegister: [\r\n          {\r\n            depthNumber: 0,\r\n            paragraphNumber: 1,\r\n\r\n            hasLinkToNextParagraph: false,\r\n            hasLinkToPreviousParagraph: true,\r\n            paragraphType: \"narration\",\r\n            paragraphSubTypes: {\r\n              isSuddenDeath: false,\r\n              isVictory: false,\r\n              isFinalBossCombat: false\r\n            },\r\n            nextParagraphs: [],\r\n            previousParagraphs: []\r\n          }\r\n        ],\r\n        paragraphLinkRegister: []\r\n      };\r\n\r\n    case SET_TO_GLOBAL_SAVING:\r\n      return {\r\n        ...state,\r\n        isGlobalSaving: !state.isGlobalSaving\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, compose } from \"redux\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport { reactReduxFirebase, firebaseReducer } from \"react-redux-firebase\";\r\nimport { reduxFirestore, firestoreReducer } from \"redux-firestore\";\r\nimport \"firebase/functions\";\r\n\r\n// Reducers\r\nimport notifyReducer from \"../reducers/notifyReducer\";\r\nimport depthLevelReducer from \"../reducers/depthLevelReducer\";\r\nimport paragraphReducer from \"../reducers/paragraphReducer\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAb4GBXr2OHnzMnvBrZlfWqyQt0crnmgAg\",\r\n  authDomain: \"delendaproto.firebaseapp.com\",\r\n  databaseURL: \"https://delendaproto.firebaseio.com\",\r\n  projectId: \"delendaproto\",\r\n  storageBucket: \"delendaproto.appspot.com\",\r\n  messagingSenderId: \"598525885409\"\r\n};\r\n\r\n// react-redux-firebase config\r\nconst rrfConfig = {\r\n  userProfile: \"users\",\r\n  useFirestoreForProfile: true // Firestore for Profile instead of Realtime DB\r\n};\r\n\r\n// Initialize firebase instance\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Initialize firestore\r\nfirebase.firestore();\r\n\r\n// Add reactReduxFirebase enhancer when making store creator\r\nconst createStoreWithFirebase = compose(\r\n  reactReduxFirebase(firebase, rrfConfig), // firebase instance as first argument\r\n  reduxFirestore(firebase) // <- needed if using firestore\r\n)(createStore);\r\n\r\n// Add firebase to reducers\r\nconst rootReducer = combineReducers({\r\n  firebase: firebaseReducer,\r\n  firestore: firestoreReducer, // <- needed if using firestore\r\n  notify: notifyReducer,\r\n  numDepthLevels: depthLevelReducer,\r\n  paragraphData: paragraphReducer\r\n});\r\n\r\n// create initial state\r\nconst initialState = {};\r\nconst store = createStoreWithFirebase(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    reactReduxFirebase(firebase),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n          window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f\r\n  )\r\n);\r\n\r\nexport default store;\r\n","export const NOTIFY_USER = \"NOTIFY_USER\";\r\nexport const ALLOW_REGISTRATION = \"ALLOW_REGISTRATION\";\r\n\r\nexport const ADD_DEPTH_LEVEL = \"ADD_DEPTH_LEVEL\";\r\nexport const DECREASE_DEPTH_LEVEL = \"DECREASE_DEPTH_LEVEL\";\r\n\r\nexport const ADD_PARAGRAPH_TO_TOTAL = \"ADD_PARAGRAPH_TO_TOTAL\";\r\nexport const DECREASE_PARAGRAPH_FROM_TOTAL = \"DECREASE_PARAGRAPH_FROM_TOTAL\";\r\nexport const ADD_PARAGRAPH_LINK = \"ADD_PARAGRAPH_LINK\";\r\nexport const REMOVE_PARAGRAPH_LINK = \"REMOVE_PARAGRAPH_LINK\";\r\nexport const SET_TO_SUDDEN_DEATH = \"SET_TO_SUDDEN_DEATH\";\r\nexport const SET_TO_VICTORY = \"SET_TO_VICTORY\";\r\nexport const SET_TO_FINALBOSS = \"SET_TO_FINALBOSS\";\r\nexport const SET_PARAGRAPH_TYPE = \"SET_PARAGRAPH_TYPE\";\r\nexport const SET_PARAGRAPH_LINK_STATUS = \"SET_PARAGRAPH_LINK_STATUS\";\r\n\r\nexport const SYNC_REGISTERS_IN_REDUX = \"SYNC_REGISTERS_IN_REDUX\";\r\nexport const CLEAR_QUEST_DATA = \"CLEAR_QUEST_DATA\";\r\nexport const SET_TO_GLOBAL_SAVING = \"SET_TO_GLOBAL_SAVING\";\r\n","import React from \"react\";\r\nimport spinner from \"./spinner.png\";\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <div style={{ height: \"100%\", width: \"100%\" }}>\r\n      <img\r\n        src={spinner}\r\n        alt=\"Loading...\"\r\n        style={{\r\n          height: \"100px\",\r\n          width: \"100px\",\r\n          display: \"block\",\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          zIndex: 2\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import locationHelperBuilder from \"redux-auth-wrapper/history4/locationHelper\";\r\nimport { connectedRouterRedirect } from \"redux-auth-wrapper/history4/redirect\";\r\n// import createHistory from \"history/createBrowserHistory\";\r\nimport LoadingScreen from \"../components/layout/Spinner\"; // change it to your custom component\r\n\r\nconst locationHelper = locationHelperBuilder({});\r\n//const history = createHistory();\r\n\r\nexport const UserIsAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: true,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/login\",\r\n  authenticatingSelector: ({ firebase: { auth, profile, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && !auth.isEmpty\r\n});\r\n\r\nexport const UserIsNotAuthenticated = connectedRouterRedirect({\r\n  wrapperDisplayName: \"UserIsNotAuthenticated\",\r\n  AuthenticatingComponent: LoadingScreen,\r\n  allowRedirectBack: false,\r\n  redirectPath: (state, ownProps) =>\r\n    locationHelper.getRedirectQueryParam(ownProps) || \"/questeditor/menu/\",\r\n  authenticatingSelector: ({ firebase: { auth, isInitializing } }) =>\r\n    !auth.isLoaded || isInitializing === true,\r\n  authenticatedSelector: ({ firebase: { auth } }) =>\r\n    auth.isLoaded && auth.isEmpty\r\n});\r\n","import { NOTIFY_USER } from \"./types\";\r\n\r\nexport const notifyUser = (message, messageType) => {\r\n  return {\r\n    type: NOTIFY_USER,\r\n    message,\r\n    messageType\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\n\r\nclass AppNavbar extends Component {\r\n  state = {\r\n    isAuthenticated: false\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { auth } = props;\r\n    if (auth.uid) {\r\n      return { isAuthenticated: true };\r\n    } else {\r\n      return { isAuthenticated: false };\r\n    }\r\n  }\r\n\r\n  onLogoutClick = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { message, messageType } = this.props.notify;\r\n    if (message || messageType) {\r\n      await notifyUser(null, null);\r\n    }\r\n    firebase.logout();\r\n  };\r\n\r\n  render() {\r\n    const { isAuthenticated } = this.state;\r\n    const { auth } = this.props;\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md bg-dark mb-2\">\r\n          <div className=\"container\">\r\n            <Link to=\"/home\" className=\"navbar-brand text-light\">\r\n              Home\r\n            </Link>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#navbarMain\"\r\n            >\r\n              <span className=\"navbar-toggler-icon\" />\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarMain\">\r\n              <ul className=\"navbar-nav mr-auto\">\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Players\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/playerprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/playerranking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/playerforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <a\r\n                    className=\"nav-link dropdown-toggle text-light\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                  >\r\n                    Scribes\r\n                  </a>\r\n                  <div className=\"dropdown-menu\" aria-labelledby=\"dropdown03\">\r\n                    <Link\r\n                      to=\"/questeditor/menu/\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Quest Editor\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scribeprofile\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/scriberanking\"\r\n                      className=\"dropdown-item text-dark\"\r\n                    >\r\n                      Ranking\r\n                    </Link>\r\n                    <Link to=\"/scribeforum\" className=\"dropdown-item text-dark\">\r\n                      Forum\r\n                    </Link>\r\n                  </div>\r\n                </li>\r\n                <li className=\"nav-item dropdown\">\r\n                  <Link to=\"/marketplace\" className=\"nav-link text-light\">\r\n                    Marketplace\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n\r\n              {isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <a href=\"#!\" className=\"nav-link text-light\">\r\n                      {auth.email}\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a\r\n                      href=\"#!\"\r\n                      className=\"nav-link text-light\"\r\n                      onClick={this.onLogoutClick}\r\n                    >\r\n                      Logout\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n              {!isAuthenticated ? (\r\n                <ul className=\"navbar-nav ml-auto\">\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/login\" className=\"nav-link text-light\">\r\n                      Login\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link to=\"/register\" className=\"nav-link text-light\">\r\n                      Register\r\n                    </Link>\r\n                  </li>\r\n                </ul>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAppNavbar.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      auth: state.firebase.auth,\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(AppNavbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\n\r\nclass QuestEditorMenu extends Component {\r\n  render() {\r\n    var user = this.props.firebase.auth().currentUser;\r\n    if (!user.displayName) {\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {`Welcome, ${user.displayName} !`}\r\n          </h1>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/newquest/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            New Quest\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/inprogress/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests In Progress\r\n          </Link>\r\n          <div style={{ height: \"30px\" }} />\r\n          <Link\r\n            to={`/questeditor/submitted/`}\r\n            className=\"btn btn-dark\"\r\n            style={{ width: \"25%\", margin: \"auto\", display: \"block\" }}\r\n          >\r\n            Quests Submitted\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default firebaseConnect()(QuestEditorMenu);\r\n","var curday = function() {\r\n  var today = new Date();\r\n  var dd = today.getDate();\r\n  var mm = today.getMonth() + 1; //As January is 0.\r\n  var yyyy = today.getFullYear();\r\n\r\n  if (dd < 10) dd = \"0\" + dd;\r\n  if (mm < 10) mm = \"0\" + mm;\r\n  return `${dd}/${mm}/${yyyy}`;\r\n};\r\n\r\nexport default curday;\r\n","const QuestTemplate = {\r\n  Title: \"\",\r\n  Tags: \"\",\r\n  Price: 0,\r\n  Level: 1,\r\n  Link: \"\",\r\n  Location: [],\r\n  Summary: \"\",\r\n  NbParagraphs: 1,\r\n  numDepthLevels: 1,\r\n  paragraphRegister: [\r\n    {\r\n      depthNumber: 0,\r\n      paragraphNumber: 1,\r\n\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: true,\r\n      paragraphType: \"narration\",\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  ],\r\n  paragraphLinkRegister: [],\r\n  CreationDate: \"\",\r\n  LastEditDate: \"\",\r\n  SubmissionDate: \"\",\r\n  Status: \"In Progress\",\r\n  ScribeID: \"\",\r\n  ScribeName: \"\",\r\n  ScribeEmail: \"\",\r\n  Paragraphs: [],\r\n  globalSaveCounter: 0\r\n};\r\n\r\nexport default QuestTemplate;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport curday from \"./CurrentDay\";\r\nimport QuestTemplate from \"./questbuilder/QuestTemplate\";\r\n\r\nclass NewQuest extends Component {\r\n  state = QuestTemplate;\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    var user = this.props.firebase.auth().currentUser;\r\n    var ScribeID = user.uid;\r\n    var ScribeName = user.displayName;\r\n    var ScribeEmail = user.email;\r\n\r\n    await this.setState({\r\n      CreationDate: curday(),\r\n      LastEditDate: curday(),\r\n      ScribeID,\r\n      ScribeName,\r\n      ScribeEmail\r\n    });\r\n    const newQuest = this.state;\r\n    const { firestore } = this.props;\r\n    const result = await firestore.add(\r\n      { collection: \"QuestsInProgress\" },\r\n      newQuest\r\n    );\r\n\r\n    this.props.history.push(`/questeditor/questbuilder/${result.id}`);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\",\r\n          width: \"60%\"\r\n        }}\r\n      >\r\n        <h1\r\n          style={{\r\n            margin: \"auto\",\r\n            display: \"block\",\r\n            textAlign: \"center\"\r\n          }}\r\n        >\r\n          Quest Parameters{\" \"}\r\n        </h1>\r\n        <div style={{ height: \"30px\" }} />\r\n        <div className=\"row\">\r\n          <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n            <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n            Menu\r\n          </Link>\r\n        </div>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                Title\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Title\"\r\n                placeholder=\"Into the Abyss\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.title}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                Tags\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Tags\"\r\n                placeholder=\"#horror #riddle #dark\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.tags}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                Price\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Price\"\r\n                placeholder=\"2000\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.price}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                Level\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Level\"\r\n                placeholder=\"1\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.level}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n          >\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                Link\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Link\"\r\n                placeholder=\"Linked to Quest sg7uwerh3 : Wandering In The Desert\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.link}\r\n                onChange={this.onChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                Location\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Location\"\r\n                placeholder=\"GPS coordinates -22.5834697346\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                value={this.state.location}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"form-row\"\r\n            style={{\r\n              paddingLeft: \"10px\",\r\n              paddingRight: \"10px\",\r\n              paddingBottom: \"10px\"\r\n            }}\r\n          >\r\n            <label className=\"label-parameter\" htmlFor=\"Text\">\r\n              Summary\r\n            </label>\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"Summary\"\r\n              maxLength=\"100\"\r\n              placeholder=\"You will enter the Abyss of Agamazos, where many heroes have perished. Fire demons and the Crystal Magician await you there...\"\r\n              rows=\"2\"\r\n              required\r\n              style={{\r\n                backgroundColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }}\r\n              value={this.state.summary}\r\n              onChange={this.onChange}\r\n            />\r\n          </div>\r\n          <div style={{ height: \"10px\" }} />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-dark\"\r\n            style={{\r\n              left: \"50%\",\r\n              position: \"absolute\",\r\n              transform: \"translateX(-50%)\",\r\n              marginTop: \"15px\"\r\n            }}\r\n          >\r\n            Save and start creating{\" \"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nNewQuest.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(NewQuest);\r\n","// Admin rights for Axel, Eric & Evariste --> find better implementation via Firebase (Admin SDK, user profiles ?)\r\nconst Admins = [\"88ghIWMAMIOxmF5VQ6PP50QqnKO2\"];\r\n\r\n// Maximum of 10 quests in progress per user --> to be implemented in Firebase security rules\r\n\r\n// Maximum of 5 quests submitted per user --> to be implemented in Firebase security rules\r\n\r\n// One user per email address --> already implemented in Firebase settings\r\n\r\n// Authentication via email + email confirmation + password recovery --> to be implemented in Firebase settings\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestsInProgress extends Component {\r\n  state = {\r\n    questsInProgressTotal: null,\r\n    questsInProgressFromScribeTotal: null,\r\n    questsInProgressFromScribe: null\r\n  };\r\n\r\n  // Filter quests in progress by ScribeID and determine total number of quests in progress from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsInProgress = props.questsInProgress;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsInProgress) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsInProgressFromScribe = questsInProgress;\r\n      } else {\r\n        questsInProgressFromScribe = questsInProgress.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsInProgressFromScribeTotal: questsInProgressFromScribe.length,\r\n        questsInProgressFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // delete quest in progress\r\n  onDeleteClick = async e => {\r\n    const { firestore } = this.props;\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    const title = e.target.getAttribute(\"data-title\");\r\n\r\n    if (\r\n      window.confirm(\r\n        `Are you sure you want to delete the Quest \"${title}\" ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      // deleting data from Firestore\r\n\r\n      await firestore.delete({\r\n        collection: \"QuestsInProgress\",\r\n        doc: id\r\n      });\r\n      // deleting files from Storage\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      let storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      let storageRef = storage.ref();\r\n\r\n      let questRef = storageRef.child(`${id}`);\r\n      const questParagraphList = await questRef.listAll();\r\n\r\n      await questParagraphList.prefixes.forEach(async el => {\r\n        let startingSoundAndImageFiles = await el.listAll();\r\n        await startingSoundAndImageFiles.items.forEach(elem => elem.delete());\r\n\r\n        let outcomeSoundsFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Sounds\")\r\n          .listAll();\r\n        await outcomeSoundsFiles.items.forEach(soundFile => soundFile.delete());\r\n\r\n        let outcomeImagesFiles = await el\r\n          .child(\"Outcomes\")\r\n          .child(\"Images\")\r\n          .listAll();\r\n        await outcomeImagesFiles.items.forEach(imageFile => imageFile.delete());\r\n      });\r\n    }\r\n  };\r\n\r\n  onSubmitClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questInProgress = {\r\n      ...this.props.questsInProgress.find(el => el.id === id)\r\n    };\r\n    console.log(JSON.stringify(questInProgress));\r\n\r\n    if (questInProgress.globalSaveCounter !== 1) {\r\n      window.alert(\r\n        \"You must do a Global Save before you can submit this Quest.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isVictory === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Victory Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"The Quest must have at least one Final Boss Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el => el.hasLinkToPreviousParagraph === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one previous Paragraph. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else if (\r\n      !questInProgress.Paragraphs.every(\r\n        el =>\r\n          el.hasLinkToNextParagraph === true ||\r\n          el.paragraphSubTypes.isVictory === true ||\r\n          el.paragraphSubTypes.isSuddenDeath === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"All Paragraphs of the Quest must be linked to at least one next Paragraph or be of Victory or Sudden Death type. Please edit the Quest and make a Global Save.\"\r\n      );\r\n    } else {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to submit the Quest '${\r\n            questInProgress.Title\r\n          }'?`\r\n        )\r\n      ) {\r\n        questInProgress.Status = \"Submitted\";\r\n        questInProgress.SubmissionDate = curday();\r\n\r\n        const result = await this.props.firestore.add(\r\n          { collection: \"QuestsSubmitted\" },\r\n          questInProgress\r\n        );\r\n        await this.props.firestore.update(\r\n          { collection: \"QuestsSubmitted\", doc: result.id },\r\n          {\r\n            id: result.id\r\n          }\r\n        );\r\n        await this.props.firestore.delete({\r\n          collection: \"QuestsInProgress\",\r\n          doc: id\r\n        });\r\n        window.alert(\r\n          `Your Quest has been properly submitted and will now be reviewed by the Team.`\r\n        );\r\n        this.props.history.push(`/questeditor/submitted/`);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsInProgressFromScribe,\r\n      questsInProgressFromScribeTotal\r\n    } = this.state;\r\n\r\n    if (questsInProgressFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests In Progress : <span>{questsInProgressFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of creation</th>\r\n                <th>Date of last edit</th>\r\n                <th>Nb of paragraphs</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsInProgressFromScribe.map(questInProgressFromScribe => (\r\n                <tr key={questInProgressFromScribe.id}>\r\n                  <td>{questInProgressFromScribe.Title}</td>\r\n                  <td>{questInProgressFromScribe.CreationDate}</td>\r\n                  <td>{questInProgressFromScribe.LastEditDate}</td>\r\n                  <td>{questInProgressFromScribe.NbParagraphs}</td>\r\n                  <td>\r\n                    <Link\r\n                      to={`/questeditor/details/${\r\n                        questInProgressFromScribe.id\r\n                      }`}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-right\" /> Edit\r\n                    </Link>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onDeleteClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-ban\" /> Delete\r\n                    </button>\r\n                    <button\r\n                      data-id={questInProgressFromScribe.id}\r\n                      data-title={questInProgressFromScribe.Title}\r\n                      onClick={this.onSubmitClick}\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                    >\r\n                      <i className=\"fas fa-arrow-circle-up\" /> Submit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsInProgress.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsInProgress: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsInProgress\" }]),\r\n  connect((state, props) => ({\r\n    questsInProgress: state.firestore.ordered.QuestsInProgress\r\n  }))\r\n)(QuestsInProgress);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport Web3 from \"web3\";\r\n\r\nimport { ethers } from \"ethers\";\r\nimport {\r\n  NonceTxMiddleware,\r\n  SignedEthTxMiddleware,\r\n  CryptoUtils,\r\n  Client,\r\n  LoomProvider,\r\n  Address,\r\n  LocalAddress,\r\n  Contracts,\r\n  EthersSigner,\r\n  createDefaultTxMiddleware\r\n} from \"loom-js\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport Admins from \"../auth/Admin\";\r\n\r\nconst firebase = require(\"firebase\");\r\n// Required for side-effects\r\nrequire(\"firebase/functions\");\r\n\r\nclass QuestsSubmitted extends Component {\r\n  state = {\r\n    questsSubmittedTotal: null,\r\n    questsSubmittedFromScribeTotal: null,\r\n    loom: {\r\n      counter: 0,\r\n      pending: true,\r\n      web3js: null,\r\n      chainId: \"extdev-plasma-us1\",\r\n      writeUrl: \"wss://extdev-plasma-us1.dappchains.com/websocket\",\r\n      readUrl: \"wss://extdev-plasma-us1.dappchains.com/queryws\",\r\n      networkId: 9545242630824,\r\n      callerChainId: \"eth\",\r\n      ethAddress: null,\r\n      client: null,\r\n      loomProvider: null,\r\n      contract: null,\r\n      publicKey: null\r\n    }\r\n  };\r\n\r\n  // Filter quests submitted by ScribeID and determine total number of quests submitted from the scribe\r\n  static getDerivedStateFromProps(props, state) {\r\n    const questsSubmitted = props.questsSubmitted;\r\n    var user = props.firebase.auth().currentUser;\r\n\r\n    if (questsSubmitted) {\r\n      if (Admins.includes(user.uid)) {\r\n        var questsSubmittedFromScribe = questsSubmitted;\r\n      } else {\r\n        questsSubmittedFromScribe = questsSubmitted.filter(\r\n          quest => quest.ScribeID === user.uid\r\n        );\r\n      }\r\n      return {\r\n        questsSubmittedFromScribeTotal: questsSubmittedFromScribe.length,\r\n        questsSubmittedFromScribe\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    // initiate web3\r\n    let web3js;\r\n    if (window.ethereum) {\r\n      window.web3 = new Web3(window.ethereum);\r\n      web3js = new Web3(window.ethereum);\r\n      await window.ethereum.enable();\r\n    } else if (window.web3) {\r\n      await window.web3.currentProvider.enable();\r\n      window.web3 = new Web3(window.web3.currentProvider);\r\n      console.log(window.web3);\r\n      web3js = new Web3(window.web3.currentProvider);\r\n      console.log(web3js);\r\n    } else {\r\n      console.log(\"Metamask is not Enabled\");\r\n    }\r\n    if (web3js) {\r\n      const newLoom = this.state.loom;\r\n      newLoom.web3js = web3js;\r\n\r\n      await this.setState({\r\n        loom: newLoom\r\n      });\r\n    }\r\n\r\n    console.log(this.state.loom);\r\n\r\n    // initiate loom\r\n    const privateKey = CryptoUtils.generatePrivateKey();\r\n    const newLoom2 = this.state.loom;\r\n    newLoom2.publicKey = CryptoUtils.publicKeyFromPrivateKey(privateKey);\r\n    await this.setState({\r\n      loom: newLoom2\r\n    });\r\n\r\n    const client = new Client(\r\n      this.state.loom.chainId,\r\n      this.state.loom.writeUrl,\r\n      this.state.loom.readUrl\r\n    );\r\n    const newLoom3 = this.state.loom;\r\n    newLoom3.client = client;\r\n    await this.setState({\r\n      loom: newLoom3\r\n    });\r\n\r\n    console.log(this.state.loom.client);\r\n\r\n    const ethersProvider = new ethers.providers.Web3Provider(\r\n      this.state.loom.web3js.currentProvider\r\n    );\r\n    const signer = ethersProvider.getSigner();\r\n    const ethAddress = await signer.getAddress();\r\n\r\n    const newLoom4 = this.state.loom;\r\n    newLoom4.ethAddress = ethAddress;\r\n\r\n    await this.setState({\r\n      loom: newLoom4\r\n    });\r\n\r\n    const to = new Address(\r\n      this.state.loom.callerChainId,\r\n      LocalAddress.fromHexString(this.state.loom.ethAddress)\r\n    );\r\n    const from = new Address(\r\n      this.state.loom.client.chainId,\r\n      LocalAddress.fromPublicKey(this.state.loom.publicKey)\r\n    );\r\n\r\n    const txMiddleware = createDefaultTxMiddleware(\r\n      this.state.loom.client,\r\n      privateKey\r\n    );\r\n\r\n    const newLoom5 = this.state.loom;\r\n    newLoom5.client.txMiddleware = txMiddleware;\r\n\r\n    await this.setState({\r\n      loom: newLoom5\r\n    });\r\n\r\n    console.log(\"OK here\");\r\n    console.log(this.state.loom.client);\r\n\r\n    const addressMapper = await Contracts.AddressMapper.createAsync(\r\n      this.state.loom.client,\r\n      from\r\n    );\r\n\r\n    console.log(\"OK here\");\r\n\r\n    if (await addressMapper.hasMappingAsync(to)) {\r\n      console.log(\"Mapping already exists.\");\r\n    } else {\r\n      console.log(\"Adding a new mapping.\");\r\n      const ethersSigner = new EthersSigner(signer);\r\n      await addressMapper.addIdentityMappingAsync(from, to, ethersSigner);\r\n    }\r\n\r\n    console.log(\"OK here\");\r\n\r\n    const newLoom6 = this.state.loom;\r\n    newLoom6.loomProvider = new LoomProvider(\r\n      this.state.loom.client,\r\n      privateKey\r\n    );\r\n\r\n    await this.setState({\r\n      loom: newLoom6\r\n    });\r\n\r\n    const newLoom7 = this.state.loom;\r\n    newLoom7.loomProvider.callerChainId = this.state.loom.callerChainId;\r\n\r\n    await this.setState({\r\n      loom: newLoom7\r\n    });\r\n    this.state.loom.loomProvider.setMiddlewaresForAddress(to.local.toString(), [\r\n      new NonceTxMiddleware(to, this.state.loom.client),\r\n      new SignedEthTxMiddleware(signer)\r\n    ]);\r\n  }\r\n\r\n  onGenerateVerifier = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    // get Paragraphs Array\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n    let paragraphsArray = questSubmitted.Paragraphs;\r\n\r\n    // create paragraphsMapping and outcomeArrayLengths out of Paragraphs Array\r\n\r\n    let orderedParagraphsArray = [];\r\n    paragraphsArray.forEach(el => {\r\n      let indexOfNextParagraph = orderedParagraphsArray.findIndex(\r\n        elem =>\r\n          elem.depthNumber > el.depthNumber ||\r\n          (elem.depthNumber === el.depthNumber &&\r\n            elem.paragraphNumber > el.paragraphNumber)\r\n      );\r\n      if (indexOfNextParagraph === -1) {\r\n        orderedParagraphsArray.push(el);\r\n      } else if (indexOfNextParagraph === 0) {\r\n        orderedParagraphsArray.unshift(el);\r\n      } else {\r\n        orderedParagraphsArray.splice(indexOfNextParagraph, 0, el);\r\n      }\r\n    });\r\n\r\n    let paragraphsMapping = [];\r\n\r\n    //added for new circuit\r\n    paragraphsMapping[orderedParagraphsArray.length] = [\r\n      orderedParagraphsArray.length\r\n    ];\r\n    paragraphsMapping[orderedParagraphsArray.length + 1] = [\r\n      orderedParagraphsArray.length + 1\r\n    ];\r\n    // end of addition\r\n\r\n    orderedParagraphsArray.forEach((el, index) => {\r\n      let outcomeArray = [];\r\n      if (el.nextParagraphs.length > 0) {\r\n        el.nextParagraphs.forEach(elem => {\r\n          let indexInParagraphsArray = orderedParagraphsArray.findIndex(\r\n            parag =>\r\n              elem.paragraphNumber === parag.paragraphNumber &&\r\n              elem.depthNumber === parag.depthNumber\r\n          );\r\n          outcomeArray.push(indexInParagraphsArray);\r\n        });\r\n      } else if (el.paragraphSubTypes.isSuddenDeath === true) {\r\n        outcomeArray = [orderedParagraphsArray.length];\r\n      } else if (el.paragraphSubTypes.isVictory === true) {\r\n        outcomeArray = [orderedParagraphsArray.length + 1];\r\n      } else window.alert(\"Error in creating paragraphsMapping.\");\r\n\r\n      paragraphsMapping[index] = outcomeArray;\r\n    });\r\n\r\n    let outcomeArrayLengths = [];\r\n    paragraphsMapping.forEach(el => outcomeArrayLengths.push(el.length));\r\n    let paragraphsMappingString = \"\";\r\n    paragraphsMapping.forEach(\r\n      el =>\r\n        (paragraphsMappingString = paragraphsMappingString.concat(`,[${el}]`))\r\n    );\r\n    paragraphsMappingString = paragraphsMappingString.substring(1);\r\n\r\n    await this.setState({\r\n      paragraphsMapping: `[${paragraphsMappingString}]`,\r\n      mappingLength: paragraphsMapping.length\r\n    });\r\n\r\n    // create circuit.circom file in local storage and save in Firebase storage\r\n\r\n    const firebase = this.props.firebase;\r\n\r\n    let circuit = `\r\n    \r\n    template Quest(n) {\r\n        signal private input moves[n];\r\n        signal output outcome;\r\n       \r\n    \r\n        var paragraphsMapping = [${paragraphsMappingString}];\r\n        var outcomeArrayLengths = [${outcomeArrayLengths}];    \r\n\r\n        var movesnumber = 0;\r\n        var j = 0;\r\n        var i;\r\n        var k;\r\n\r\n    for (i=0; i<n; i++) {\r\n\r\n        movesnumber++;\r\n\r\n                for (k = 0 ; k < outcomeArrayLengths[j]; k++ ) {\r\n                \r\n                    if (moves[i] == paragraphsMapping[j][k]) {\r\n                        movesnumber--;\r\n                        j = moves[i];\r\n\r\n                        if (j == ${orderedParagraphsArray.length +\r\n                          1} && movesnumber == 0) {\r\n                            i = n;\r\n                            outcome <-- 1;\r\n                    }\r\n                }                    \r\n            }       \r\n    }\r\n\r\n\r\n        // check that player has reached a victory paragraph as his last move\r\n        outcome === 1;\r\n\r\n    }\r\n    \r\n    component main = Quest(${paragraphsMapping.length});`;\r\n\r\n    let generateAndDeployVerifierCF = firebase\r\n      .functions()\r\n      .httpsCallable(\"generateAndDeployVerifier\");\r\n    let response = await generateAndDeployVerifierCF(circuit);\r\n\r\n    console.log(response.data);\r\n\r\n    var file1 = new File([response.data.verifierCode], \"verifier.sol\");\r\n    firebase.uploadFile(id, file1, null, {\r\n      name: \"verifier.sol\"\r\n    });\r\n\r\n    var file2 = new File([circuit], \"circuit.circom\");\r\n    firebase.uploadFile(id, file2, null, {\r\n      name: \"circuit.circom\"\r\n    });\r\n\r\n    await this.setState({\r\n      cirDef: response.data.cirDef,\r\n      verifierCode: response.data.verifierCode,\r\n      provingKey: response.data.provingKey,\r\n      verificationKey: response.data.verificationKey\r\n    });\r\n    window.alert(\"Verifier contract created and saved !\");\r\n  };\r\n\r\n  onDeployVerifier = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    // check if Verifier contract already deployed for this Quest, if yes show alert with address of existing contract\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n\r\n    if (questSubmitted.verifierContractAddress != undefined) {\r\n      if (\r\n        !window.confirm(\r\n          `A Verifier contract has already been deployed at the address ${questSubmitted.verifierContractAddress}. Are you sure you want to deploy a Verifier contract again for this Quest ?`\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    // fetch verifier.sol from Firebase Storage and throw error if no file is found\r\n\r\n    const storage = this.props.firebase.storage();\r\n    let storageRef = storage.ref();\r\n\r\n    let verifierRef = storageRef.child(`${id}/verifier.sol`);\r\n\r\n    verifierRef\r\n      .getDownloadURL()\r\n      .then(url => console.log(url))\r\n      .catch(err => {\r\n        console.log(err);\r\n        window.alert(\"No verifier.sol file was found !\");\r\n        return;\r\n      });\r\n\r\n    // compile verifier.sol, get account, deploy contract and return contract address\r\n\r\n    let deployVerifierContract = firebase\r\n      .functions()\r\n      .httpsCallable(\"deployVerifierContract\");\r\n    let compilation = await deployVerifierContract(this.state.verifierCode);\r\n    console.log(compilation);\r\n    await this.setState({ contractInterface: compilation.data.interface });\r\n\r\n    //const web3 = new Web3(window.web3.currentProvider);\r\n    const web3 = new Web3(this.state.loom.loomProvider);\r\n    // deploy contract and save address\r\n\r\n    const contract = await new web3.eth.Contract(\r\n      JSON.parse(compilation.data.interface)\r\n    );\r\n    console.log(contract);\r\n    contract.setProvider(this.state.loom.loomProvider);\r\n\r\n    const accounts = await web3.eth.getAccounts();\r\n    console.log(accounts);\r\n\r\n    //console.log(\"Attempting to deploy from account \", accounts[0]);\r\n    /*\r\n      const result = await new web3.eth.Contract(\r\n        JSON.parse(compilation.data.interface)\r\n      )\r\n        .deploy({ data: compilation.data.bytecode })\r\n        .send({ gas: \"2000000\", from: accounts[0] });\r\n*/\r\n\r\n    const result = await contract\r\n      .deploy({ data: compilation.data.bytecode })\r\n      .send({ from: accounts[0] });\r\n\r\n    console.log(\"Contract deployed to \", result.options.address);\r\n\r\n    let address = result.options.address;\r\n\r\n    // save contract address in Firestore and success message\r\n\r\n    await this.props.firestore.update(\r\n      { collection: \"QuestsSubmitted\", doc: id },\r\n      {\r\n        verifierContractAddress: address\r\n      }\r\n    );\r\n\r\n    window.alert(`Contract deployed at address ${address} !`);\r\n  };\r\n\r\n  onGenerateInputProofAndVerify = async e => {\r\n    // fetch user input of paragraph plays\r\n\r\n    let userInput = window.prompt(\r\n      `The paragraphs mapping is ${this.state.paragraphsMapping} Please enter the paragraph plays to test.`\r\n    );\r\n    userInput = userInput.toString();\r\n    let movesArray = [];\r\n\r\n    movesArray = userInput.split(\" \");\r\n\r\n    let gap = this.state.mappingLength - movesArray.length;\r\n\r\n    for (var j = 0; j < gap; j++) {\r\n      movesArray.push(\"0\");\r\n    }\r\n\r\n    let inputJSON = `{ \"moves\": [${movesArray}] }`;\r\n\r\n    // generate input.json from user input and save it in Firebase storage of the Quest\r\n    // use snarkjs library to calculate the witness from input.json and save witness.json in Firebase storage of the Quest\r\n    // use snarkjs library to create the proof from witness.json and proving_key.json and save proof.json and public.json in Firebase storage of the Quest\r\n    // run verification via snarkjs verify from verification_key.json, proof.json and public.json and do a window.alert with the result\r\n\r\n    let generateInputProofAndVerify = firebase\r\n      .functions()\r\n      .httpsCallable(\"generateInputProofAndVerify\");\r\n\r\n    let data = {};\r\n    data.cirDef = this.state.cirDef;\r\n    data.provingKey = this.state.provingKey;\r\n    data.inputJSON = inputJSON;\r\n    data.verificationKey = this.state.verificationKey;\r\n\r\n    let response = await generateInputProofAndVerify(data);\r\n\r\n    await this.setState({\r\n      proofJSONresponse: response.data.proofJSONresponse,\r\n      publicJSONresponse: response.data.publicJSONresponse\r\n    });\r\n\r\n    window.alert(response.data.message);\r\n  };\r\n\r\n  onTestVerifierContract = async e => {\r\n    // fetch quest ID\r\n\r\n    const id = e.target.getAttribute(\"data-id\");\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === id)\r\n    };\r\n\r\n    // use snarkjs library to generate call\r\n\r\n    let data = {};\r\n    data.publicJSONresponse = this.state.publicJSONresponse;\r\n    data.proofJSONresponse = this.state.proofJSONresponse;\r\n\r\n    let testVerifierContract = firebase\r\n      .functions()\r\n      .httpsCallable(\"testVerifierContract\");\r\n\r\n    let response = await testVerifierContract(data);\r\n\r\n    console.log(response);\r\n\r\n    // get Verifier contract address from Firebase database then send call to it\r\n\r\n    let address = questSubmitted.verifierContractAddress;\r\n\r\n    //const web3 = new Web3(window.web3.currentProvider);\r\n    const web3 = new Web3(this.state.loom.loomProvider);\r\n    const accounts = await web3.eth.getAccounts();\r\n    console.log(accounts);\r\n\r\n    let verifierContract = await new web3.eth.Contract(\r\n      JSON.parse(this.state.contractInterface),\r\n      address\r\n    );\r\n    verifierContract.setProvider(this.state.loom.loomProvider);\r\n\r\n    // return result and show it in window.alert\r\n\r\n    let argumentsForCall = JSON.parse(\"[\" + response.data + \"]\");\r\n    console.log(...argumentsForCall);\r\n\r\n    const check = await verifierContract.methods\r\n      .verifyProof(...argumentsForCall)\r\n      .call({ from: accounts[1] });\r\n\r\n    window.alert(check);\r\n\r\n    // clear state\r\n  };\r\n\r\n  onWithdrawClick = async e => {\r\n    const id = e.target.getAttribute(\"data-id\");\r\n\r\n    let questSubmitted = {\r\n      ...this.props.questsSubmitted.find(el => el.id === parseInt(id, 10))\r\n    };\r\n\r\n    if (questSubmitted.Status !== \"Submitted\") {\r\n      window.alert(\"You cannot withdraw this Quest.\");\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to withdraw the Quest '${questSubmitted.Title}' ?`\r\n      )\r\n    ) {\r\n      questSubmitted.Status = \"Withdrawn\";\r\n      questSubmitted.SubmissionDate = \"\";\r\n\r\n      const result = await this.props.firestore.add(\r\n        { collection: \"QuestsInProgress\" },\r\n        questSubmitted\r\n      );\r\n      await this.props.firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: result.id },\r\n        {\r\n          id: result.id\r\n        }\r\n      );\r\n      await this.props.firestore.delete({\r\n        collection: \"QuestsSubmitted\",\r\n        doc: id\r\n      });\r\n      window.alert(\r\n        \"Your Quest has been properly withdrawn and you can now access it in the Quest Editor.\"\r\n      );\r\n      this.props.history.push(`/questeditor/inprogress/`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      questsSubmittedFromScribe,\r\n      questsSubmittedFromScribeTotal\r\n    } = this.state;\r\n\r\n    // get authorization to connect to user wallet and instantiate web3\r\n    /*\r\n    const getProvider = async () => {\r\n      await window.web3.currentProvider.enable(); // request authentication\r\n    };\r\n    getProvider();\r\n*/\r\n    if (questsSubmittedFromScribe) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        >\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/menu/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Menu\r\n            </Link>\r\n          </div>\r\n          <h3>\r\n            Quests Submitted : <span>{questsSubmittedFromScribeTotal}</span>\r\n          </h3>\r\n          <table className=\"table\">\r\n            <thead className=\"thead-inverse\">\r\n              <tr>\r\n                <th>Title</th>\r\n                <th>Date of submission</th>\r\n                <th>Status</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {questsSubmittedFromScribe.map(questSubmittedFromScribe => (\r\n                <tr key={questSubmittedFromScribe.id}>\r\n                  <td>{questSubmittedFromScribe.Title}</td>\r\n                  <td>{questSubmittedFromScribe.SubmissionDate}</td>\r\n                  <td>{questSubmittedFromScribe.Status}</td>\r\n                  {questSubmittedFromScribe.Status === \"Submitted\" ? (\r\n                    <td>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onWithdrawClick}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        <i className=\"fas fa-arrow-circle-down\" /> Withdraw\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onGenerateVerifier}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Generate Verifier\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onDeployVerifier}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Deploy Verifier\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onGenerateInputProofAndVerify}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Test Proof\r\n                      </button>\r\n                      <button\r\n                        data-id={questSubmittedFromScribe.id}\r\n                        data-title={questSubmittedFromScribe.Title}\r\n                        onClick={this.onTestVerifierContract}\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                      >\r\n                        Test Verifier\r\n                      </button>\r\n                    </td>\r\n                  ) : (\r\n                    <td> </td>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestsSubmitted.propTypes = {\r\n  firestore: PropTypes.object.isRequired,\r\n  questsSubmitted: PropTypes.array\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect([{ collection: \"QuestsSubmitted\" }]),\r\n  connect((state, props) => ({\r\n    questsSubmitted: state.firestore.ordered.QuestsSubmitted\r\n  }))\r\n)(QuestsSubmitted);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultBackground from \"../../../notredame.jpg\";\r\n\r\nclass NarrationInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    narrationInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          narrationInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToSuddenDeath = () => {\r\n    this.props.setToSuddenDeath();\r\n  };\r\n\r\n  setToVictory = e => {\r\n    this.props.setToVictory(e.target);\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.narrationInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been selected by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <h4\r\n                style={{\r\n                  fontSize: \"0.8rem\",\r\n                  display: \"inline-block\",\r\n                  marginBottom: 0\r\n                }}\r\n              >\r\n                Ending Sound\r\n              </h4>{\" \"}\r\n              <input\r\n                type=\"file\"\r\n                accept=\"audio/wav\"\r\n                name=\"endingsound\"\r\n                id={`endingsound ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${followingParagraph.length}`}\r\n                style={{ display: \"none\" }}\r\n                rankinnextparagraphs={followingParagraph.length}\r\n                onChange={this.loadOutcomeSound}\r\n              />\r\n              <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                <label\r\n                  className=\"label-upload\"\r\n                  htmlFor={`endingsound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                  style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n                >\r\n                  (Upload Sound)\r\n                </label>\r\n              </p>\r\n              {this.state.outcomeSoundArray[followingParagraph.length] ? (\r\n                <audio\r\n                  controls\r\n                  src={\r\n                    this.state.outcomeSoundArray[followingParagraph.length]\r\n                      .outcomeSoundURL\r\n                      ? this.state.outcomeSoundArray[followingParagraph.length]\r\n                          .outcomeSoundURL\r\n                      : null\r\n                  }\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    width: \"140px\",\r\n                    height: \"15px\",\r\n                    paddingTop: \"3px\",\r\n                    paddingLeft: \"5px\"\r\n                  }}\r\n                  id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${followingParagraph.length}`}\r\n                >\r\n                  Your browser does not support the\r\n                  <code>audio</code> element.\r\n                </audio>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\", zIndex: 1 }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"narrationInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your narration here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.narrationInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n              {this.props.depthNumber === 0 ? null : (\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  {!this.props.isVictory &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Sudden Death</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isSuddenDeath}\r\n                        name=\"suddendeath\"\r\n                        onChange={this.setToSuddenDeath}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                  {!this.props.isSuddenDeath &&\r\n                  !this.props.hasLinkToNextParagraph ? (\r\n                    <div>\r\n                      <label style={{ marginBottom: 0 }}>Victory</label>\r\n                      {\"   \"}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={this.props.isVictory}\r\n                        name=\"victory\"\r\n                        onChange={this.setToVictory}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              )}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(NarrationInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DialogueDefaultBackground from \"../../../image assets/dialogue-default-background.jpg\";\r\n\r\nclass DialogueInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    dialogueInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          dialogueInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.dialogueInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    const paragraphOutcomes = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        paragraphOutcomes.push(\r\n          <div style={{ marginTop: \"5px\" }}>\r\n            <label\r\n              style={{\r\n                fontWeight: \"400\",\r\n                fontSize: \"0.6rem\",\r\n                lineHeight: \"0.8rem\",\r\n                paddingLeft: \"5px\",\r\n                display: \"inline-block\",\r\n                verticalAlign: \"top\"\r\n              }}\r\n            >\r\n              {`Answer leading to ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n            <div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  width: \"60%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <textarea\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name={`paragraphOutcomeText${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                  maxLength=\"150\"\r\n                  placeholder={`Write your answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }...`}\r\n                  rows=\"1\"\r\n                  required\r\n                  onChange={this.onChangeOutcomeText}\r\n                  value={\r\n                    this.state.nextParagraphs[paragraphOutcomes.length]\r\n                      ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          .outcomeText\r\n                      : \"\"\r\n                  }\r\n                  data-depnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }\r\n                  data-parnum={\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }\r\n                  style={{\r\n                    fontSize: \"0.6rem\",\r\n                    resize: \"none\",\r\n                    width: \"100%\",\r\n                    top: 0\r\n                  }}\r\n                />\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"inline-block\",\r\n                  overflowWrap: \"break-word\",\r\n                  width: \"40%\",\r\n                  verticalAlign: \"top\"\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"audio/wav\"\r\n                  name=\"outcomesound\"\r\n                  id={`outcomesound ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${j + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeSound}\r\n                  //  index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />\r\n                <p\r\n                  style={{\r\n                    marginBottom: 0,\r\n                    display: \"inline-block\",\r\n                    paddingLeft: \"5px\",\r\n                    lineHeight: \"0.8\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${j + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.65rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    (Upload Sound)\r\n                  </label>\r\n                </p>\r\n                {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                  <audio\r\n                    controls\r\n                    src={\r\n                      this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                        .outcomeSoundURL\r\n                        ? this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                        : null\r\n                    }\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"140px\",\r\n                      height: \"15px\",\r\n                      paddingBottom: \"3px\",\r\n                      paddingLeft: \"5px\"\r\n                    }}\r\n                    id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${paragraphOutcomes.length}`}\r\n                  >\r\n                    Your browser does not support the\r\n                    <code>audio</code> element.\r\n                  </audio>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DialogueDefaultBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"dialogueInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your dialogue line here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.dialogueInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(DialogueInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Pointers catalogue`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class PointersCatalogue extends Component {\r\n  state = {\r\n    pointerArray: [\r\n      { id: 1, isSelected: true },\r\n      { id: 2, isSelected: false },\r\n      { id: 3, isSelected: false },\r\n      { id: 4, isSelected: false },\r\n      { id: 5, isSelected: false },\r\n      { id: 6, isSelected: false }\r\n    ]\r\n  };\r\n\r\n  selectPointer = e => {\r\n    let pointerArrayWithSelection = this.state.pointerArray;\r\n    pointerArrayWithSelection.forEach(el => (el.isSelected = false));\r\n    pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !pointerArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    this.setState({\r\n      pointerArray: pointerArrayWithSelection\r\n    });\r\n\r\n    this.props.selectPointer(\r\n      this.props.rankinnextparagraphs,\r\n      e.currentTarget.children[0].src\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let pointersCatalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      pointersCatalogue.push(\r\n        <div\r\n          className={`pointer-selection ${\r\n            this.state.pointerArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\" }}\r\n          onClick={this.selectPointer}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"pointer-img\"\r\n            alt=\"pointer\"\r\n            style={{\r\n              height: \"45px\",\r\n              width: \"45px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return <div>{pointersCatalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport PointersCatalogue from \"./PointersCatalogue\";\r\n\r\nimport DefaultPathBackground from \"../../../image assets/path-default-background.jpg\";\r\nimport DefaultPointer from \"../../../image assets/Pointers catalogue/1.png\";\r\n\r\nclass PathInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n\r\n  state = {\r\n    pathInputText: \"\",\r\n    selectedPointers: [],\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        let selectedPointersFromFirestore = [];\r\n        paragraphInFirestore.nextParagraphs.forEach(el => {\r\n          if (el.selectedPointer) {\r\n            selectedPointersFromFirestore.push(el.selectedPointer);\r\n          } else\r\n            selectedPointersFromFirestore.push({\r\n              image: DefaultPointer,\r\n              top: 0,\r\n              left: 0\r\n            });\r\n        });\r\n        await this.setState({\r\n          pathInputText: paragraphInFirestore.inputText,\r\n          selectedPointers: selectedPointersFromFirestore\r\n        });\r\n      }\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.nextParagraphs.length !== prevProps.nextParagraphs.length &&\r\n      this.props.isPointAndClickPath === true\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      if (this.props.nextParagraphs.length > prevProps.nextParagraphs.length) {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      }\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = this.props.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n\r\n        updatedSelectedPointers.splice(indexOfDeletedNextParagraph, 1);\r\n      }\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === true &&\r\n      prevProps.isPointAndClickPath === false\r\n    ) {\r\n      let updatedSelectedPointers = [...this.state.selectedPointers];\r\n      this.props.nextParagraphs.forEach(() => {\r\n        updatedSelectedPointers.push({\r\n          image: DefaultPointer,\r\n          top: 0,\r\n          left: 0\r\n        });\r\n      });\r\n\r\n      await this.setState({ selectedPointers: updatedSelectedPointers });\r\n    }\r\n\r\n    if (\r\n      prevProps &&\r\n      this.props.isPointAndClickPath === false &&\r\n      prevProps.isPointAndClickPath === true\r\n    ) {\r\n      await this.setState({ selectedPointers: [] });\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n\r\n      // adjusting outcomeSoundArray according to the number of next paragraphs\r\n      if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n        let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n          (el, index) =>\r\n            prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n        );\r\n        let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n        newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n        this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      var image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToPointAndClickPath = () => {\r\n    this.props.setToPointAndClickPath();\r\n  };\r\n\r\n  setToTextualPath = () => {\r\n    this.props.setToTextualPath();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.pathInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArray = [];\r\n    this.state.outcomeSoundArray.forEach(el => inputArray.push({ ...el }));\r\n    inputs.push(inputArray);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectPointer = async (rankInNextParagraphs, imageSRC) => {\r\n    let updatedSelectedPointers = this.state.selectedPointers;\r\n    updatedSelectedPointers[rankInNextParagraphs] = {\r\n      image: imageSRC,\r\n      top: 0,\r\n      left: 0\r\n    };\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointers\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointers);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var pointerInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      pointerInMovement: pointerInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n    pointerInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    pointerInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let pointerInMovement = this.state.pointerInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 50x50 pointer image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      pointerInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 274) {\r\n      pointerInMovement.style.left = 274 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      pointerInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 160) {\r\n      pointerInMovement.style.top = 160 + \"px\";\r\n    } else {\r\n      pointerInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let rankInNextParagraphs = pointerInMovement.getAttribute(\r\n      \"rankinnextparagraphs\"\r\n    );\r\n    let updatedSelectedPointersWithCoordinates = [];\r\n    this.state.selectedPointers.forEach(el =>\r\n      updatedSelectedPointersWithCoordinates.push({ ...el })\r\n    );\r\n\r\n    updatedSelectedPointersWithCoordinates[\r\n      rankInNextParagraphs\r\n    ].left = parseInt(pointerInMovement.style.left, 10);\r\n    updatedSelectedPointersWithCoordinates[rankInNextParagraphs].top = parseInt(\r\n      pointerInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedPointers: updatedSelectedPointersWithCoordinates\r\n    });\r\n    // updating nextParagraphs in Paragraph state\r\n    await this.props.selectPointer(updatedSelectedPointersWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n    let draggablePointers = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualPath:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Choice leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your path choice to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isPointAndClickPath:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\", position: \"relative\" }}>\r\n                <li className=\"dropdown\">\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    {`Pointer leading to ${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .depthNumber\r\n                    }-${\r\n                      this.props.paragraphData.paragraphLinkRegister[k]\r\n                        .paragraphNumber\r\n                    }`}\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                    id={k}\r\n                  >\r\n                    {\r\n                      <PointersCatalogue\r\n                        //  index in the nextParagraphs array --> -1 not included due to different timing in calculation of props value (?)\r\n                        rankinnextparagraphs={paragraphOutcomes.length}\r\n                        selectPointer={this.selectPointer}\r\n                      />\r\n                    }\r\n                  </div>\r\n                </li>\r\n                <img\r\n                  src={\r\n                    this.state.selectedPointers[paragraphOutcomes.length]\r\n                      ? this.state.selectedPointers[paragraphOutcomes.length]\r\n                          .image\r\n                      : DefaultPointer\r\n                  }\r\n                  className=\"card-img-top\"\r\n                  alt=\"Answer by default\"\r\n                  style={{ maxHeight: \"50px\", maxWidth: \"50px\" }}\r\n                  id={`answerIMG ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                />\r\n                <div\r\n                  style={{\r\n                    display: \"inline-block\",\r\n                    overflowWrap: \"break-word\",\r\n                    width: \"40%\",\r\n                    verticalAlign: \"top\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"audio/wav\"\r\n                    name=\"outcomesound\"\r\n                    id={`outcomesound ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{ display: \"none\" }}\r\n                    // index in the nextParagraphs array\r\n                    rankinnextparagraphs={paragraphOutcomes.length}\r\n                    onChange={this.loadOutcomeSound}\r\n                  />\r\n                  <p\r\n                    style={{\r\n                      marginBottom: 0,\r\n                      display: \"inline-block\",\r\n                      paddingLeft: \"5px\",\r\n                      lineHeight: \"0.8rem\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <label\r\n                      className=\"label-upload\"\r\n                      htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        marginBottom: 0,\r\n                        fontSize: \"0.65rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      (Upload Sound)\r\n                    </label>\r\n                  </p>\r\n                  {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                    <audio\r\n                      controls\r\n                      src={\r\n                        this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                          .outcomeSoundURL\r\n                          ? this.state.outcomeSoundArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeSoundURL\r\n                          : null\r\n                      }\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                        width: \"140px\",\r\n                        height: \"15px\",\r\n                        paddingBottom: \"3px\",\r\n                        paddingLeft: \"5px\"\r\n                      }}\r\n                      id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${paragraphOutcomes.length}`}\r\n                    >\r\n                      Your browser does not support the\r\n                      <code>audio</code> element.\r\n                    </audio>\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n            );\r\n\r\n            draggablePointers.push(\r\n              <img\r\n                src={\r\n                  this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                    ? this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                        .image\r\n                    : DefaultPointer\r\n                }\r\n                className=\"card-img-top-pointer\"\r\n                alt=\"Answer by default\"\r\n                draggable=\"true\"\r\n                style={{\r\n                  maxHeight: \"50px\",\r\n                  maxWidth: \"50px\",\r\n                  position: \"absolute\",\r\n                  top: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].top\r\n                      : 0\r\n                  }px`,\r\n                  left: `${\r\n                    this.state.selectedPointers[paragraphOutcomes.length - 1]\r\n                      ? this.state.selectedPointers[\r\n                          paragraphOutcomes.length - 1\r\n                        ].left\r\n                      : 0\r\n                  }px`\r\n                }}\r\n                id={`draggableIMG ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                } - ${k}`}\r\n                onDragStart={this.drag_start}\r\n                // index in the nextParagraphs array\r\n                rankinnextparagraphs={paragraphOutcomes.length - 1}\r\n              />\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultPathBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            {draggablePointers}\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"pathInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your path choice description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChange}\r\n                value={this.state.pathInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isPointAndClickPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualPath}\r\n                      name=\"textualpath\"\r\n                      onChange={this.setToTextualPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualPath ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Point & Click</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isPointAndClickPath}\r\n                      name=\"pointandclickpath\"\r\n                      onChange={this.setToPointAndClickPath}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(PathInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport DefaultRiddleQuestion from \"../../../image assets/riddle-default-question.jpg\";\r\nimport DefaultAnswer from \"../../../image assets/riddle-default-answer.jpg\";\r\n\r\nclass RiddleInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n    this.loadOutcomeImage = this.loadOutcomeImage.bind(this);\r\n    this.loadOutcomeSound = this.loadOutcomeSound.bind(this);\r\n  }\r\n  state = {\r\n    riddleInputText: \"\",\r\n    backgroundImageCounter: 0,\r\n    startingSoundCounter: 0,\r\n    outcomeSoundArray: [],\r\n    outcomeImageArray: [],\r\n    nextParagraphs: []\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeSoundURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeSoundArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeSoundURL !== undefined) {\r\n              syncedOutcomeSoundArray[index] = {\r\n                outcomeSoundCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeSoundURL: elem.outcomeSoundURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeSoundArray: syncedOutcomeSoundArray });\r\n        }\r\n\r\n        if (\r\n          paragraphInFirestore.nextParagraphs.some(\r\n            el => el.outcomeImageURL !== undefined\r\n          )\r\n        ) {\r\n          let syncedOutcomeImageArray = [];\r\n\r\n          paragraphInFirestore.nextParagraphs.forEach((elem, index) => {\r\n            if (elem.outcomeImageURL !== undefined) {\r\n              syncedOutcomeImageArray[index] = {\r\n                outcomeImageCounter: 0,\r\n                rankInNextParagraphs: index,\r\n                outcomeImageURL: elem.outcomeImageURL\r\n              };\r\n            }\r\n          });\r\n          await this.setState({ outcomeImageArray: syncedOutcomeImageArray });\r\n        }\r\n      }\r\n    }\r\n    if (this.props.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          riddleInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.nextParagraphs !== prevProps.nextParagraphs) {\r\n      await this.setState({ nextParagraphs: this.props.nextParagraphs });\r\n    }\r\n\r\n    // adjusting outcomeSoundArray and outcomeImageArray according to the number of next paragraphs\r\n    if (this.props.nextParagraphs.length < prevProps.nextParagraphs.length) {\r\n      let indexOfDeletedNextParagraph = prevProps.nextParagraphs.findIndex(\r\n        (el, index) =>\r\n          prevProps.nextParagraphs[index] !== this.props.nextParagraphs[index]\r\n      );\r\n\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      newOutcomeSoundArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeSoundArray: newOutcomeSoundArray });\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      newOutcomeImageArray.splice(indexOfDeletedNextParagraph, 1);\r\n      this.setState({ outcomeImageArray: newOutcomeImageArray });\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onChangeOutcomeText = async e => {\r\n    let outcomeDepthNumber = parseInt(e.target.getAttribute(\"data-depnum\"), 10);\r\n\r\n    let outcomeParagraphNumber = parseInt(\r\n      e.target.getAttribute(\"data-parnum\"),\r\n      10\r\n    );\r\n\r\n    let nextParagraphsUpdated = [...this.state.nextParagraphs];\r\n    let nextParagraphToUpdate = {\r\n      ...nextParagraphsUpdated.find(\r\n        el =>\r\n          el.depthNumber === outcomeDepthNumber &&\r\n          el.paragraphNumber === outcomeParagraphNumber\r\n      )\r\n    };\r\n\r\n    nextParagraphToUpdate.outcomeText = e.target.value;\r\n\r\n    let index = nextParagraphsUpdated.findIndex(\r\n      el =>\r\n        el.depthNumber === outcomeDepthNumber &&\r\n        el.paragraphNumber === outcomeParagraphNumber\r\n    );\r\n\r\n    nextParagraphsUpdated[index] = nextParagraphToUpdate;\r\n\r\n    await this.setState({ nextParagraphs: nextParagraphsUpdated });\r\n    await this.props.changeOutcomeText(\r\n      outcomeDepthNumber,\r\n      outcomeParagraphNumber,\r\n      nextParagraphToUpdate.outcomeText\r\n    );\r\n  };\r\n\r\n  loadBackgroundImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  }\r\n\r\n  loadOutcomeImage(e) {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let outcomeImageURL = URL.createObjectURL(e.target.files[0]);\r\n\r\n      let newOutcomeImageArray = this.state.outcomeImageArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      newOutcomeImageArray[rankInNextParagraphs] = {\r\n        outcomeImage: e.target.files[0],\r\n        outcomeImageCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeImageURL\r\n      };\r\n\r\n      this.setState({\r\n        outcomeImageArray: newOutcomeImageArray\r\n      });\r\n    }\r\n  }\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  loadOutcomeSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      let newOutcomeSoundArray = this.state.outcomeSoundArray;\r\n      let rankInNextParagraphs = parseInt(\r\n        e.target.getAttribute(\"rankinnextparagraphs\"),\r\n        10\r\n      );\r\n      let outcomeSoundURL = URL.createObjectURL(file);\r\n      newOutcomeSoundArray[rankInNextParagraphs] = {\r\n        outcomeSound: file,\r\n        outcomeSoundCounter: 1,\r\n        rankInNextParagraphs: rankInNextParagraphs,\r\n        outcomeSoundURL\r\n      };\r\n\r\n      await this.setState({\r\n        outcomeSoundArray: newOutcomeSoundArray\r\n      });\r\n    }\r\n  };\r\n\r\n  setToGraphicalRiddle = () => {\r\n    this.props.setToGraphicalRiddle();\r\n  };\r\n\r\n  setToTextualRiddle = () => {\r\n    this.props.setToTextualRiddle();\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.riddleInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArraySounds = [];\r\n    this.state.outcomeSoundArray.forEach(el =>\r\n      inputArraySounds.push({ ...el })\r\n    );\r\n    inputs.push(inputArraySounds);\r\n\r\n    let resetOutcomeSoundArray = this.state.outcomeSoundArray;\r\n    resetOutcomeSoundArray.map(el => (el.outcomeSoundCounter = 0));\r\n    await this.setState({ outcomeSoundArray: resetOutcomeSoundArray });\r\n\r\n    // need to make a shallow copy of the objects for the inputs, otherwise the following reset would affect them before the save function is launched\r\n    let inputArrayImages = [];\r\n    this.state.outcomeImageArray.forEach(el =>\r\n      inputArrayImages.push({ ...el })\r\n    );\r\n    inputs.push(inputArrayImages);\r\n\r\n    let resetOutcomeImageArray = this.state.outcomeImageArray;\r\n    resetOutcomeImageArray.map(el => (el.outcomeImageCounter = 0));\r\n    await this.setState({ outcomeImageArray: resetOutcomeImageArray });\r\n\r\n    // pass on inputs to paragraph component\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  render() {\r\n    // check all paragraph links and render paragraph outcomes\r\n    let paragraphOutcomes = [];\r\n\r\n    switch (true) {\r\n      case this.props.isTextualRiddle:\r\n        for (\r\n          var j = 0;\r\n          j < this.props.paragraphData.paragraphLinkRegister.length;\r\n          j += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[j]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <label\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\"\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[j]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </label>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <textarea\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name={`paragraphOutcomeText${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }`}\r\n                      maxLength=\"150\"\r\n                      placeholder={`Write your answer leading to ${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }-${\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }...`}\r\n                      rows=\"1\"\r\n                      required\r\n                      onChange={this.onChangeOutcomeText}\r\n                      value={\r\n                        this.state.nextParagraphs[paragraphOutcomes.length]\r\n                          ? this.state.nextParagraphs[paragraphOutcomes.length]\r\n                              .outcomeText\r\n                          : \"\"\r\n                      }\r\n                      data-depnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .depthNumber\r\n                      }\r\n                      data-parnum={\r\n                        this.props.paragraphData.paragraphLinkRegister[j]\r\n                          .paragraphNumber\r\n                      }\r\n                      style={{\r\n                        fontSize: \"0.6rem\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        top: 0\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${j + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      onChange={this.loadOutcomeSound}\r\n                      // index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${j + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      case this.props.isGraphicalRiddle:\r\n        for (\r\n          var k = 0;\r\n          k < this.props.paragraphData.paragraphLinkRegister.length;\r\n          k += 1\r\n        ) {\r\n          if (\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n            this.props.paragraphData.paragraphLinkRegister[k]\r\n              .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n          ) {\r\n            paragraphOutcomes.push(\r\n              <div style={{ marginTop: \"5px\" }}>\r\n                <h4\r\n                  style={{\r\n                    fontWeight: \"400\",\r\n                    fontSize: \"0.6rem\",\r\n                    lineHeight: \"0.8rem\",\r\n                    paddingLeft: \"5px\",\r\n                    display: \"inline-block\",\r\n                    verticalAlign: \"top\",\r\n                    marginBottom: 0\r\n                  }}\r\n                >\r\n                  {`Answer leading to ${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .depthNumber\r\n                  }-${\r\n                    this.props.paragraphData.paragraphLinkRegister[k]\r\n                      .paragraphNumber\r\n                  }`}\r\n                </h4>\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg, image/png\"\r\n                  name=\"image\"\r\n                  id={`answerimage ${this.props.depthNumber} - ${\r\n                    this.props.paragraphNumber\r\n                  } - ${k + 1}`}\r\n                  style={{ display: \"none\" }}\r\n                  onChange={this.loadOutcomeImage}\r\n                  // index in the nextParagraphs array\r\n                  rankinnextparagraphs={paragraphOutcomes.length}\r\n                />{\" \"}\r\n                <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n                  <label\r\n                    className=\"label-upload\"\r\n                    htmlFor={`answerimage ${this.props.depthNumber} - ${\r\n                      this.props.paragraphNumber\r\n                    } - ${k + 1}`}\r\n                    style={{\r\n                      cursor: \"pointer\",\r\n                      marginBottom: 0,\r\n                      fontSize: \"0.6rem\",\r\n                      verticalAlign: \"top\",\r\n                      lineHeight: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    (Upload Image)\r\n                  </label>\r\n                </p>\r\n                <div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      width: \"60%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={\r\n                        this.state.outcomeImageArray[\r\n                          paragraphOutcomes.length\r\n                        ] &&\r\n                        this.state.outcomeImageArray[paragraphOutcomes.length]\r\n                          .outcomeImageURL\r\n                          ? this.state.outcomeImageArray[\r\n                              paragraphOutcomes.length\r\n                            ].outcomeImageURL\r\n                          : DefaultAnswer\r\n                      }\r\n                      className=\"card-img-top\"\r\n                      alt=\"Answer by default\"\r\n                      style={{ width: \"100%\", maxHeight: \"30px\" }}\r\n                      id={`answerIMG ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    style={{\r\n                      display: \"inline-block\",\r\n                      overflowWrap: \"break-word\",\r\n                      width: \"40%\",\r\n                      verticalAlign: \"top\"\r\n                    }}\r\n                  >\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      name=\"outcomesound\"\r\n                      id={`outcomesound ${this.props.depthNumber} - ${\r\n                        this.props.paragraphNumber\r\n                      } - ${k + 1}`}\r\n                      style={{ display: \"none\" }}\r\n                      //  index in the nextParagraphs array\r\n                      rankinnextparagraphs={paragraphOutcomes.length}\r\n                      onChange={this.loadOutcomeSound}\r\n                    />\r\n                    <p\r\n                      style={{\r\n                        marginBottom: 0,\r\n                        display: \"inline-block\",\r\n                        paddingLeft: \"5px\",\r\n                        lineHeight: \"0.8rem\",\r\n                        verticalAlign: \"top\"\r\n                      }}\r\n                    >\r\n                      <label\r\n                        className=\"label-upload\"\r\n                        htmlFor={`outcomesound ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${k + 1}`}\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          marginBottom: 0,\r\n                          fontSize: \"0.65rem\",\r\n                          verticalAlign: \"top\"\r\n                        }}\r\n                      >\r\n                        (Upload Sound)\r\n                      </label>\r\n                    </p>\r\n                    {this.state.outcomeSoundArray[paragraphOutcomes.length] ? (\r\n                      <audio\r\n                        controls\r\n                        src={\r\n                          this.state.outcomeSoundArray[paragraphOutcomes.length]\r\n                            .outcomeSoundURL\r\n                            ? this.state.outcomeSoundArray[\r\n                                paragraphOutcomes.length\r\n                              ].outcomeSoundURL\r\n                            : null\r\n                        }\r\n                        style={{\r\n                          display: \"inline-block\",\r\n                          width: \"140px\",\r\n                          height: \"15px\",\r\n                          paddingBottom: \"3px\",\r\n                          paddingLeft: \"5px\"\r\n                        }}\r\n                        id={`outcomeSoundControls ${this.props.depthNumber} - ${\r\n                          this.props.paragraphNumber\r\n                        } - ${paragraphOutcomes.length}`}\r\n                      >\r\n                        Your browser does not support the\r\n                        <code>audio</code> element.\r\n                      </audio>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        paragraphOutcomes = [];\r\n    }\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultRiddleQuestion\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"riddleInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your riddle description here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.riddleInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\"\r\n                }}\r\n              >\r\n                {!this.props.isGraphicalRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Textual</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isTextualRiddle}\r\n                      name=\"textualriddle\"\r\n                      onChange={this.setToTextualRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isTextualRiddle ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Graphical</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isGraphicalRiddle}\r\n                      name=\"graphicalriddle\"\r\n                      onChange={this.setToGraphicalRiddle}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n            <div>{paragraphOutcomes}</div>\r\n          </div>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(RiddleInput);\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Holoween\",\r\n        attackPoints: 6,\r\n        defensePoints: 4,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Nightlyskelly\",\r\n        attackPoints: 8,\r\n        defensePoints: 7,\r\n        healthPoints: 7,\r\n        isSelected: false\r\n      },\r\n      {\r\n        name: \"Treep\",\r\n        attackPoints: 7,\r\n        defensePoints: 9,\r\n        healthPoints: 8,\r\n        isSelected: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/elite mobs`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Oger\",\r\n        attackPoints: 10,\r\n        defensePoints: 8,\r\n        healthPoints: 14\r\n      },\r\n      {\r\n        name: \"Kongo\",\r\n        attackPoints: 9,\r\n        defensePoints: 9,\r\n        healthPoints: 13\r\n      },\r\n      {\r\n        name: \"Zoidborg\",\r\n        attackPoints: 7,\r\n        defensePoints: 11,\r\n        healthPoints: 12\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nfunction importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst images = importAll(\r\n  require.context(\r\n    `../../../image assets/Monsters catalogue/final bosses`,\r\n    false,\r\n    /\\.(png|jpe?g|svg)$/\r\n  )\r\n);\r\n\r\nexport default class MobMonsterCatalogue extends Component {\r\n  state = {\r\n    monsterArray: [\r\n      {\r\n        name: \"Ragnarosito\",\r\n        attackPoints: 15,\r\n        defensePoints: 12,\r\n        healthPoints: 20\r\n      },\r\n      {\r\n        name: \"The Beakster\",\r\n        attackPoints: 18,\r\n        defensePoints: 10,\r\n        healthPoints: 16\r\n      }\r\n    ]\r\n  };\r\n\r\n  selectMonster = e => {\r\n    this.state.monsterArray.forEach(el => (el.isSelected = false));\r\n    let monsterArrayWithSelection = this.state.monsterArray;\r\n    monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected = !monsterArrayWithSelection[\r\n      e.currentTarget.getAttribute(\"id\")\r\n    ].isSelected;\r\n    // uploading monster characteristics and image to CombatInput component\r\n    this.props.selectMonster(\r\n      this.state.monsterArray[e.currentTarget.getAttribute(\"id\")],\r\n      e.currentTarget.children[0].src\r\n    );\r\n    this.setState({\r\n      monsterArray: monsterArrayWithSelection\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let catalogue = [];\r\n    for (var i = 1; i <= Object.keys(images).length; i++) {\r\n      catalogue.push(\r\n        <div\r\n          className={`monster-selection ${\r\n            this.state.monsterArray[i - 1].isSelected ? \"selected\" : null\r\n          }`}\r\n          style={{ display: \"inline-block\", width: \"100%\" }}\r\n          onClick={this.selectMonster}\r\n          id={i - 1}\r\n        >\r\n          <img\r\n            src={images[`${i}.png`]}\r\n            className=\"mob-img\"\r\n            alt=\"Mob\"\r\n            style={{\r\n              height: \"135px\",\r\n              width: \"135px\",\r\n              display: \"inline-block\",\r\n              verticalAlign: \"top\"\r\n            }}\r\n          />\r\n          <div style={{ display: \"inline-block\" }}>\r\n            <h5 style={{ fontSize: \"0.8rem\", marginBottom: 0 }}>\r\n              {this.state.monsterArray[i - 1].name}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Attack Points : {this.state.monsterArray[i - 1].attackPoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Defense Points : {this.state.monsterArray[i - 1].defensePoints}\r\n            </h5>\r\n            <h5\r\n              style={{\r\n                fontSize: \"0.6rem\",\r\n                fontStyle: \"italic\",\r\n                marginBottom: 0,\r\n                marginLeft: \"5px\"\r\n              }}\r\n            >\r\n              Health Points : {this.state.monsterArray[i - 1].healthPoints}\r\n            </h5>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <div>{catalogue}</div>;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport MobMonsterCatalogue from \"./MobMonsterCatalogue\";\r\nimport EliteMobMonsterCatalogue from \"./EliteMobMonsterCatalogue\";\r\nimport FinalBossMonsterCatalogue from \"./FinalBossMonsterCatalogue\";\r\n\r\nimport DefaultCombatBackground from \"../../../image assets/combat-default-background.jpg\";\r\n\r\nclass CombatInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loadBackgroundImage = this.loadBackgroundImage.bind(this);\r\n    this.loadStartingSound = this.loadStartingSound.bind(this);\r\n  }\r\n  state = {\r\n    selectedMonster: {},\r\n    combatInputText: \"\",\r\n    backgroundImageCounter: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.state.selectedMonster !== this.props.selectedMonster) {\r\n      await this.setState({ selectedMonster: this.props.selectedMonster });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (this.props.id !== prevProps.id) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n        await this.setState({\r\n          combatInputText: paragraphInFirestore.inputText\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangeInputText = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  loadBackgroundImage = async e => {\r\n    if (e.target.files[0].size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      const selector = `outputIMG ${this.props.depthNumber} - ${\r\n        this.props.paragraphNumber\r\n      }`;\r\n      let image = document.getElementById(selector);\r\n      image.src = URL.createObjectURL(e.target.files[0]);\r\n\r\n      await this.setState({\r\n        backgroundImage: e.target.files[0],\r\n        backgroundImageCounter: 1\r\n      });\r\n    }\r\n  };\r\n\r\n  loadStartingSound = async e => {\r\n    let file = e.target.files[0];\r\n    if (file.size > this.props.bytesLimitForUploads) {\r\n      window.alert(\r\n        `The file size cannot exceed ${this.props.bytesLimitForUploads /\r\n          1000000} MB.`\r\n      );\r\n    } else {\r\n      await this.setState({\r\n        startingSound: file,\r\n        startingSoundCounter: 1\r\n      });\r\n      let controls = document.getElementById(\r\n        `startingSoundControls ${this.props.depthNumber} - ${\r\n          this.props.paragraphNumber\r\n        }`\r\n      );\r\n      controls.src = URL.createObjectURL(file);\r\n    }\r\n  };\r\n\r\n  setToMobCombat = async () => {\r\n    if (this.props.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToMobCombat();\r\n  };\r\n  setToEliteMobCombat = async () => {\r\n    if (this.props.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    await this.props.setToEliteMobCombat();\r\n  };\r\n  setToFinalBossCombat = async () => {\r\n    if (\r\n      this.props.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and must be of 'Final Boss' type. If you want to change the type of mob, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else {\r\n      if (this.props.isFinalBossCombat) {\r\n        await this.setState({ selectedMonster: {} });\r\n      }\r\n      await this.props.setToFinalBossCombat();\r\n    }\r\n  };\r\n\r\n  deleteParagraph = e => {\r\n    this.props.deleteParagraph(e);\r\n  };\r\n\r\n  saveParagraph = async e => {\r\n    e.preventDefault();\r\n    let inputs = [];\r\n    inputs.push(this.state.combatInputText);\r\n\r\n    if (this.state.backgroundImage && this.state.backgroundImageCounter === 1) {\r\n      inputs.push(this.state.backgroundImage);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        backgroundImageCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.backgroundImage &&\r\n      this.state.backgroundImageCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    if (this.state.startingSound && this.state.startingSoundCounter === 1) {\r\n      inputs.push(this.state.startingSound);\r\n      // setting the counters to 0 so that files aren't uploaded again to Firebase in case of a new save, except if a new file has been uploaded by the user\r\n      await this.setState({\r\n        startingSoundCounter: 0\r\n      });\r\n    } else if (\r\n      this.state.startingSound &&\r\n      this.state.startingSoundCounter === 0\r\n    ) {\r\n      inputs.push(\"already uploaded\");\r\n    } else inputs.push(null);\r\n\r\n    await this.props.saveParagraph(...inputs);\r\n  };\r\n\r\n  selectMonster = async (monsterArray, monsterImage) => {\r\n    let updatedSelectedMonster = { ...this.state.selectedMonster };\r\n    updatedSelectedMonster.characteristics = monsterArray;\r\n    updatedSelectedMonster.image = monsterImage;\r\n    updatedSelectedMonster.left = 0;\r\n    updatedSelectedMonster.top = 0;\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonster\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonster);\r\n  };\r\n\r\n  drag_start = async event => {\r\n    var monsterInMovement = event.target;\r\n\r\n    var style = window.getComputedStyle(event.target, null);\r\n    var offset_data =\r\n      parseInt(style.getPropertyValue(\"left\"), 10) -\r\n      event.clientX +\r\n      \",\" +\r\n      (parseInt(style.getPropertyValue(\"top\"), 10) - event.clientY);\r\n\r\n    event.dataTransfer.setData(\"text/plain\", offset_data);\r\n    this.setState({\r\n      monsterInMovement: monsterInMovement,\r\n      offset_data: offset_data\r\n    });\r\n  };\r\n\r\n  drag_over = event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n    monsterInMovement.style.left =\r\n      event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    monsterInMovement.style.top =\r\n      event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    event.preventDefault();\r\n    return false;\r\n  };\r\n\r\n  drop = async event => {\r\n    var offset;\r\n    try {\r\n      offset = event.dataTransfer.getData(\"text/plain\").split(\",\");\r\n    } catch (e) {\r\n      offset = this.state.offset_data.split(\",\");\r\n    }\r\n\r\n    let monsterInMovement = this.state.monsterInMovement;\r\n\r\n    // check to maintain dragged image inside the drop zone (assuming 324x210 drop zone and 135x135 monster image)\r\n\r\n    if (event.clientX + parseInt(offset[0], 10) < 0) {\r\n      monsterInMovement.style.left = 0 + \"px\";\r\n    } else if (event.clientX + parseInt(offset[0], 10) > 189) {\r\n      monsterInMovement.style.left = 189 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.left =\r\n        event.clientX + parseInt(offset[0], 10) + \"px\";\r\n    }\r\n    if (event.clientY + parseInt(offset[1], 10) < 0) {\r\n      monsterInMovement.style.top = 0 + \"px\";\r\n    } else if (event.clientY + parseInt(offset[1], 10) > 75) {\r\n      monsterInMovement.style.top = 75 + \"px\";\r\n    } else {\r\n      monsterInMovement.style.top =\r\n        event.clientY + parseInt(offset[1], 10) + \"px\";\r\n    }\r\n\r\n    event.preventDefault();\r\n\r\n    let updatedSelectedMonsterWithCoordinates = {\r\n      ...this.state.selectedMonster\r\n    };\r\n    updatedSelectedMonsterWithCoordinates.left = parseInt(\r\n      monsterInMovement.style.left,\r\n      10\r\n    );\r\n    updatedSelectedMonsterWithCoordinates.top = parseInt(\r\n      monsterInMovement.style.top,\r\n      10\r\n    );\r\n    await this.setState({\r\n      selectedMonster: updatedSelectedMonsterWithCoordinates\r\n    });\r\n    await this.props.selectMonster(updatedSelectedMonsterWithCoordinates);\r\n\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    let MonsterSelection = [];\r\n\r\n    switch (true) {\r\n      case this.props.isMobCombat:\r\n        MonsterSelection.push(\r\n          <MobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n      case this.props.isEliteMobCombat:\r\n        MonsterSelection.push(\r\n          <EliteMobMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      case this.props.isFinalBossCombat:\r\n        MonsterSelection.push(\r\n          <FinalBossMonsterCatalogue selectMonster={this.selectMonster} />\r\n        );\r\n        break;\r\n\r\n      default:\r\n        MonsterSelection = [];\r\n    }\r\n\r\n    const followingParagraph = [];\r\n\r\n    for (\r\n      var j = 0;\r\n      j < this.props.paragraphData.paragraphLinkRegister.length;\r\n      j += 1\r\n    ) {\r\n      if (\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .depthNumberOfLinkedParagraph === this.props.depthNumber &&\r\n        this.props.paragraphData.paragraphLinkRegister[j]\r\n          .paragraphNumberOfLinkedParagraph === this.props.paragraphNumber\r\n      ) {\r\n        followingParagraph.push(\r\n          <div>\r\n            <label\r\n              style={{\r\n                fontWeight: \"500\",\r\n                fontSize: \"0.8rem\"\r\n              }}\r\n            >\r\n              {`Following paragraph : ${\r\n                this.props.paragraphData.paragraphLinkRegister[j].depthNumber\r\n              }-${\r\n                this.props.paragraphData.paragraphLinkRegister[j]\r\n                  .paragraphNumber\r\n              }`}\r\n            </label>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-input\">\r\n        <div style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n          <h4\r\n            style={{\r\n              fontSize: \"0.8rem\",\r\n              display: \"inline-block\",\r\n              marginBottom: 0\r\n            }}\r\n          >\r\n            Starting Sound\r\n          </h4>{\" \"}\r\n          <input\r\n            type=\"file\"\r\n            accept=\"audio/wav\"\r\n            name=\"startingsound\"\r\n            id={`startingsound ${this.props.depthNumber} - ${\r\n              this.props.paragraphNumber\r\n            }`}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.loadStartingSound}\r\n          />\r\n          <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n            <label\r\n              className=\"label-upload\"\r\n              htmlFor={`startingsound ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n            >\r\n              (Upload Sound)\r\n            </label>\r\n          </p>\r\n          {this.state.startingSound || this.props.startingSoundURL ? (\r\n            <audio\r\n              controls\r\n              src={\r\n                this.props.startingSoundURL ? this.props.startingSoundURL : null\r\n              }\r\n              style={{\r\n                display: \"inline-block\",\r\n                width: \"140px\",\r\n                height: \"15px\",\r\n                paddingTop: \"3px\",\r\n                paddingLeft: \"5px\"\r\n              }}\r\n              id={`startingSoundControls ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            >\r\n              Your browser does not support the\r\n              <code>audio</code> element.\r\n            </audio>\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"card-image\"\r\n          style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n        >\r\n          <div>\r\n            <h4 style={{ fontSize: \"0.8rem\", display: \"inline-block\" }}>\r\n              Background Image\r\n            </h4>{\" \"}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg, image/png\"\r\n              name=\"image\"\r\n              id={`BGimage ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n              style={{ display: \"none\" }}\r\n              onChange={this.loadBackgroundImage}\r\n            />\r\n            <p style={{ marginBottom: 0, display: \"inline-block\" }}>\r\n              <label\r\n                className=\"label-upload\"\r\n                htmlFor={`BGimage ${this.props.depthNumber} - ${\r\n                  this.props.paragraphNumber\r\n                }`}\r\n                style={{ cursor: \"pointer\", marginBottom: 0 }}\r\n              >\r\n                (Upload Image)\r\n              </label>\r\n            </p>\r\n          </div>\r\n          <div\r\n            style={{ width: \"324px\", height: \"210px\", position: \"relative\" }}\r\n            onDragOver={this.drag_over}\r\n            onDrop={this.drop}\r\n          >\r\n            <img\r\n              src={\r\n                this.props.backgroundImageURL\r\n                  ? this.props.backgroundImageURL\r\n                  : DefaultCombatBackground\r\n              }\r\n              className=\"card-img-top\"\r\n              alt=\"Background by default\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              id={`outputIMG ${this.props.depthNumber} - ${\r\n                this.props.paragraphNumber\r\n              }`}\r\n            />\r\n            <img\r\n              src={this.state.selectedMonster.image}\r\n              className={`card-img-top-monster ${\r\n                this.state.selectedMonster.image ? null : \"hide\"\r\n              }`}\r\n              draggable=\"true\"\r\n              alt=\"monster\"\r\n              style={{\r\n                height: \"135px\",\r\n                width: \"135px\",\r\n                top: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.top\r\n                    : 0\r\n                }px`,\r\n                left: `${\r\n                  this.state.selectedMonster\r\n                    ? this.state.selectedMonster.left\r\n                    : 0\r\n                }px`\r\n              }}\r\n              onDragStart={this.drag_start}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n            paddingRight: \"10px\",\r\n            paddingTop: \"2px\",\r\n            paddingBottom: \"5px\"\r\n          }}\r\n        >\r\n          <form onSubmit={this.onSubmit}>\r\n            <div className=\"form-group\" style={{ marginBottom: 0 }}>\r\n              <label\r\n                htmlFor=\"Text\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                Text\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"combatInputText\"\r\n                maxLength=\"750\"\r\n                placeholder=\"Write your combat introduction text here...\"\r\n                rows=\"4\"\r\n                required\r\n                onChange={this.onChangeInputText}\r\n                value={this.state.combatInputText}\r\n                style={{ fontSize: \"0.7rem\", resize: \"none\" }}\r\n              />\r\n\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-around\",\r\n                  marginTop: \"10px\",\r\n                  marginBottom: \"5px\"\r\n                }}\r\n              >\r\n                {!this.props.isEliteMobCombat &&\r\n                !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isMobCombat}\r\n                      name=\"mobcombat\"\r\n                      onChange={this.setToMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isFinalBossCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Elite Mob</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isEliteMobCombat}\r\n                      name=\"elitemobcombat\"\r\n                      onChange={this.setToEliteMobCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n                {!this.props.isMobCombat && !this.props.isEliteMobCombat ? (\r\n                  <div>\r\n                    <label style={{ marginBottom: 0 }}>Final Boss</label>\r\n                    {\"   \"}\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={this.props.isFinalBossCombat}\r\n                      name=\"finalbosscombat\"\r\n                      onChange={this.setToFinalBossCombat}\r\n                    />\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n              {this.props.isMobCombat ||\r\n              this.props.isEliteMobCombat ||\r\n              this.props.isFinalBossCombat ? (\r\n                <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n                  <a\r\n                    className=\"dropdown-toggle\"\r\n                    href=\"#\"\r\n                    id=\"dropdown03\"\r\n                    data-toggle=\"dropdown\"\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded=\"false\"\r\n                    style={{\r\n                      fontWeight: \"500\",\r\n                      fontSize: \"0.8rem\"\r\n                    }}\r\n                  >\r\n                    Monster Selection\r\n                  </a>\r\n                  <div\r\n                    className=\"dropdown-menu\"\r\n                    aria-labelledby=\"dropdown03\"\r\n                    style={{\r\n                      backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                      maxHeight: \"150px\",\r\n                      overflowY: \"scroll\",\r\n                      border: \"2px solid black\"\r\n                    }}\r\n                  >\r\n                    {MonsterSelection}\r\n                  </div>\r\n                </li>\r\n              ) : null}\r\n              {followingParagraph}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div style={{ marginTop: \"5px\" }}>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Save Paragraph\"\r\n            className=\"btn btn-dark paragraph-save\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.saveParagraph}\r\n          />\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Delete Paragraph\"\r\n            paragraphnumber={this.props.paragraphNumber}\r\n            className=\"btn btn-dark paragraph-delete\"\r\n            style={{ display: \"inline-block\", width: \"50%\" }}\r\n            onClick={this.props.deleteParagraph}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(CombatInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass LinkSelection extends Component {\r\n  state = {\r\n    isLinked: false\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.isLinked) {\r\n      await this.setState({ isLinked: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (prevProps.isLinked !== this.props.isLinked) {\r\n      await this.setState({ isLinked: this.props.isLinked });\r\n    }\r\n  };\r\n\r\n  toggleParagraphLink = async e => {\r\n    let parentNode = e.target.parentNode;\r\n    await this.setState({\r\n      isLinked: !this.state.isLinked\r\n    });\r\n    let result = await this.props.toggleParagraphLink(\r\n      parentNode,\r\n      this.props.depthNumberOfLinkedParagraph,\r\n      this.props.paragraphNumberOfLinkedParagraph,\r\n      this.state.isLinked\r\n    );\r\n    // revert change of state if this.props.toggleParagraphLink indicated that this link cannot be toggled\r\n    if (result === \"unlink\") {\r\n      await this.setState({\r\n        isLinked: !this.state.isLinked\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <h5\r\n        className={`paragraph-link ${this.props.display} ${\r\n          this.state.isLinked ? \"linked\" : \"\"\r\n        }`}\r\n        onClick={this.toggleParagraphLink}\r\n      >\r\n        {this.props.paragraphData.paragraphRegister[this.props.rank]\r\n          .depthNumber === 0\r\n          ? \"START\"\r\n          : `Paragraph ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .depthNumber\r\n            } - ${\r\n              this.props.paragraphData.paragraphRegister[this.props.rank]\r\n                .paragraphNumber\r\n            }`}\r\n      </h5>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  numDepthLevels: state.numDepthLevels,\r\n  paragraphNumberTotal: state.paragraphNumberTotal,\r\n  paragraphData: state.paragraphData\r\n}))(LinkSelection);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport ipfsClient from \"ipfs-http-client\";\r\n\r\nimport NarrationInput from \"./NarrationInput\";\r\nimport DialogueInput from \"./DialogueInput\";\r\nimport PathInput from \"./PathInput\";\r\nimport RiddleInput from \"./RiddleInput\";\r\nimport CombatInput from \"./CombatInput\";\r\nimport LinkSelection from \"./LinkSelection\";\r\nimport Spinner from \"../../layout/Spinner\";\r\n\r\nimport {\r\n  addParagraphLink,\r\n  removeParagraphLink,\r\n  setToSuddenDeathInRegister,\r\n  setToVictoryInRegister,\r\n  setParagraphTypeInRegister,\r\n  setParagraphLinkStatusInRegister,\r\n  setToFinalBossInRegister\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass Paragraph extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.paragraphRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    isSaving: false,\r\n    paragraphType: \"narration\",\r\n    paragraphSubTypes: {\r\n      isSuddenDeath: false,\r\n      isVictory: false,\r\n      isTextualRiddle: false,\r\n      isGraphicalRiddle: false,\r\n      isPointAndClickPath: false,\r\n      isTextualPath: false,\r\n      isMobCombat: false,\r\n      isEliteMobCombat: false,\r\n      isFinalBossCombat: false\r\n    },\r\n    hasLinkToPreviousParagraph: false,\r\n    hasLinkToNextParagraph: false,\r\n    nextParagraphs: [],\r\n    previousParagraphs: [],\r\n    selectedMonster: {},\r\n    backgroundImageURL: \"\",\r\n    startingSoundURL: \"\"\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition\r\n      // && this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.props.depthNumber === 0) {\r\n      await this.setState({ hasLinkToPreviousParagraph: true });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = async prevProps => {\r\n    if (\r\n      this.props.id !== prevProps.id &&\r\n      this.props.QuestUnderEdition\r\n      //&& this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        )\r\n      ) {\r\n        let paragraphInFirestore = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.props.id\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphType: paragraphInFirestore.paragraphType,\r\n          paragraphSubTypes: paragraphInFirestore.paragraphSubTypes,\r\n          hasLinkToPreviousParagraph:\r\n            paragraphInFirestore.hasLinkToPreviousParagraph,\r\n          hasLinkToNextParagraph: paragraphInFirestore.hasLinkToNextParagraph,\r\n          nextParagraphs: paragraphInFirestore.nextParagraphs,\r\n          previousParagraphs: paragraphInFirestore.previousParagraphs,\r\n          selectedMonster: paragraphInFirestore.selectedMonster,\r\n          backgroundImageURL: paragraphInFirestore.backgroundImageURL,\r\n          startingSoundURL: paragraphInFirestore.startingSoundURL\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // update paragraph if paragraph link is detected from Redux store\r\n  static getDerivedStateFromProps(props, state) {\r\n    let paragraphInRegister = props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === props.depthNumber &&\r\n        el.paragraphNumber === props.paragraphNumber\r\n    );\r\n    // check if one of the outcomeTexts of the paragraph has been changed\r\n    /*if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs.length > 0 &&\r\n      paragraphInRegister.nextParagraphs.length === state.nextParagraphs.length\r\n    ) {\r\n      let comparisonArray = [];\r\n      var checkOutcomeTexts;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.outcomeText !== elem.outcomeText) {\r\n            comparisonArray.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray.length > 0\r\n        ? (checkOutcomeTexts = true)\r\n        : (checkOutcomeTexts = false);\r\n\r\n      // check if a pointer has been added to a nextParagraph (path paragraph of point & click sub-type)\r\n\r\n      let comparisonArray2 = [];\r\n      var checkSelectedPointers;\r\n\r\n      paragraphInRegister.nextParagraphs.forEach(el => {\r\n        state.nextParagraphs.forEach(elem => {\r\n          if (el.selectedPointer !== elem.selectedPointer) {\r\n            comparisonArray2.push(false);\r\n          }\r\n        });\r\n      });\r\n\r\n      comparisonArray2.length > 0\r\n        ? (checkSelectedPointers = true)\r\n        : (checkSelectedPointers = false);\r\n    }\r\n\r\n    if (checkOutcomeTexts === true || checkSelectedPointers === true) {\r\n      return null;\r\n    } else*/ if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length > state.nextParagraphs.length\r\n    ) {\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.push(\r\n        paragraphInRegister.nextParagraphs[\r\n          paragraphInRegister.nextParagraphs.length - 1\r\n        ]\r\n      );\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.nextParagraphs &&\r\n      paragraphInRegister.nextParagraphs.length < state.nextParagraphs.length\r\n    ) {\r\n      let indexOfDeletedParagraph = state.nextParagraphs.findIndex(el =>\r\n        paragraphInRegister.nextParagraphs.find(\r\n          elem => elem.paragraphNumber !== el.paragraphNumber\r\n        )\r\n      );\r\n\r\n      let updatedNextParagraphs = [...state.nextParagraphs];\r\n      updatedNextParagraphs.splice(indexOfDeletedParagraph, 1);\r\n\r\n      return {\r\n        nextParagraphs: updatedNextParagraphs,\r\n        hasLinkToNextParagraph: paragraphInRegister.hasLinkToNextParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs &&\r\n      paragraphInRegister.previousParagraphs.length > 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph:\r\n          paragraphInRegister.hasLinkToPreviousParagraph\r\n      };\r\n    } else if (\r\n      paragraphInRegister &&\r\n      paragraphInRegister.previousParagraphs &&\r\n      paragraphInRegister.previousParagraphs.length === 0 &&\r\n      props.depthNumber !== 0\r\n    ) {\r\n      return {\r\n        previousParagraphs: paragraphInRegister.previousParagraphs,\r\n        hasLinkToPreviousParagraph: false\r\n      };\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  deleteParagraph = e => {\r\n    if (this.props.depthNumber === 0) {\r\n      window.alert(\"You cannot delete the starting paragraph.\");\r\n    } else if (\r\n      this.state.hasLinkToNextParagraph ||\r\n      this.state.hasLinkToPreviousParagraph\r\n    ) {\r\n      window.alert(\r\n        \"You cannot delete a paragraph that has links to previous or next paragraphs. You must remove these links first.\"\r\n      );\r\n    } else if (this.state.isSaving) {\r\n      window.alert(\"You cannot delete a paragraph while it is saving.\");\r\n    } else {\r\n      this.props.deleteParagraph(e, this.props.id);\r\n    }\r\n  };\r\n\r\n  saveParagraph = async (\r\n    inputText = null,\r\n    backgroundImage = null,\r\n    startingSound = null,\r\n    outcomeSoundArray = null,\r\n    outcomeImageArray = null\r\n  ) => {\r\n    if (this.state.isSaving) {\r\n      window.alert(\r\n        \"You must wait for the current save to finish before you can save again.\"\r\n      );\r\n    } else {\r\n      await this.setState({ isSaving: true });\r\n      const { firestore, QuestUnderEdition } = this.props;\r\n\r\n      const {\r\n        paragraphType,\r\n        paragraphSubTypes,\r\n        hasLinkToPreviousParagraph,\r\n        hasLinkToNextParagraph,\r\n        nextParagraphs,\r\n        previousParagraphs\r\n      } = this.state;\r\n      const { depthNumber, paragraphNumber, id } = this.props;\r\n\r\n      // shallow copy needed for data synced from Firestore\r\n      let nextParagraphsCopy = [];\r\n      [...this.state.nextParagraphs].forEach(el =>\r\n        nextParagraphsCopy.push({ ...el })\r\n      );\r\n\r\n      const paragraphData = {\r\n        depthNumber,\r\n        paragraphNumber,\r\n        id,\r\n        hasLinkToNextParagraph,\r\n        hasLinkToPreviousParagraph,\r\n        nextParagraphs: nextParagraphsCopy,\r\n        previousParagraphs,\r\n        paragraphSubTypes,\r\n        paragraphType\r\n      };\r\n\r\n      if (inputText) {\r\n        paragraphData.inputText = inputText;\r\n      }\r\n\r\n      if (this.state.paragraphType === \"combat\" && this.state.selectedMonster) {\r\n        paragraphData.selectedMonster = this.state.selectedMonster;\r\n      }\r\n\r\n      if (this.state.backgroundImageURL) {\r\n        paragraphData.backgroundImageURL = this.state.backgroundImageURL;\r\n      }\r\n\r\n      if (this.state.startingSoundURL) {\r\n        paragraphData.startingSoundURL = this.state.startingSoundURL;\r\n      }\r\n\r\n      let paragraphAlreadyInDatabase = QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === id\r\n      );\r\n\r\n      //Connecting to the ipfs network via infura gateway\r\n      const ipfs = ipfsClient(\"ipfs.infura.io\", \"5001\", { protocol: \"https\" });\r\n\r\n      // uploading files to Firebase Storage if new files selected, delete existing paragraph files if they are not part of the last save\r\n\r\n      // Get a reference to the storage service, which is used to create references in your storage bucket\r\n      const storage = this.props.firebase.storage();\r\n\r\n      // Create a storage reference from our storage service\r\n      const storageRef = storage.ref();\r\n      const paragraphRef = storageRef.child(\r\n        `${this.props.QuestUnderEdition.id}/Paragraph ${this.props.depthNumber} - ${this.props.paragraphNumber}`\r\n      );\r\n      //const paragraphList = await paragraphRef.listAll();\r\n\r\n      if (backgroundImage && backgroundImage !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${this.props.depthNumber} - ${this.props.paragraphNumber}`,\r\n          backgroundImage,\r\n          null,\r\n          {\r\n            name: `backgroundImage${backgroundImage.name.substring(\r\n              backgroundImage.name.lastIndexOf(\".\")\r\n            )}`\r\n          }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${snapshot.uploadTaskSnapshot.metadata.fullPath}`\r\n        );\r\n        let backgroundImageURL = await gsReference.getDownloadURL();\r\n        paragraphData.backgroundImageURL = backgroundImageURL;\r\n\r\n        // upload to IPFS\r\n        const resultsBackgroundImage = await ipfs.add(backgroundImage);\r\n        const hashBackgroundImage = resultsBackgroundImage[0].hash;\r\n        const backgroundImageURLonIPFS = `https://gateway.ipfs.io/ipfs/${hashBackgroundImage}`;\r\n        paragraphData.backgroundImageURLonIPFS = backgroundImageURLonIPFS;\r\n      } else if (backgroundImage && backgroundImage === \"already uploaded\") {\r\n        paragraphData.backgroundImageURL =\r\n          paragraphAlreadyInDatabase.backgroundImageURL;\r\n        paragraphData.backgroundImageURLonIPFS =\r\n          paragraphAlreadyInDatabase.backgroundImageURLonIPFS;\r\n      }\r\n\r\n      if (startingSound && startingSound !== \"already uploaded\") {\r\n        let snapshot = await this.props.firebase.uploadFile(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${this.props.depthNumber} - ${this.props.paragraphNumber}`,\r\n          startingSound,\r\n          null,\r\n          {\r\n            name: `startingSound${startingSound.name.substring(\r\n              startingSound.name.lastIndexOf(\".\")\r\n            )}`\r\n          }\r\n        );\r\n        let gsReference = await storage.refFromURL(\r\n          `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${snapshot.uploadTaskSnapshot.metadata.fullPath}`\r\n        );\r\n\r\n        let startingSoundURL = await gsReference.getDownloadURL();\r\n        paragraphData.startingSoundURL = startingSoundURL;\r\n\r\n        // upload on IPFS\r\n        const resultsStartingSound = await ipfs.add(startingSound);\r\n        const hashStartingSound = resultsStartingSound[0].hash;\r\n        const startingSoundURLonIPFS = `https://gateway.ipfs.io/ipfs/${hashStartingSound}`;\r\n        paragraphData.startingSoundURLonIPFS = startingSoundURLonIPFS;\r\n      } else if (startingSound && startingSound === \"already uploaded\") {\r\n        paragraphData.startingSoundURL =\r\n          paragraphAlreadyInDatabase.startingSoundURL;\r\n        paragraphData.startingSoundURLonIPFS =\r\n          paragraphAlreadyInDatabase.startingSoundURLonIPFS;\r\n      }\r\n\r\n      let outcomeSoundsFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Sounds\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeSound uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeSounds(outcomeSounds) {\r\n        async function processOutcomeSound(outcomeSound) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${this.props.depthNumber} - ${this.props.paragraphNumber}/Outcomes/Sounds`,\r\n            outcomeSound.outcomeSound,\r\n            null,\r\n            {\r\n              name: `outcomeSound_${\r\n                outcomeSound.rankInNextParagraphs\r\n              }${outcomeSound.outcomeSound.name.substring(\r\n                outcomeSound.outcomeSound.name.lastIndexOf(\".\")\r\n              )}`\r\n            }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${snapshot.uploadTaskSnapshot.metadata.fullPath}`\r\n          );\r\n          let outcomeSoundURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeSound.rankInNextParagraphs\r\n          ].outcomeSoundURL = outcomeSoundURL;\r\n        }\r\n        let boundedprocessOutcomeSound = processOutcomeSound.bind(this);\r\n        const promises = outcomeSounds.map(boundedprocessOutcomeSound);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeSounds = processOutcomeSounds.bind(this);\r\n\r\n      if (\r\n        outcomeSoundArray &&\r\n        outcomeSoundArray.length === 0 &&\r\n        outcomeSoundsFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (outcomeSoundArray && outcomeSoundArray.length > 0) {\r\n        //clear all\r\n        for (const el of outcomeSoundsFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome sounds with a counter of 0\r\n        await boundedprocessOutcomeSounds(outcomeSoundArray);\r\n      }\r\n\r\n      // upload on IPFS\r\n      if (outcomeSoundArray) {\r\n        for (const outcomeSound of outcomeSoundArray) {\r\n          if (outcomeSound.outcomeSoundCounter === 1) {\r\n            const resultsOutcomeSound = await ipfs.add(\r\n              outcomeSound.outcomeSound\r\n            );\r\n            const hashOutcomeSound = resultsOutcomeSound[0].hash;\r\n            const outcomeSoundURLonIPFS = `https://gateway.ipfs.io/ipfs/${hashOutcomeSound}`;\r\n\r\n            paragraphData.nextParagraphs[\r\n              outcomeSound.rankInNextParagraphs\r\n            ].outcomeSoundURLonIPFS = outcomeSoundURLonIPFS;\r\n          } else {\r\n            paragraphData.nextParagraphs[\r\n              outcomeSound.rankInNextParagraphs\r\n            ].outcomeSoundURLonIPFS =\r\n              paragraphAlreadyInDatabase.nextParagraphs[\r\n                outcomeSound.rankInNextParagraphs\r\n              ].outcomeSoundURLonIPFS;\r\n          }\r\n        }\r\n      }\r\n      let outcomeImagesFiles = await paragraphRef\r\n        .child(\"Outcomes\")\r\n        .child(\"Images\")\r\n        .listAll();\r\n\r\n      // declaring async function to process outcomeImage uploads in parallel then waiting for all promises to return before continuing execution\r\n      async function processOutcomeImages(outcomeImages) {\r\n        async function processOutcomeImage(outcomeImage) {\r\n          let snapshot = await this.props.firebase.uploadFile(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${this.props.depthNumber} - ${this.props.paragraphNumber}/Outcomes/Images`,\r\n            outcomeImage.outcomeImage,\r\n            null,\r\n            {\r\n              name: `outcomeImage_${\r\n                outcomeImage.rankInNextParagraphs\r\n              }${outcomeImage.outcomeImage.name.substring(\r\n                outcomeImage.outcomeImage.name.lastIndexOf(\".\")\r\n              )}`\r\n            }\r\n          );\r\n          let gsReference = await storage.refFromURL(\r\n            `gs://${snapshot.uploadTaskSnapshot.metadata.bucket}/${snapshot.uploadTaskSnapshot.metadata.fullPath}`\r\n          );\r\n          let outcomeImageURL = await gsReference.getDownloadURL();\r\n          paragraphData.nextParagraphs[\r\n            outcomeImages.indexOf(outcomeImage)\r\n          ].outcomeImageURL = outcomeImageURL;\r\n        }\r\n        let boundedprocessOutcomeImage = processOutcomeImage.bind(this);\r\n        const promises = outcomeImages.map(boundedprocessOutcomeImage);\r\n        await Promise.all(promises);\r\n      }\r\n      let boundedprocessOutcomeImages = processOutcomeImages.bind(this);\r\n\r\n      if (\r\n        outcomeImageArray &&\r\n        outcomeImageArray.length === 0 &&\r\n        outcomeImagesFiles.items.length > 0\r\n      ) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n      } else if (outcomeImageArray && outcomeImageArray.length > 0) {\r\n        //clear all\r\n        for (const el of outcomeImagesFiles.items) {\r\n          await el.delete();\r\n        }\r\n        // upload all including outcome images with a counter of 0\r\n        await boundedprocessOutcomeImages(outcomeImageArray);\r\n      }\r\n\r\n      // upload on IPFS\r\n      if (outcomeImageArray) {\r\n        for (const outcomeImage of outcomeImageArray) {\r\n          if (outcomeImage.outcomeImageCounter === 1) {\r\n            const resultsOutcomeImage = await ipfs.add(\r\n              outcomeImage.outcomeImage\r\n            );\r\n            const hashOutcomeImage = resultsOutcomeImage[0].hash;\r\n            const outcomeImageURLonIPFS = `https://gateway.ipfs.io/ipfs/${hashOutcomeImage}`;\r\n\r\n            paragraphData.nextParagraphs[\r\n              outcomeImage.rankInNextParagraphs\r\n            ].outcomeImageURLonIPFS = outcomeImageURLonIPFS;\r\n          } else {\r\n            paragraphData.nextParagraphs[\r\n              outcomeImage.rankInNextParagraphs\r\n            ].outcomeImageURLonIPFS =\r\n              paragraphAlreadyInDatabase.nextParagraphs[\r\n                outcomeImage.rankInNextParagraphs\r\n              ].outcomeImageURLonIPFS;\r\n          }\r\n        }\r\n      }\r\n\r\n      console.log(paragraphData);\r\n      // removing existing entry in Firestore to avoid duplicates\r\n      if (paragraphAlreadyInDatabase) {\r\n        (async function() {\r\n          await firestore.update(\r\n            { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphAlreadyInDatabase\r\n              )\r\n            }\r\n          );\r\n        })();\r\n      }\r\n\r\n      // update Quest information and add Paragraph data to Firestore\r\n      await firestore.update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        {\r\n          Paragraphs: firestore.FieldValue.arrayUnion(paragraphData),\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels,\r\n          NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n      await this.setState({ isSaving: false });\r\n\r\n      // reset the globalSaveCounter every time a Paragraph Save is done\r\n      if (\r\n        this.props.QuestUnderEdition.globalSaveCounter === 1 &&\r\n        !this.props.paragraphData.isGlobalSaving\r\n      ) {\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 0\r\n          }\r\n        );\r\n      }\r\n\r\n      if (!this.props.paragraphData.isGlobalSaving) {\r\n        window.alert(\"Paragraph data has been saved !\");\r\n      }\r\n    }\r\n  };\r\n\r\n  changeParagraphType = e => {\r\n    // check if paragraph is linked to a previous final boss paragraph, if yes paragraph type cannot be changed\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      e.currentTarget.id !== \"narration\" &&\r\n      prevParagraphsInRegister.some(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A Paragraph linked from a 'Final Boss' Paragraph can only be of 'Narration' type.\"\r\n      );\r\n    } else if (\r\n      this.state.paragraphSubTypes.isFinalBossCombat === true &&\r\n      this.state.nextParagraphs.find(el =>\r\n        this.props.paragraphData.paragraphRegister.find(\r\n          elem => elem.paragraphSubTypes.isVictory === true\r\n        )\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"This paragraph is linked to a Victory paragraph and of 'Final Boss' type. If you want to change the paragraph type, you must first remove the link to the 'Victory' paragraph.\"\r\n      );\r\n    } else if (\r\n      (e.currentTarget.id === \"narration\" || e.currentTarget.id === \"combat\") &&\r\n      this.state.nextParagraphs.length > 1\r\n    ) {\r\n      window.alert(\r\n        \"A paragraph of 'narration' or 'combat' type can only have one next paragraph. You must remove links to next paragraphs.\"\r\n      );\r\n    } else if (\r\n      e.currentTarget.id !== this.state.paragraphType &&\r\n      window.confirm(\r\n        `Are you sure you want to change the Paragraph Type ? \\n \\n All content from the current Paragraph inputs will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      {\r\n        // clear the state from paragraph subtypes\r\n        let keys = Object.keys({ ...this.state.paragraphSubTypes });\r\n        let stateWithClearedParagraphSubtypes = {};\r\n\r\n        for (var j = 0; j < keys.length; j++) {\r\n          stateWithClearedParagraphSubtypes[keys[j]] = false;\r\n        }\r\n\r\n        this.setState({\r\n          paragraphSubTypes: stateWithClearedParagraphSubtypes\r\n        });\r\n\r\n        // clear existing outcome texts/sounds/images\r\n        let clearedNextParagraphs = [];\r\n        [...this.state.nextParagraphs].forEach(el =>\r\n          clearedNextParagraphs.push({ ...el })\r\n        );\r\n        clearedNextParagraphs.map(el => {\r\n          delete el.outcomeText;\r\n          delete el.outcomeSoundURL;\r\n          delete el.outcomeImageURL;\r\n        });\r\n        this.setState({\r\n          nextParagraphs: clearedNextParagraphs\r\n        });\r\n\r\n        // clear selected Monster\r\n        if (this.state.selectedMonster !== {}) {\r\n          this.setState({ selectedMonster: {} });\r\n        }\r\n\r\n        var tabs = e.currentTarget.parentElement.children;\r\n        for (var k = 0; k < tabs.length; k++) {\r\n          tabs[k].className = tabs[k].className.replace(\" active\", \"\");\r\n        }\r\n        e.currentTarget.className += \" active\";\r\n\r\n        this.setState({ paragraphType: e.currentTarget.id });\r\n\r\n        this.props.setParagraphTypeInRegister(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          e.currentTarget.id\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  changeOutcomeText = async (depthNumber, paragraphNumber, outcomeText) => {\r\n    let updatedNextParagraph = {\r\n      ...this.state.nextParagraphs.find(\r\n        el =>\r\n          el.depthNumber === depthNumber &&\r\n          el.paragraphNumber === paragraphNumber\r\n      )\r\n    };\r\n\r\n    updatedNextParagraph.outcomeText = outcomeText;\r\n    let updatedNextParagraphs = [...this.state.nextParagraphs];\r\n\r\n    let index = updatedNextParagraphs.findIndex(\r\n      el =>\r\n        el.depthNumber === depthNumber && el.paragraphNumber === paragraphNumber\r\n    );\r\n\r\n    updatedNextParagraphs[index] = updatedNextParagraph;\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectPointer = async selectedPointers => {\r\n    let updatedNextParagraphs = [];\r\n\r\n    this.state.nextParagraphs.forEach(el =>\r\n      updatedNextParagraphs.push({ ...el })\r\n    );\r\n\r\n    updatedNextParagraphs.map((el, index) => {\r\n      el.selectedPointer = selectedPointers[index];\r\n    });\r\n\r\n    await this.setState({\r\n      nextParagraphs: updatedNextParagraphs\r\n    });\r\n  };\r\n\r\n  selectMonster = async selectedMonster => {\r\n    await this.setState({\r\n      selectedMonster: selectedMonster\r\n    });\r\n  };\r\n\r\n  setToSuddenDeath = async e => {\r\n    await this.props.setToSuddenDeathInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isSuddenDeath = !updatedStateSubTypes.isSuddenDeath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToVictory = async target => {\r\n    let prevParagraphsInRegister = [];\r\n\r\n    for (var i = 0; i < this.state.previousParagraphs.length; i++) {\r\n      let prevParagraphInRegister;\r\n      prevParagraphInRegister = this.props.paragraphData.paragraphRegister.find(\r\n        el =>\r\n          this.state.previousParagraphs[i].depthNumber === el.depthNumber &&\r\n          this.state.previousParagraphs[i].paragraphNumber ===\r\n            el.paragraphNumber\r\n      );\r\n      prevParagraphsInRegister.push(prevParagraphInRegister);\r\n    }\r\n\r\n    if (\r\n      prevParagraphsInRegister.length === 0 ||\r\n      !prevParagraphsInRegister.every(\r\n        el => el.paragraphSubTypes.isFinalBossCombat === true\r\n      )\r\n    ) {\r\n      window.alert(\r\n        \"A 'victory' paragraph can only be linked from a 'final boss' paragraph.\"\r\n      );\r\n      target.checked = false;\r\n    } else {\r\n      await this.props.setToVictoryInRegister(\r\n        this.props.depthNumber,\r\n        this.props.paragraphNumber\r\n      );\r\n      let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n      updatedStateSubTypes.isVictory = !updatedStateSubTypes.isVictory;\r\n      await this.setState({\r\n        paragraphSubTypes: updatedStateSubTypes\r\n      });\r\n    }\r\n  };\r\n\r\n  setToTextualRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualRiddle = !updatedStateSubTypes.isTextualRiddle;\r\n\r\n    if (!updatedStateSubTypes.isTextualRiddle) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToGraphicalRiddle = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isGraphicalRiddle = !updatedStateSubTypes.isGraphicalRiddle;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToTextualPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isTextualPath = !updatedStateSubTypes.isTextualPath;\r\n\r\n    if (!updatedStateSubTypes.isTextualPath) {\r\n      // clear existing outcome texts\r\n      let clearedNextParagraphs = this.state.nextParagraphs;\r\n      clearedNextParagraphs = clearedNextParagraphs.map(\r\n        el => ({ ...el }.outcomeText = \"\")\r\n      );\r\n      await this.setState({\r\n        nextParagraphs: clearedNextParagraphs\r\n      });\r\n    }\r\n\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToPointAndClickPath = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    updatedStateSubTypes.isPointAndClickPath = !updatedStateSubTypes.isPointAndClickPath;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isMobCombat = !updatedStateSubTypes.isMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToEliteMobCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isEliteMobCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isEliteMobCombat = !updatedStateSubTypes.isEliteMobCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n  };\r\n\r\n  setToFinalBossCombat = async e => {\r\n    let updatedStateSubTypes = { ...this.state.paragraphSubTypes };\r\n    if (updatedStateSubTypes.isFinalBossCombat) {\r\n      await this.setState({ selectedMonster: {} });\r\n    }\r\n    updatedStateSubTypes.isFinalBossCombat = !updatedStateSubTypes.isFinalBossCombat;\r\n    await this.setState({\r\n      paragraphSubTypes: updatedStateSubTypes\r\n    });\r\n    await this.props.setToFinalBossInRegister(\r\n      this.props.depthNumber,\r\n      this.props.paragraphNumber\r\n    );\r\n  };\r\n\r\n  toggleParagraphLink = (\r\n    parentNode,\r\n    depthNumberOfLinkedParagraph,\r\n    paragraphNumberOfLinkedParagraph,\r\n    isLinked\r\n  ) => {\r\n    let prevParagraph = this.props.paragraphData.paragraphRegister.find(\r\n      el =>\r\n        el.depthNumber === depthNumberOfLinkedParagraph &&\r\n        el.paragraphNumber === paragraphNumberOfLinkedParagraph\r\n    );\r\n\r\n    switch (true) {\r\n      // if link is made from a Final Boss Paragraph, alert that Paragraph Type must be set to Narration\r\n\r\n      case isLinked &&\r\n        prevParagraph.paragraphSubTypes.isFinalBossCombat &&\r\n        this.state.paragraphType !== \"narration\":\r\n        alert(\r\n          \"Only a Paragraph of 'Narration' Type can be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      // if Paragraph is already set to Victory Type, it can be linked only from previous Final Boss Paragraphs\r\n\r\n      case this.state.paragraphSubTypes.isVictory &&\r\n        !prevParagraph.paragraphSubTypes.isFinalBossCombat:\r\n        alert(\r\n          \"A Paragraph of 'Victory' Type can only be linked from a Final Boss Paragraph.\"\r\n        );\r\n        return \"unlink\";\r\n\r\n      case isLinked:\r\n        this.props.addParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        this.setState({\r\n          hasLinkToPreviousParagraph: true\r\n        });\r\n        break;\r\n      case !isLinked:\r\n        this.props.removeParagraphLink(\r\n          this.props.depthNumber,\r\n          this.props.paragraphNumber,\r\n          depthNumberOfLinkedParagraph,\r\n          paragraphNumberOfLinkedParagraph\r\n        );\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    // create dropdown list of previous paragraphs that can be potential links to the paragraph\r\n    const paragraphLinksSelection = [];\r\n\r\n    for (\r\n      var i = 0;\r\n      i < this.props.paragraphData.paragraphRegister.length;\r\n      i += 1\r\n    ) {\r\n      // printing all paragraphs from lower depth levels, but hiding \"sudden death\", \"victory\" and already-linked narration or combat paragraphs (only visible for the paragraph linked next)\r\n      if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n          this.props.depthNumber &&\r\n        (this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n          .isSuddenDeath ||\r\n          this.props.paragraphData.paragraphRegister[i].paragraphSubTypes\r\n            .isVictory ||\r\n          ((this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n            \"narration\" ||\r\n            this.props.paragraphData.paragraphRegister[i].paragraphType ===\r\n              \"combat\") &&\r\n            this.props.paragraphData.paragraphRegister[i]\r\n              .hasLinkToNextParagraph &&\r\n            !this.props.paragraphData.paragraphRegister[i].nextParagraphs.some(\r\n              nextParagraph =>\r\n                nextParagraph.depthNumber === this.props.depthNumber &&\r\n                nextParagraph.paragraphNumber === this.props.paragraphNumber\r\n            )))\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"hide\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      } else if (\r\n        this.props.paragraphData.paragraphRegister[i].depthNumber <\r\n        this.props.depthNumber\r\n      ) {\r\n        paragraphLinksSelection.push(\r\n          <LinkSelection\r\n            rank={i}\r\n            display=\"show\"\r\n            toggleParagraphLink={this.toggleParagraphLink}\r\n            depthNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].depthNumber\r\n            }\r\n            paragraphNumberOfLinkedParagraph={\r\n              this.props.paragraphData.paragraphRegister[i].paragraphNumber\r\n            }\r\n            isLinked={\r\n              this.state.previousParagraphs.find(\r\n                el =>\r\n                  el.depthNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i].depthNumber &&\r\n                  el.paragraphNumber ===\r\n                    this.props.paragraphData.paragraphRegister[i]\r\n                      .paragraphNumber\r\n              )\r\n                ? true\r\n                : false\r\n            }\r\n          />\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          margin: \"0px auto\",\r\n          paddingRight: \"20px\",\r\n          verticalAlign: \"top\",\r\n          position: \"relative\"\r\n        }}\r\n        className={this.state.isSaving ? \"isSaving\" : null}\r\n      >\r\n        <div\r\n          className={`card paragraph ${\r\n            this.state.hasLinkToNextParagraph ? \"linked-to-next\" : null\r\n          } ${\r\n            this.state.hasLinkToPreviousParagraph ? \"linked-to-previous\" : null\r\n          } ${\r\n            this.state.paragraphSubTypes.isSuddenDeath ? \"suddendeath\" : null\r\n          } ${this.state.paragraphSubTypes.isVictory ? \"victory\" : null}`}\r\n          ref={this.paragraphRef}\r\n        >\r\n          {this.state.isSaving ? (\r\n            <Spinner\r\n              style={{\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -40%)\",\r\n                marginTop: \"-50px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <div className=\"card-header\">\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"narration\" ? \"active\" : null}`}\r\n              id=\"narration\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Narration\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"dialogue\" ? \"active\" : null}`}\r\n              id=\"dialogue\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Dialogue\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"path\" ? \"active\" : null}`}\r\n              id=\"path\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Path\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"riddle\" ? \"active\" : null}`}\r\n              id=\"riddle\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Riddle\r\n            </button>\r\n            <button\r\n              className={`paragraph-type ${this.props.depthNumber} - ${\r\n                this.props.newParagraphNumber\r\n                  ? this.props.newParagraphNumber\r\n                  : this.props.paragraphNumber\r\n              } ${this.state.paragraphType === \"combat\" ? \"active\" : null}`}\r\n              id=\"combat\"\r\n              onClick={this.changeParagraphType}\r\n            >\r\n              Combat\r\n            </button>\r\n          </div>\r\n          <h3\r\n            className=\"card-title\"\r\n            style={{\r\n              fontSize: \"1rem\",\r\n              marginBottom: \"5px\",\r\n              marginTop: \"5px\",\r\n              textAlign: \"center\"\r\n            }}\r\n          >\r\n            {this.props.depthNumber === 0\r\n              ? \"START\"\r\n              : ` ${this.props.depthNumber} - ${\r\n                  this.props.newParagraphNumber\r\n                    ? this.props.newParagraphNumber\r\n                    : this.props.paragraphNumber\r\n                }`}\r\n          </h3>\r\n          {this.props.depthNumber === 0 ? null : (\r\n            <li className=\"dropdown\" style={{ marginBottom: \"5px\" }}>\r\n              <a\r\n                className=\"dropdown-toggle\"\r\n                href=\"#\"\r\n                id=\"dropdown03\"\r\n                data-toggle=\"dropdown\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded=\"false\"\r\n                style={{\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"0.8rem\",\r\n                  paddingLeft: \"10px\"\r\n                }}\r\n              >\r\n                Paragraph linked from\r\n              </a>\r\n              <div\r\n                className=\"dropdown-menu\"\r\n                aria-labelledby=\"dropdown03\"\r\n                style={{\r\n                  backgroundColor: \"rgba(47, 48, 47, 0.966)\",\r\n                  maxHeight: \"150px\",\r\n                  overflowY: \"scroll\",\r\n                  border: \"2px solid black\"\r\n                }}\r\n              >\r\n                {paragraphLinksSelection}\r\n              </div>\r\n            </li>\r\n          )}\r\n          {this.state.paragraphType === \"narration\" ? (\r\n            <NarrationInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToSuddenDeath={this.setToSuddenDeath}\r\n              setToVictory={this.setToVictory}\r\n              isVictory={this.state.paragraphSubTypes.isVictory}\r\n              isSuddenDeath={this.state.paragraphSubTypes.isSuddenDeath}\r\n              hasLinkToNextParagraph={this.state.hasLinkToNextParagraph}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"dialogue\" ? (\r\n            <DialogueInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"path\" ? (\r\n            <PathInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualPath={this.setToTextualPath}\r\n              setToPointAndClickPath={this.setToPointAndClickPath}\r\n              isTextualPath={this.state.paragraphSubTypes.isTextualPath}\r\n              isPointAndClickPath={\r\n                this.state.paragraphSubTypes.isPointAndClickPath\r\n              }\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              selectPointer={this.selectPointer}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"riddle\" ? (\r\n            <RiddleInput\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToTextualRiddle={this.setToTextualRiddle}\r\n              setToGraphicalRiddle={this.setToGraphicalRiddle}\r\n              isTextualRiddle={this.state.paragraphSubTypes.isTextualRiddle}\r\n              isGraphicalRiddle={this.state.paragraphSubTypes.isGraphicalRiddle}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              changeOutcomeText={this.changeOutcomeText}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n          {this.state.paragraphType === \"combat\" ? (\r\n            <CombatInput\r\n              selectMonster={this.selectMonster}\r\n              depthNumber={this.props.depthNumber}\r\n              paragraphNumber={this.props.paragraphNumber}\r\n              setToMobCombat={this.setToMobCombat}\r\n              setToEliteMobCombat={this.setToEliteMobCombat}\r\n              setToFinalBossCombat={this.setToFinalBossCombat}\r\n              isMobCombat={this.state.paragraphSubTypes.isMobCombat}\r\n              isEliteMobCombat={this.state.paragraphSubTypes.isEliteMobCombat}\r\n              isFinalBossCombat={this.state.paragraphSubTypes.isFinalBossCombat}\r\n              deleteParagraph={this.deleteParagraph}\r\n              saveParagraph={this.saveParagraph}\r\n              QuestUnderEdition={\r\n                this.props.QuestUnderEdition\r\n                  ? this.props.QuestUnderEdition\r\n                  : null\r\n              }\r\n              id={this.props.id}\r\n              nextParagraphs={this.state.nextParagraphs}\r\n              selectedMonster={this.state.selectedMonster}\r\n              backgroundImageURL={\r\n                this.state.backgroundImageURL\r\n                  ? this.state.backgroundImageURL\r\n                  : null\r\n              }\r\n              startingSoundURL={\r\n                this.state.startingSoundURL ? this.state.startingSoundURL : null\r\n              }\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.questID\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      paragraphData: state.paragraphData,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addParagraphLink,\r\n      removeParagraphLink,\r\n      setToSuddenDeathInRegister,\r\n      setToVictoryInRegister,\r\n      setParagraphTypeInRegister,\r\n      setParagraphLinkStatusInRegister,\r\n      setToFinalBossInRegister\r\n    }\r\n  )\r\n)(Paragraph);\r\n","import {\r\n  ADD_PARAGRAPH_TO_TOTAL,\r\n  DECREASE_PARAGRAPH_FROM_TOTAL,\r\n  ADD_PARAGRAPH_LINK,\r\n  REMOVE_PARAGRAPH_LINK,\r\n  SET_TO_SUDDEN_DEATH,\r\n  SET_TO_VICTORY,\r\n  SET_TO_FINALBOSS,\r\n  SET_PARAGRAPH_TYPE,\r\n  SET_PARAGRAPH_LINK_STATUS,\r\n  SYNC_REGISTERS_IN_REDUX,\r\n  SET_TO_GLOBAL_SAVING\r\n} from \"./types\";\r\n\r\nexport const addParagraphToTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_TO_TOTAL,\r\n    paragraphToAddInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber,\r\n      paragraphSubTypes: {\r\n        isSuddenDeath: false,\r\n        isVictory: false,\r\n        isFinalBossCombat: false\r\n      },\r\n      hasLinkToNextParagraph: false,\r\n      hasLinkToPreviousParagraph: false,\r\n      paragraphType: \"narration\",\r\n      nextParagraphs: [],\r\n      previousParagraphs: []\r\n    }\r\n  };\r\n};\r\n\r\nexport const decreaseParagraphFromTotal = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: DECREASE_PARAGRAPH_FROM_TOTAL,\r\n    paragraphToDeleteInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToSuddenDeathInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_SUDDEN_DEATH,\r\n    paragraphToSetToSuddenDeathInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToVictoryInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_VICTORY,\r\n    paragraphToSetToVictoryInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setToFinalBossInRegister = (depthNumber, paragraphNumber) => {\r\n  return {\r\n    type: SET_TO_FINALBOSS,\r\n    paragraphToSetToFinalBossInRegister: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\nexport const setParagraphTypeInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  paragraphType\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_TYPE,\r\n    paragraphType: paragraphType,\r\n    paragraphToUpdateInRegisterWithType: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    }\r\n  };\r\n};\r\n\r\n// single function to handle update of hasLinkToNextParagraph and hasLinkToPreviousParagraph\r\nexport const setParagraphLinkStatusInRegister = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  nextorprevious,\r\n  status\r\n) => {\r\n  return {\r\n    type: SET_PARAGRAPH_LINK_STATUS,\r\n    paragraphToUpdateInRegisterWithLinkStatus: {\r\n      depthNumber: depthNumber,\r\n      paragraphNumber: paragraphNumber\r\n    },\r\n    nextorprevious,\r\n    status\r\n  };\r\n};\r\n\r\nexport const addParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: ADD_PARAGRAPH_LINK,\r\n    paragraphLinkToAddInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const removeParagraphLink = (\r\n  depthNumber,\r\n  paragraphNumber,\r\n  depthNumberOfLinkedParagraph,\r\n  paragraphNumberOfLinkedParagraph\r\n) => {\r\n  return {\r\n    type: REMOVE_PARAGRAPH_LINK,\r\n    paragraphLinkToRemoveInLinkRegister: {\r\n      depthNumber,\r\n      paragraphNumber,\r\n      depthNumberOfLinkedParagraph,\r\n      paragraphNumberOfLinkedParagraph\r\n    }\r\n  };\r\n};\r\n\r\nexport const syncRegistersInRedux = (\r\n  paragraphRegisterFromFirestore,\r\n  paragraphLinkRegisterFromFirestore,\r\n  numDepthLevelsFromFirestore\r\n) => {\r\n  return {\r\n    type: SYNC_REGISTERS_IN_REDUX,\r\n    paragraphRegisterFromFirestore,\r\n    paragraphLinkRegisterFromFirestore,\r\n    numDepthLevelsFromFirestore\r\n  };\r\n};\r\n\r\nexport const setToGlobalSaving = () => {\r\n  return {\r\n    type: SET_TO_GLOBAL_SAVING\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Paragraph from \"./Paragraph\";\r\n\r\nclass DepthLevel extends Component {\r\n  onDeleteParagraph = async (e, paragraphID) => {\r\n    const parNumber = parseInt(e.target.getAttribute(\"paragraphnumber\"), 10);\r\n    if (this.state.paragraphsInDepthLevel > 1) {\r\n      if (\r\n        window.confirm(\r\n          `Are you sure you want to delete this paragraph ? \\n \\n All content will be deleted and CANNOT BE RECOVERED.`\r\n        )\r\n      ) {\r\n        // removing paragraph in state, then filling the empty slot by cloning the next paragraphs and decreasing their paragraph number\r\n        await this.props.decreaseParagraphFromTotal(\r\n          this.props.depthNumber,\r\n          parNumber\r\n        );\r\n        await this.setState({\r\n          paragraphsInDepthLevel: this.state.paragraphsInDepthLevel - 1,\r\n          paragraphsArray: this.state.paragraphsArray.filter((el, index) => {\r\n            return index + 1 !== parNumber;\r\n          })\r\n        });\r\n\r\n        let paragraphsToUpdate = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index >= parNumber - 1;\r\n          }\r\n        );\r\n\r\n        let paragraphsToUpdateFinal = [];\r\n\r\n        paragraphsToUpdate.forEach(el => {\r\n          paragraphsToUpdateFinal.push(\r\n            React.cloneElement(el, {\r\n              paragraphNumber: el.props.paragraphNumber - 1\r\n            })\r\n          );\r\n        });\r\n\r\n        let paragraphsUnchanged = this.state.paragraphsArray.filter(\r\n          (el, index) => {\r\n            return index < parNumber - 1;\r\n          }\r\n        );\r\n\r\n        await this.setState({\r\n          paragraphsArray: [...paragraphsUnchanged, ...paragraphsToUpdateFinal]\r\n        });\r\n      }\r\n      // delete in Firestore database if paragraph has already been saved + update paragraphRegister and paragraphLinkRegister\r\n      const { firestore } = this.props;\r\n      let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n        el => el.id === paragraphID\r\n      );\r\n\r\n      if (paragraphToDeleteInDatabase) {\r\n        await firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            Paragraphs: firestore.FieldValue.arrayRemove(\r\n              paragraphToDeleteInDatabase\r\n            ),\r\n            NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n            paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n            paragraphLinkRegister: this.props.paragraphData\r\n              .paragraphLinkRegister\r\n          }\r\n        );\r\n\r\n        // delete files in Firebase Storage if existing\r\n\r\n        // Get a reference to the storage service, which is used to create references in your storage bucket\r\n        const storage = this.props.firebase.storage();\r\n\r\n        // Create a storage reference from our storage service\r\n        const storageRef = storage.ref();\r\n        const paragraphRef = storageRef.child(\r\n          `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n            this.props.depthNumber\r\n          } - ${parNumber}`\r\n        );\r\n        const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n        // delete startingSound and backgroundImage\r\n        if (paragraphList.items.length > 0) {\r\n          paragraphList.items.forEach(el => el.delete());\r\n        }\r\n        // delete outcome sounds and images if present\r\n        if (paragraphList.prefixes.length > 0) {\r\n          const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n          const soundsList = await soundsFolder.listAll();\r\n\r\n          soundsList.items.forEach(el => el.delete());\r\n\r\n          const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n          const imagesList = await imagesFolder.listAll();\r\n\r\n          imagesList.items.forEach(el => el.delete());\r\n        }\r\n      }\r\n    } else {\r\n      window.alert(\r\n        \"You cannot delete this paragraph, because there must be at least one paragraph in each depth level.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  state = {\r\n    paragraphsInDepthLevel: 1,\r\n    paragraphsArray: [\r\n      <Paragraph\r\n        key={1}\r\n        id={uuid.v4()}\r\n        paragraphNumber={1}\r\n        depthNumber={this.props.depthNumber}\r\n        deleteParagraph={this.onDeleteParagraph}\r\n        questID={this.props.questID}\r\n        numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n        bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n      />\r\n    ],\r\n    linkedParagraphs: 0\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    if (this.props.QuestUnderEdition !== undefined) {\r\n      let paragraphsToPrint = this.props.QuestUnderEdition.Paragraphs.filter(\r\n        el => el.depthNumber === this.props.depthNumber\r\n      );\r\n\r\n      if (paragraphsToPrint.length > 0) {\r\n        let linkedParagraphs = paragraphsToPrint.filter(\r\n          el => el.hasLinkToPreviousParagraph === true\r\n        );\r\n\r\n        // finding out the highest paragraph number among the saved paragraphs, then filling the paragraphsArrayFromFirestore Array with default paragraphs\r\n        let parNumberArray = [];\r\n        paragraphsToPrint.forEach(el =>\r\n          parNumberArray.push(el.paragraphNumber)\r\n        );\r\n        let max = parNumberArray.reduce(function(a, b) {\r\n          return Math.max(a, b);\r\n        });\r\n\r\n        let paragraphsArrayFromFirestore = [];\r\n\r\n        for (var i = 1; i <= max; i++) {\r\n          paragraphsArrayFromFirestore.push(\r\n            <Paragraph\r\n              key={i - 1}\r\n              id={uuid.v4()}\r\n              paragraphNumber={i}\r\n              depthNumber={this.props.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.questID}\r\n              numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        }\r\n\r\n        // replacing default paragraphs with saved paragraphs\r\n\r\n        paragraphsToPrint.forEach(el => {\r\n          paragraphsArrayFromFirestore[el.paragraphNumber - 1] = (\r\n            <Paragraph\r\n              key={el.paragraphNumber - 1}\r\n              id={el.id}\r\n              paragraphNumber={el.paragraphNumber}\r\n              depthNumber={el.depthNumber}\r\n              deleteParagraph={this.onDeleteParagraph}\r\n              questID={this.props.QuestUnderEdition.id}\r\n              numDepthLevels={this.props.QuestUnderEdition.numDepthLevels}\r\n              bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n            />\r\n          );\r\n        });\r\n\r\n        await this.setState({\r\n          paragraphsInDepthLevel: paragraphsToPrint.length,\r\n          linkedParagraphs: linkedParagraphs.length,\r\n          paragraphsArray: paragraphsArrayFromFirestore\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onAddParagraph = async () => {\r\n    await this.setState({\r\n      paragraphsInDepthLevel: this.state.paragraphsInDepthLevel + 1\r\n    });\r\n\r\n    await this.setState({\r\n      paragraphsArray: [\r\n        ...this.state.paragraphsArray,\r\n        <Paragraph\r\n          key={this.state.paragraphsInDepthLevel}\r\n          paragraphNumber={this.state.paragraphsInDepthLevel}\r\n          depthNumber={this.props.depthNumber}\r\n          id={uuid.v4()}\r\n          deleteParagraph={this.onDeleteParagraph}\r\n          questID={this.props.questID}\r\n          numDepthLevels={this.props.numDepthLevels.numDepthLevels}\r\n          bytesLimitForUploads={this.props.bytesLimitForUploads}\r\n        />\r\n      ]\r\n    });\r\n    await this.props.addParagraphToTotal(\r\n      this.props.depthNumber,\r\n      this.state.paragraphsInDepthLevel\r\n    );\r\n\r\n    this.el.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"center\",\r\n      inline: \"center\"\r\n    });\r\n  };\r\n\r\n  onDeleteDepthLevel = async e => {\r\n    let linkedParagraphs = e.currentTarget.parentElement.parentElement.children[1].getElementsByClassName(\r\n      \"linked-to-previous\"\r\n    );\r\n\r\n    if (linkedParagraphs.length !== 0) {\r\n      window.alert(\r\n        \"This depth level contains paragraphs that are linked to next or previous paragraphs. You must remove these links before you can delete these paragraphs and the depth level.\"\r\n      );\r\n    } else if (\r\n      window.confirm(\r\n        `Are you sure you want to delete this depth level ? \\n \\n All content from the paragraphs inside this depth level will be deleted and CANNOT BE RECOVERED.`\r\n      )\r\n    ) {\r\n      for (var i = 1; i <= this.state.paragraphsInDepthLevel; i += 1) {\r\n        // delete paragraph in Redux store\r\n        await this.props.decreaseParagraphFromTotal(this.props.depthNumber, i);\r\n\r\n        // delete paragraph in Firestore database and Firebase Storage if present\r\n        const { firestore } = this.props;\r\n        let paragraphToDeleteInDatabase = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.id === this.state.paragraphsArray[i - 1].props.id\r\n        );\r\n\r\n        if (paragraphToDeleteInDatabase) {\r\n          await firestore.update(\r\n            {\r\n              collection: \"QuestsInProgress\",\r\n              doc: this.props.QuestUnderEdition.id\r\n            },\r\n            {\r\n              Paragraphs: firestore.FieldValue.arrayRemove(\r\n                paragraphToDeleteInDatabase\r\n              )\r\n            }\r\n          );\r\n\r\n          // delete files in Firebase Storage if existing\r\n\r\n          // Get a reference to the storage service, which is used to create references in your storage bucket\r\n          const storage = this.props.firebase.storage();\r\n\r\n          // Create a storage reference from our storage service\r\n          const storageRef = storage.ref();\r\n          const paragraphRef = storageRef.child(\r\n            `${this.props.QuestUnderEdition.id}/Paragraph ${\r\n              this.props.depthNumber\r\n            } - ${i}`\r\n          );\r\n          const paragraphList = await paragraphRef.listAll(); // list of content inside paragraph\r\n\r\n          // delete startingSound and backgroundImage\r\n          if (paragraphList.items.length > 0) {\r\n            paragraphList.items.forEach(el => el.delete());\r\n          }\r\n          // delete outcome sounds and images if present\r\n          if (paragraphList.prefixes.length > 0) {\r\n            const soundsFolder = paragraphList.prefixes[0].child(\"Sounds\");\r\n\r\n            const soundsList = await soundsFolder.listAll();\r\n\r\n            soundsList.items.forEach(el => el.delete());\r\n\r\n            const imagesFolder = paragraphList.prefixes[0].child(\"Images\");\r\n\r\n            const imagesList = await imagesFolder.listAll();\r\n\r\n            imagesList.items.forEach(el => el.delete());\r\n          }\r\n        }\r\n      }\r\n\r\n      await this.props.deleteDepthLevel();\r\n      await this.props.firestore.update(\r\n        {\r\n          collection: \"QuestsInProgress\",\r\n          doc: this.props.QuestUnderEdition.id\r\n        },\r\n        {\r\n          numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n          //NbParagraphs: this.props.paragraphData.paragraphNumberTotal,\r\n          // paragraphRegister: this.props.paragraphData.paragraphRegister,\r\n          // paragraphLinkRegister: this.props.paragraphData.paragraphLinkRegister\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          className=\"level-depth-separation\"\r\n          style={{ textAlign: \"center\", marginTop: \"10px\" }}\r\n        >\r\n          <h5 style={{ display: \"inline-block\", marginBottom: \"0.25rem\" }}>\r\n            Depth Level {this.props.depthNumber}\r\n          </h5>\r\n          {this.props.depthNumber ===\r\n          this.props.numDepthLevels.numDepthLevels - 1 ? (\r\n            <button\r\n              style={{\r\n                display: \"inline-block\",\r\n                backgroundColor: \"transparent\",\r\n                border: \"none\"\r\n              }}\r\n              onClick={this.onDeleteDepthLevel}\r\n            >\r\n              <i className=\"fas fa-trash-alt\" />\r\n            </button>\r\n          ) : null}\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            alignItems: \"center\",\r\n            display: \"flex\",\r\n            overflowX: \"auto\"\r\n          }}\r\n        >\r\n          {this.state.paragraphsArray}\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Add Paragraph\"\r\n            className=\"btn btn-dark btn-block\"\r\n            style={{ width: \"auto\", margin: \"auto\" }}\r\n            onClick={this.onAddParagraph}\r\n            ref={el => {\r\n              this.el = el;\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.QuestUnderEdition.id\r\n    }\r\n  ]),\r\n  connect(state => ({\r\n    numDepthLevels: state.numDepthLevels,\r\n    paragraphNumberTotal: state.paragraphNumberTotal,\r\n    paragraphData: state.paragraphData\r\n  }))\r\n)(DepthLevel);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { Prompt } from \"react-router-dom\";\r\n\r\nimport uuid from \"uuid\";\r\n\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport Paragraph from \"./Paragraph\";\r\nimport DepthLevel from \"./DepthLevel\";\r\n\r\nimport {\r\n  addDepthLevel,\r\n  decreaseDepthLevel,\r\n  clearQuestData\r\n} from \"../../../actions/depthLevelActions\";\r\nimport {\r\n  addParagraphToTotal,\r\n  decreaseParagraphFromTotal,\r\n  syncRegistersInRedux,\r\n  setToGlobalSaving\r\n} from \"../../../actions/paragraphActions\";\r\n\r\nclass QuestBuilder extends Component {\r\n  state = {\r\n    initialID: \"\",\r\n    isLoading: true,\r\n    bytesLimitForUploads: 5000000\r\n  };\r\n\r\n  scrollToTarget(target) {\r\n    target.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  onAddDepthLevel = async () => {\r\n    let targetScroll = document.getElementById(\"targetscroll\");\r\n\r\n    await this.props.addDepthLevel(this.state.numDepthLevels);\r\n\r\n    await this.props.addParagraphToTotal(\r\n      this.props.numDepthLevels.numDepthLevels - 1,\r\n      1\r\n    );\r\n    this.scrollToTarget(targetScroll);\r\n  };\r\n\r\n  onDeleteDepthLevel = targetScroll => {\r\n    this.props.decreaseDepthLevel(this.state.numDepthLevels);\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidMount = async () => {\r\n    if (\r\n      this.props.QuestUnderEdition !== undefined &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies, also adjusting numDepthLevels in Redux\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    } else await this.setState({ isLoading: true });\r\n  };\r\n\r\n  // fetching numDepthLevels from firestore to set the initial number of depth levels to render\r\n  componentDidUpdate = async prevProps => {\r\n    // sync only if change of QuestUnderEdition props while previous QuestUnderEdition props is undefined or has a different id and new QuestUnderEdition.id props match the id in the route\r\n    if (\r\n      this.props.QuestUnderEdition !== prevProps.QuestUnderEdition &&\r\n      (prevProps.QuestUnderEdition === undefined ||\r\n        (prevProps.QuestUnderEdition.id &&\r\n          prevProps.QuestUnderEdition.id !== this.props.match.params.id)) &&\r\n      this.props.QuestUnderEdition.id === this.props.match.params.id\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.QuestUnderEdition.numDepthLevels\r\n      });\r\n      // initial sync between Redux and Firestore for paragraphRegister and paragraphLinkRegister using shallow copies\r\n\r\n      let paragraphRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphRegister.forEach(el =>\r\n        paragraphRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let paragraphLinkRegisterFromFirestore = [];\r\n      this.props.QuestUnderEdition.paragraphLinkRegister.forEach(el =>\r\n        paragraphLinkRegisterFromFirestore.push({ ...el })\r\n      );\r\n\r\n      let numDepthLevelsFromFirestore = this.props.QuestUnderEdition\r\n        .numDepthLevels;\r\n\r\n      await this.props.syncRegistersInRedux(\r\n        paragraphRegisterFromFirestore,\r\n        paragraphLinkRegisterFromFirestore,\r\n        numDepthLevelsFromFirestore\r\n      );\r\n      if (\r\n        this.props.QuestUnderEdition.Paragraphs.find(el => el.depthNumber === 0)\r\n      ) {\r\n        const startingParagraph = this.props.QuestUnderEdition.Paragraphs.find(\r\n          el => el.depthNumber === 0\r\n        );\r\n        await this.setState({\r\n          initialID: startingParagraph.id\r\n        });\r\n      } else {\r\n        const initialID = uuid.v4();\r\n        await this.setState({ initialID });\r\n      }\r\n\r\n      await this.setState({ isLoading: false });\r\n    }\r\n\r\n    if (\r\n      this.props.numDepthLevels.numDepthLevels !==\r\n      prevProps.numDepthLevels.numDepthLevels\r\n    ) {\r\n      await this.setState({\r\n        numDepthLevels: this.props.numDepthLevels.numDepthLevels\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount = async () => {\r\n    this.props.clearQuestData();\r\n  };\r\n\r\n  onSaveUnderEdition = async e => {\r\n    // inform all paragraphs that a global save is ongoing to stop the normal \"paragraph data has been saved\" message\r\n    await this.props.setToGlobalSaving();\r\n\r\n    // getting HMTLCollection then array of all \"Save Paragraph\" buttons\r\n    let saveInputElementsHTMLCollection = document.getElementsByClassName(\r\n      \"paragraph-save\"\r\n    );\r\n    let saveInputElementsArray = Array.from(saveInputElementsHTMLCollection);\r\n\r\n    // programmatically click on all of them\r\n    saveInputElementsArray.map(el => el.click());\r\n\r\n    // leave 1 second so Paragraphs have the state of \"isSaving\" as true after clicking on them\r\n    let checkIfSavingIsFinished = () => {\r\n      setTimeout(checkHTMLCollection, 2000);\r\n    };\r\n\r\n    // loop until all paragraphs have the state of \"isSaving\" as false\r\n    let checkHTMLCollection = async () => {\r\n      let paragraphsSavingHTMLCollection = document.getElementsByClassName(\r\n        \"isSaving\"\r\n      );\r\n      if (paragraphsSavingHTMLCollection.length === 0) {\r\n        // mark the QuestUnderEdition as having gone through a Global Save\r\n        await this.props.firestore.update(\r\n          {\r\n            collection: \"QuestsInProgress\",\r\n            doc: this.props.QuestUnderEdition.id\r\n          },\r\n          {\r\n            globalSaveCounter: 1\r\n          }\r\n        );\r\n        // remove isGlobalSaving in Redux\r\n        await this.props.setToGlobalSaving();\r\n        window.alert(\"Full save complete !\");\r\n      } else checkIfSavingIsFinished();\r\n    };\r\n\r\n    // this bindings to access this.props and function execution\r\n    checkIfSavingIsFinished.bind(this);\r\n    checkHTMLCollection.bind(this);\r\n    checkIfSavingIsFinished();\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoading) {\r\n      const depthLevels = [];\r\n      const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n      for (var i = 1; i < this.state.numDepthLevels; i += 1) {\r\n        depthLevels.push(\r\n          <DepthLevel\r\n            key={i}\r\n            depthNumber={i}\r\n            addParagraphToTotal={this.props.addParagraphToTotal}\r\n            decreaseParagraphFromTotal={this.props.decreaseParagraphFromTotal}\r\n            deleteDepthLevel={this.onDeleteDepthLevel}\r\n            numDepthLevels={this.state.numDepthLevels}\r\n            QuestUnderEdition={\r\n              this.props.QuestUnderEdition ? this.props.QuestUnderEdition : null\r\n            }\r\n            bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n          />\r\n        );\r\n      }\r\n\r\n      return (\r\n        <div className=\"quest-builder-container\">\r\n          <Prompt\r\n            message={`Are you sure you want to leave the page ? All unsaved changes will be lost.`}\r\n          />\r\n          <div style={{ position: \"relative\" }}>\r\n            <h2\r\n              style={{\r\n                position: \"relative\",\r\n                margin: \"auto\",\r\n                display: \"inline-block\",\r\n                textAlign: \"center\",\r\n                left: \"50%\",\r\n                transform: \"translateX(-50%)\"\r\n              }}\r\n            >\r\n              Quest Builder\r\n            </h2>\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Global Save\"\r\n              className=\"btn btn-dark btn-block\"\r\n              style={{\r\n                width: \"auto\",\r\n                float: \"right\",\r\n                marginRight: \"20px\",\r\n                display: \"inline-block\"\r\n              }}\r\n              id=\"savequest\"\r\n              onClick={this.onSaveUnderEdition}\r\n            />\r\n            <hr />\r\n            <h3\r\n              style={{\r\n                textAlign: \"center\",\r\n                fontStyle: \"italic\",\r\n                display: \"block\"\r\n              }}\r\n            >\r\n              {QuestUnderEdition.Title}\r\n            </h3>\r\n          </div>\r\n          <div className=\"depth-levels-container\" style={{ marginTop: \"10px\" }}>\r\n            <div className=\"depth-level-0\">\r\n              <div\r\n                className=\"level-depth-separation\"\r\n                style={{ textAlign: \"center\" }}\r\n              >\r\n                <h5>Depth Level 0</h5>\r\n              </div>\r\n              <Paragraph\r\n                key={1}\r\n                id={this.state.initialID}\r\n                depthNumber={0}\r\n                paragraphNumber={1}\r\n                bytesLimitForUploads={this.state.bytesLimitForUploads}\r\n              />\r\n              <div\r\n                className=\"depth-level-additional\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                {depthLevels}\r\n              </div>\r\n              <div>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Add Another Depth Level\"\r\n                  className=\"btn btn-dark btn-block\"\r\n                  onClick={e => this.onAddDepthLevel(e)}\r\n                  style={{ marginTop: \"5px\" }}\r\n                  id=\"targetscroll\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(\r\n    state => ({\r\n      numDepthLevels: state.numDepthLevels,\r\n      paragraphNumberTotal: state.paragraphNumberTotal,\r\n      QuestUnderEdition:\r\n        state.firestore.ordered.QuestUnderEdition &&\r\n        state.firestore.ordered.QuestUnderEdition[0]\r\n    }),\r\n    {\r\n      addDepthLevel,\r\n      decreaseDepthLevel,\r\n      addParagraphToTotal,\r\n      decreaseParagraphFromTotal,\r\n      syncRegistersInRedux,\r\n      clearQuestData,\r\n      setToGlobalSaving\r\n    }\r\n  )\r\n)(QuestBuilder);\r\n","import {\r\n  ADD_DEPTH_LEVEL,\r\n  DECREASE_DEPTH_LEVEL,\r\n  CLEAR_QUEST_DATA\r\n} from \"./types\";\r\n\r\nexport const addDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: ADD_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const decreaseDepthLevel = currentNumDepthLevels => {\r\n  return {\r\n    type: DECREASE_DEPTH_LEVEL,\r\n    currentNumDepthLevels: currentNumDepthLevels\r\n  };\r\n};\r\n\r\nexport const clearQuestData = () => {\r\n  return {\r\n    type: CLEAR_QUEST_DATA\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Spinner from \"../layout/Spinner\";\r\nimport curday from \"./CurrentDay\";\r\n\r\nclass QuestDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // create refs\r\n    this.TitleInput = React.createRef();\r\n    this.TagsInput = React.createRef();\r\n    this.PriceInput = React.createRef();\r\n    this.LevelInput = React.createRef();\r\n    this.LinkInput = React.createRef();\r\n    this.LocationInput = React.createRef();\r\n    this.SummaryInput = React.createRef();\r\n  }\r\n\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const { firestore, QuestUnderEdition } = this.props;\r\n\r\n    const questUpdate = {\r\n      Title: this.TitleInput.current.value,\r\n      Tags: this.TagsInput.current.value,\r\n      Price: this.PriceInput.current.value,\r\n      Level: this.LevelInput.current.value,\r\n      Link: this.LinkInput.current.value,\r\n      Location: this.LocationInput.current.value,\r\n      Summary: this.SummaryInput.current.value,\r\n      LastEditDate: curday()\r\n    };\r\n\r\n    firestore\r\n      .update(\r\n        { collection: \"QuestsInProgress\", doc: QuestUnderEdition.id },\r\n        questUpdate\r\n      )\r\n      .then(() => this.props.history.push(\"/questeditor/inprogress/\"));\r\n  };\r\n\r\n  render() {\r\n    const QuestUnderEdition = this.props.QuestUnderEdition;\r\n\r\n    if (QuestUnderEdition) {\r\n      return (\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\",\r\n            width: \"60%\"\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              margin: \"auto\",\r\n              display: \"block\",\r\n              textAlign: \"center\",\r\n              paddingTop: \"15px\"\r\n            }}\r\n          >\r\n            Quest Parameters{\" \"}\r\n          </h1>\r\n          <div style={{ height: \"15px\" }} />\r\n          <div className=\"row\">\r\n            <Link to=\"/questeditor/inprogress/\" className=\"btn\" id=\"BackToMenu\">\r\n              <i className=\"fas fa-arrow-circle-left\" id=\"BackToMenu\" /> Back to\r\n              Quests in Progress\r\n            </Link>\r\n          </div>\r\n          <form onSubmit={this.onSubmit}>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTitle\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Title\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Title}\r\n                  onChange={this.onChange}\r\n                  ref={this.TitleInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestTags\">\r\n                  Tags\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Tags\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Tags}\r\n                  onChange={this.onChange}\r\n                  ref={this.TagsInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestPrice\">\r\n                  Price\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Price\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Price}\r\n                  onChange={this.onChange}\r\n                  ref={this.PriceInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLevel\">\r\n                  Level\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Level\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Level}\r\n                  onChange={this.onChange}\r\n                  ref={this.LevelInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}\r\n            >\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLink\">\r\n                  Link\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Link\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Link}\r\n                  onChange={this.onChange}\r\n                  ref={this.LinkInput}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n                <label className=\"label-parameter\" htmlFor=\"QuestLocation\">\r\n                  Location\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"Location\"\r\n                  style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                  defaultValue={QuestUnderEdition.Location}\r\n                  onChange={this.onChange}\r\n                  ref={this.LocationInput}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              className=\"form-row\"\r\n              style={{\r\n                paddingLeft: \"10px\",\r\n                paddingRight: \"10px\",\r\n                paddingBottom: \"10px\"\r\n              }}\r\n            >\r\n              <label className=\"label-parameter\" htmlFor=\"Text\">\r\n                Summary\r\n              </label>\r\n              <textarea\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"Summary\"\r\n                maxLength=\"100\"\r\n                rows=\"2\"\r\n                style={{ backgroundColor: \"rgba(0, 0, 0, 0.5)\" }}\r\n                defaultValue={QuestUnderEdition.Summary}\r\n                onChange={this.onChange}\r\n                ref={this.SummaryInput}\r\n              />\r\n            </div>\r\n            <div style={{ height: \"10px\" }} />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                left: \"50%\",\r\n                position: \"absolute\",\r\n                transform: \"translateX(-50%)\",\r\n                marginTop: \"15px\"\r\n              }}\r\n            >\r\n              Save and update quest parameters{\" \"}\r\n            </button>\r\n          </form>\r\n          <div className=\"row\">\r\n            <Link\r\n              to={`/questeditor/questbuilder/${QuestUnderEdition.id}`}\r\n              className=\"btn btn-dark\"\r\n              style={{\r\n                width: \"25%\",\r\n                margin: \"auto\",\r\n                display: \"block\",\r\n                marginTop: \"65px\"\r\n              }}\r\n            >\r\n              Go to Quest Builder\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <Spinner\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -40%)\",\r\n            marginTop: \"-50px\"\r\n          }}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nQuestDetails.propTypes = {\r\n  firestore: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firestoreConnect(props => [\r\n    {\r\n      collection: \"QuestsInProgress\",\r\n      storeAs: \"QuestUnderEdition\",\r\n      doc: props.match.params.id\r\n    }\r\n  ]),\r\n  connect(({ firestore: { ordered } }, props) => ({\r\n    QuestUnderEdition: ordered.QuestUnderEdition && ordered.QuestUnderEdition[0]\r\n  }))\r\n)(QuestDetails);\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Alert = props => {\r\n  const { message, messageType } = props;\r\n  return (\r\n    <div\r\n      className={classnames(\"alert\", {\r\n        \"alert-ok\": messageType === \"success\",\r\n        \"alert-failed\":\r\n          messageType === \"error-login\" || messageType === \"error-register\"\r\n      })}\r\n    >\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nAlert.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n  messageType: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Alert;\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password } = this.state;\r\n    firebase\r\n      .login({\r\n        email,\r\n        password\r\n      })\r\n      .catch(err => notifyUser(\"Invalid Login Credentials !\", \"error-login\"));\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-login\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-login\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fas fa-lock\" /> Login\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Login\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Login);\r\n","import PropTypes from \"prop-types\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { firebaseConnect } from \"react-redux-firebase\";\r\nimport { notifyUser } from \"../../actions/notifyActions\";\r\nimport Alert from \"../layout/Alert\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    accountName: \"\"\r\n  };\r\n\r\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\r\n  onSubmit = async e => {\r\n    e.preventDefault();\r\n    const { firebase, notifyUser } = this.props;\r\n    const { email, password, accountName } = this.state;\r\n    //Register with firebase\r\n    await firebase\r\n      .createUser({ email, password })\r\n      .catch(err => notifyUser(\"That User Already Exists\", \"error-register\"));\r\n    var user = await firebase.auth().currentUser;\r\n    if (user) {\r\n      await user.updateProfile({ displayName: accountName });\r\n      this.props.history.push(\"/questeditor/menu/\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { message, messageType } = this.props.notify;\r\n\r\n    return (\r\n      <div\r\n        className=\"container\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -40%)\",\r\n          marginTop: \"-50px\"\r\n        }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 mx-auto\">\r\n            <div className=\"card card-register\">\r\n              <div className=\"card-body\">\r\n                {messageType === \"error-register\" ? (\r\n                  <Alert message={message} messageType={messageType} />\r\n                ) : null}\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-secondary\">\r\n                    <i className=\"fa fa-user-circle\" /> Register\r\n                  </span>\r\n                </h1>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"accountName\">Account Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"accountName\"\r\n                      required\r\n                      value={this.state.accountName}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"email\"\r\n                      required\r\n                      value={this.state.email}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      name=\"password\"\r\n                      minLength=\"6\"\r\n                      required\r\n                      value={this.state.password}\r\n                      onChange={this.onChange}\r\n                    />\r\n                  </div>\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Register\"\r\n                    className=\"btn btn-dark btn-block\"\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTyopes = {\r\n  firebase: PropTypes.object.isRequired,\r\n  notify: PropTypes.object.isRequired,\r\n  notifyUser: PropTypes.func.isRequired\r\n};\r\n\r\nexport default compose(\r\n  firebaseConnect(),\r\n  connect(\r\n    (state, props) => ({\r\n      notify: state.notify\r\n    }),\r\n    { notifyUser }\r\n  )\r\n)(Register);\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./components/store\";\nimport { UserIsAuthenticated, UserIsNotAuthenticated } from \"./helpers/auth\";\n\nimport \"./App.css\";\n\nimport AppNavbar from \"./components/layout/AppNavbar\";\nimport QuestEditorMenu from \"./components/questeditor/QuestEditorMenu\";\nimport NewQuest from \"./components/questeditor/NewQuest\";\nimport QuestsInProgress from \"./components/questeditor/QuestsInProgress\";\nimport QuestsSubmitted from \"./components/questeditor/QuestsSubmitted\";\nimport QuestBuilder from \"./components/questeditor/questbuilder/QuestBuilder\";\nimport QuestDetails from \"./components/questeditor/QuestDetails\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <AppNavbar />\n            <Switch>\n              <Route\n                exact\n                path=\"/login/\"\n                component={UserIsNotAuthenticated(Login)}\n              />\n              <Route\n                exact\n                path=\"/register/\"\n                component={UserIsNotAuthenticated(Register)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/menu/\"\n                component={UserIsAuthenticated(QuestEditorMenu)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/newquest/\"\n                component={UserIsAuthenticated(NewQuest)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/inprogress/\"\n                component={UserIsAuthenticated(QuestsInProgress)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/submitted/\"\n                component={UserIsAuthenticated(QuestsSubmitted)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/questbuilder/:id\"\n                component={UserIsAuthenticated(QuestBuilder)}\n              />\n              <Route\n                exact\n                path=\"/questeditor/details/:id\"\n                component={UserIsAuthenticated(QuestDetails)}\n              />\n            </Switch>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/spinner.8e9c6f69.png\";","module.exports = __webpack_public_path__ + \"static/media/notredame.6adb7e36.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dialogue-default-background.839ae3da.jpg\";","module.exports = __webpack_public_path__ + \"static/media/path-default-background.f2992f47.jpg\";","module.exports = __webpack_public_path__ + \"static/media/riddle-default-question.a3df9d75.jpg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/combat-default-background.01ec8566.jpg\";"],"sourceRoot":""}